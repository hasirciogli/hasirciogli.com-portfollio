var _G=Object.create;var dC=Object.defineProperty;var FG=Object.getOwnPropertyDescriptor;var IG=Object.getOwnPropertyNames;var NG=Object.getPrototypeOf,LG=Object.prototype.hasOwnProperty;var JR=(e,t)=>()=>(e&&(t=e(e=0)),t);var ws=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),XR=(e,t)=>{for(var n in t)dC(e,n,{get:t[n],enumerable:!0})},zG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of IG(t))!LG.call(e,i)&&i!==n&&dC(e,i,{get:()=>t[i],enumerable:!(r=FG(t,i))||r.enumerable});return e};var D=(e,t,n)=>(n=e!=null?_G(NG(e)):{},zG(t||!e||!e.__esModule?dC(n,"default",{value:e,enumerable:!0}):n,e));var PG,ZR,HG,e8,VG,UG,Ir,jG,xs,pd=JR(()=>{"use strict";b();PG=Object.create,ZR=Object.defineProperty,HG=Object.getOwnPropertyDescriptor,e8=Object.getOwnPropertyNames,VG=Object.getPrototypeOf,UG=Object.prototype.hasOwnProperty,Ir=(e,t)=>function(){return t||(0,e[e8(e)[0]])((t={exports:{}}).exports,t),t.exports},jG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of e8(t))!UG.call(e,i)&&i!==n&&ZR(e,i,{get:()=>t[i],enumerable:!(r=HG(t,i))||r.enumerable});return e},xs=(e,t,n)=>(n=e!=null?PG(VG(e)):{},jG(t||!e||!e.__esModule?ZR(n,"default",{value:e,enumerable:!0}):n,e))});var $G,C,b=JR(()=>{"use strict";$G=new Set(["FORCE_COLOR","NODE_ENV"]),C={env:new Proxy({},{get(e,t){$G.has(t)||console.warn(`process.env.${t} is not defined on the client. If this variable is required in the browser, prefix the variable with PUBLIC_ and restart Alinea.`)}})}});var B8=ws(bn=>{"use strict";b();function DC(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(0<ly(i,t))e[r]=t,e[n]=i,n=r;else break e}}function Cs(e){return e.length===0?null:e[0]}function cy(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,s=e[a],l=a+1,u=e[l];if(0>ly(s,n))l<i&&0>ly(u,s)?(e[r]=u,e[l]=n,r=l):(e[r]=s,e[a]=n,r=a);else if(l<i&&0>ly(u,n))e[r]=u,e[l]=n,r=l;else break e}}return t}function ly(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}bn.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(S8=performance,bn.unstable_now=function(){return S8.now()}):(AC=Date,C8=AC.now(),bn.unstable_now=function(){return AC.now()-C8});var S8,AC,C8,bl=[],Ou=[],OQ=1,ea=null,ti=3,MC=!1,r0=!1,i0=!1,RC=!1,k8=typeof setTimeout=="function"?setTimeout:null,D8=typeof clearTimeout=="function"?clearTimeout:null,A8=typeof setImmediate<"u"?setImmediate:null;function uy(e){for(var t=Cs(Ou);t!==null;){if(t.callback===null)cy(Ou);else if(t.startTime<=e)cy(Ou),t.sortIndex=t.expirationTime,DC(bl,t);else break;t=Cs(Ou)}}function OC(e){if(i0=!1,uy(e),!r0)if(Cs(bl)!==null)r0=!0,eh||(eh=!0,Zf());else{var t=Cs(Ou);t!==null&&BC(OC,t.startTime-e)}}var eh=!1,o0=-1,M8=5,R8=-1;function O8(){return RC?!0:!(bn.unstable_now()-R8<M8)}function TC(){if(RC=!1,eh){var e=bn.unstable_now();R8=e;var t=!0;try{e:{r0=!1,i0&&(i0=!1,D8(o0),o0=-1),MC=!0;var n=ti;try{t:{for(uy(e),ea=Cs(bl);ea!==null&&!(ea.expirationTime>e&&O8());){var r=ea.callback;if(typeof r=="function"){ea.callback=null,ti=ea.priorityLevel;var i=r(ea.expirationTime<=e);if(e=bn.unstable_now(),typeof i=="function"){ea.callback=i,uy(e),t=!0;break t}ea===Cs(bl)&&cy(bl),uy(e)}else cy(bl);ea=Cs(bl)}if(ea!==null)t=!0;else{var o=Cs(Ou);o!==null&&BC(OC,o.startTime-e),t=!1}}break e}finally{ea=null,ti=n,MC=!1}t=void 0}}finally{t?Zf():eh=!1}}}var Zf;typeof A8=="function"?Zf=function(){A8(TC)}:typeof MessageChannel<"u"?(kC=new MessageChannel,T8=kC.port2,kC.port1.onmessage=TC,Zf=function(){T8.postMessage(null)}):Zf=function(){k8(TC,0)};var kC,T8;function BC(e,t){o0=k8(function(){e(bn.unstable_now())},t)}bn.unstable_IdlePriority=5;bn.unstable_ImmediatePriority=1;bn.unstable_LowPriority=4;bn.unstable_NormalPriority=3;bn.unstable_Profiling=null;bn.unstable_UserBlockingPriority=2;bn.unstable_cancelCallback=function(e){e.callback=null};bn.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M8=0<e?Math.floor(1e3/e):5};bn.unstable_getCurrentPriorityLevel=function(){return ti};bn.unstable_next=function(e){switch(ti){case 1:case 2:case 3:var t=3;break;default:t=ti}var n=ti;ti=t;try{return e()}finally{ti=n}};bn.unstable_requestPaint=function(){RC=!0};bn.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=ti;ti=e;try{return t()}finally{ti=n}};bn.unstable_scheduleCallback=function(e,t,n){var r=bn.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=n+i,e={id:OQ++,callback:t,priorityLevel:e,startTime:n,expirationTime:i,sortIndex:-1},n>r?(e.sortIndex=n,DC(Ou,e),Cs(bl)===null&&e===Cs(Ou)&&(i0?(D8(o0),o0=-1):i0=!0,BC(OC,n-r))):(e.sortIndex=i,DC(bl,e),r0||MC||(r0=!0,eh||(eh=!0,Zf()))),e};bn.unstable_shouldYield=O8;bn.unstable_wrapCallback=function(e){var t=ti;return function(){var n=ti;ti=t;try{return e.apply(this,arguments)}finally{ti=n}}}});var F8=ws((GSe,_8)=>{"use strict";b();_8.exports=B8()});var q8=ws(je=>{"use strict";b();var IC=Symbol.for("react.transitional.element"),BQ=Symbol.for("react.portal"),_Q=Symbol.for("react.fragment"),FQ=Symbol.for("react.strict_mode"),IQ=Symbol.for("react.profiler"),NQ=Symbol.for("react.consumer"),LQ=Symbol.for("react.context"),zQ=Symbol.for("react.forward_ref"),PQ=Symbol.for("react.suspense"),HQ=Symbol.for("react.memo"),P8=Symbol.for("react.lazy"),VQ=Symbol.for("react.activity"),I8=Symbol.iterator;function UQ(e){return e===null||typeof e!="object"?null:(e=I8&&e[I8]||e["@@iterator"],typeof e=="function"?e:null)}var H8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V8=Object.assign,U8={};function nh(e,t,n){this.props=e,this.context=t,this.refs=U8,this.updater=n||H8}nh.prototype.isReactComponent={};nh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function j8(){}j8.prototype=nh.prototype;function NC(e,t,n){this.props=e,this.context=t,this.refs=U8,this.updater=n||H8}var LC=NC.prototype=new j8;LC.constructor=NC;V8(LC,nh.prototype);LC.isPureReactComponent=!0;var N8=Array.isArray;function FC(){}var fn={H:null,A:null,T:null,S:null},$8=Object.prototype.hasOwnProperty;function zC(e,t,n){var r=n.ref;return{$$typeof:IC,type:e,key:t,ref:r!==void 0?r:null,props:n}}function jQ(e,t){return zC(e.type,t,e.props)}function PC(e){return typeof e=="object"&&e!==null&&e.$$typeof===IC}function $Q(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var L8=/\/+/g;function _C(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$Q(""+e.key):t.toString(36)}function qQ(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(FC,FC):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function th(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case IC:case BQ:a=!0;break;case P8:return a=e._init,th(a(e._payload),t,n,r,i)}}if(a)return i=i(e),a=r===""?"."+_C(e,0):r,N8(i)?(n="",a!=null&&(n=a.replace(L8,"$&/")+"/"),th(i,t,n,"",function(u){return u})):i!=null&&(PC(i)&&(i=jQ(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(L8,"$&/")+"/")+a)),t.push(i)),1;a=0;var s=r===""?".":r+":";if(N8(e))for(var l=0;l<e.length;l++)r=e[l],o=s+_C(r,l),a+=th(r,t,n,o,i);else if(l=UQ(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,o=s+_C(r,l++),a+=th(r,t,n,o,i);else if(o==="object"){if(typeof e.then=="function")return th(qQ(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function dy(e,t,n){if(e==null)return e;var r=[],i=0;return th(e,r,"","",function(o){return t.call(n,o,i++)}),r}function KQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var z8=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof C=="object"&&typeof C.emit=="function"){C.emit("uncaughtException",e);return}console.error(e)},YQ={map:dy,forEach:function(e,t,n){dy(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dy(e,function(){t++}),t},toArray:function(e){return dy(e,function(t){return t})||[]},only:function(e){if(!PC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Activity=VQ;je.Children=YQ;je.Component=nh;je.Fragment=_Q;je.Profiler=IQ;je.PureComponent=NC;je.StrictMode=FQ;je.Suspense=PQ;je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fn;je.__COMPILER_RUNTIME={__proto__:null,c:function(e){return fn.H.useMemoCache(e)}};je.cache=function(e){return function(){return e.apply(null,arguments)}};je.cacheSignal=function(){return null};je.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=V8({},e.props),i=e.key;if(t!=null)for(o in t.key!==void 0&&(i=""+t.key),t)!$8.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return zC(e.type,i,r)};je.createContext=function(e){return e={$$typeof:LQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:NQ,_context:e},e};je.createElement=function(e,t,n){var r,i={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)$8.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return zC(e,o,i)};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:zQ,render:e}};je.isValidElement=PC;je.lazy=function(e){return{$$typeof:P8,_payload:{_status:-1,_result:e},_init:KQ}};je.memo=function(e,t){return{$$typeof:HQ,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=fn.T,n={};fn.T=n;try{var r=e(),i=fn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(FC,z8)}catch(o){z8(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),fn.T=t}};je.unstable_useCacheRefresh=function(){return fn.H.useCacheRefresh()};je.use=function(e){return fn.H.use(e)};je.useActionState=function(e,t,n){return fn.H.useActionState(e,t,n)};je.useCallback=function(e,t){return fn.H.useCallback(e,t)};je.useContext=function(e){return fn.H.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e,t){return fn.H.useDeferredValue(e,t)};je.useEffect=function(e,t){return fn.H.useEffect(e,t)};je.useEffectEvent=function(e){return fn.H.useEffectEvent(e)};je.useId=function(){return fn.H.useId()};je.useImperativeHandle=function(e,t,n){return fn.H.useImperativeHandle(e,t,n)};je.useInsertionEffect=function(e,t){return fn.H.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return fn.H.useLayoutEffect(e,t)};je.useMemo=function(e,t){return fn.H.useMemo(e,t)};je.useOptimistic=function(e,t){return fn.H.useOptimistic(e,t)};je.useReducer=function(e,t,n){return fn.H.useReducer(e,t,n)};je.useRef=function(e){return fn.H.useRef(e)};je.useState=function(e){return fn.H.useState(e)};je.useSyncExternalStore=function(e,t,n){return fn.H.useSyncExternalStore(e,t,n)};je.useTransition=function(){return fn.H.useTransition()};je.version="19.2.0"});var $=ws((ZSe,K8)=>{"use strict";b();K8.exports=q8()});var W8=ws(xi=>{"use strict";b();var WQ=$();function Y8(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bu(){}var wi={d:{f:Bu,r:function(){throw Error(Y8(522))},D:Bu,C:Bu,L:Bu,m:Bu,X:Bu,S:Bu,M:Bu},p:0,findDOMNode:null},GQ=Symbol.for("react.portal");function QQ(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:GQ,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var a0=WQ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fy(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}xi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wi;xi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Y8(299));return QQ(e,t,null,n)};xi.flushSync=function(e){var t=a0.T,n=wi.p;try{if(a0.T=null,wi.p=2,e)return e()}finally{a0.T=t,wi.p=n,wi.d.f()}};xi.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,wi.d.C(e,t))};xi.prefetchDNS=function(e){typeof e=="string"&&wi.d.D(e)};xi.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=fy(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?wi.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):n==="script"&&wi.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};xi.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=fy(t.as,t.crossOrigin);wi.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&wi.d.M(e)};xi.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=fy(n,t.crossOrigin);wi.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};xi.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=fy(t.as,t.crossOrigin);wi.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else wi.d.m(e)};xi.requestFormReset=function(e){wi.d.r(e)};xi.unstable_batchedUpdates=function(e,t){return e(t)};xi.useFormState=function(e,t,n){return a0.H.useFormState(e,t,n)};xi.useFormStatus=function(){return a0.H.useHostTransitionStatus()};xi.version="19.2.0"});var Ei=ws((rCe,Q8)=>{"use strict";b();function G8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G8)}catch(e){console.error(e)}}G8(),Q8.exports=W8()});var lI=ws(Lb=>{"use strict";b();var lr=F8(),EB=$(),JQ=Ei();function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function SB(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function K0(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function CB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AB(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function J8(e){if(K0(e)!==e)throw Error(X(188))}function XQ(e){var t=e.alternate;if(!t){if(t=K0(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return J8(i),e;if(o===r)return J8(i),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function TB(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=TB(e),t!==null)return t;e=e.sibling}return null}var mn=Object.assign,ZQ=Symbol.for("react.element"),hy=Symbol.for("react.transitional.element"),p0=Symbol.for("react.portal"),lh=Symbol.for("react.fragment"),kB=Symbol.for("react.strict_mode"),b5=Symbol.for("react.profiler"),DB=Symbol.for("react.consumer"),kl=Symbol.for("react.context"),pA=Symbol.for("react.forward_ref"),w5=Symbol.for("react.suspense"),x5=Symbol.for("react.suspense_list"),mA=Symbol.for("react.memo"),_u=Symbol.for("react.lazy");Symbol.for("react.scope");var E5=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var eJ=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var X8=Symbol.iterator;function s0(e){return e===null||typeof e!="object"?null:(e=X8&&e[X8]||e["@@iterator"],typeof e=="function"?e:null)}var tJ=Symbol.for("react.client.reference");function S5(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tJ?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lh:return"Fragment";case b5:return"Profiler";case kB:return"StrictMode";case w5:return"Suspense";case x5:return"SuspenseList";case E5:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case p0:return"Portal";case kl:return e.displayName||"Context";case DB:return(e._context.displayName||"Context")+".Consumer";case pA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mA:return t=e.displayName||null,t!==null?t:S5(e.type)||"Memo";case _u:t=e._payload,e=e._init;try{return S5(e(t))}catch{}}return null}var m0=Array.isArray,Ne=EB.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bt=JQ.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xd={pending:!1,data:null,method:null,action:null},C5=[],uh=-1;function Ms(e){return{current:e}}function Er(e){0>uh||(e.current=C5[uh],C5[uh]=null,uh--)}function tn(e,t){uh++,C5[uh]=e.current,e.current=t}var Ds=Ms(null),B0=Ms(null),$u=Ms(null),Ky=Ms(null);function Yy(e,t){switch(tn($u,t),tn(B0,e),tn(Ds,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?oB(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=oB(t),e=WF(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Er(Ds),tn(Ds,e)}function kh(){Er(Ds),Er(B0),Er($u)}function A5(e){e.memoizedState!==null&&tn(Ky,e);var t=Ds.current,n=WF(t,e.type);t!==n&&(tn(B0,e),tn(Ds,n))}function Wy(e){B0.current===e&&(Er(Ds),Er(B0)),Ky.current===e&&(Er(Ky),j0._currentValue=xd)}var HC,Z8;function vd(e){if(HC===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);HC=t&&t[1]||"",Z8=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+HC+e+Z8}var VC=!1;function UC(e,t){if(!e||VC)return"";VC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var f=h}Reflect.construct(e,[],d)}else{try{d.call()}catch(h){f=h}e.call(d.prototype)}}else{try{throw Error()}catch(h){f=h}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i);break}}}finally{VC=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?vd(n):""}function nJ(e,t){switch(e.tag){case 26:case 27:case 5:return vd(e.type);case 16:return vd("Lazy");case 13:return e.child!==t&&t!==null?vd("Suspense Fallback"):vd("Suspense");case 19:return vd("SuspenseList");case 0:case 15:return UC(e.type,!1);case 11:return UC(e.type.render,!1);case 1:return UC(e.type,!0);case 31:return vd("Activity");default:return""}}function eO(e){try{var t="",n=null;do t+=nJ(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var T5=Object.prototype.hasOwnProperty,gA=lr.unstable_scheduleCallback,jC=lr.unstable_cancelCallback,rJ=lr.unstable_shouldYield,iJ=lr.unstable_requestPaint,To=lr.unstable_now,oJ=lr.unstable_getCurrentPriorityLevel,MB=lr.unstable_ImmediatePriority,RB=lr.unstable_UserBlockingPriority,Gy=lr.unstable_NormalPriority,aJ=lr.unstable_LowPriority,OB=lr.unstable_IdlePriority,sJ=lr.log,lJ=lr.unstable_setDisableYieldValue,Y0=null,ko=null;function Pu(e){if(typeof sJ=="function"&&lJ(e),ko&&typeof ko.setStrictMode=="function")try{ko.setStrictMode(Y0,e)}catch{}}var Do=Math.clz32?Math.clz32:dJ,uJ=Math.log,cJ=Math.LN2;function dJ(e){return e>>>=0,e===0?32:31-(uJ(e)/cJ|0)|0}var py=256,my=262144,gy=4194304;function yd(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xb(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s!==0?(r=s&~o,r!==0?i=yd(r):(a&=s,a!==0?i=yd(a):n||(n=s&~e,n!==0&&(i=yd(n))))):(s=r&~o,s!==0?i=yd(s):a!==0?i=yd(a):n||(n=r&~e,n!==0&&(i=yd(n)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:i}function W0(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function fJ(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BB(){var e=gy;return gy<<=1,(gy&62914560)===0&&(gy=4194304),e}function $C(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function G0(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hJ(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-Do(n),d=1<<c;s[c]=0,l[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var h=f[c];h!==null&&(h.lane&=-536870913)}n&=~d}r!==0&&_B(e,r,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(a&~t))}function _B(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Do(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function FB(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Do(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function IB(e,t){var n=t&-t;return n=(n&42)!==0?1:vA(n),(n&(e.suspendedLanes|t))!==0?0:n}function vA(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yA(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function NB(){var e=Bt.p;return e!==0?e:(e=window.event,e===void 0?32:oI(e.type))}function tO(e,t){var n=Bt.p;try{return Bt.p=e,t()}finally{Bt.p=n}}var rc=Math.random().toString(36).slice(2),Lr="__reactFiber$"+rc,Qi="__reactProps$"+rc,zh="__reactContainer$"+rc,k5="__reactEvents$"+rc,pJ="__reactListeners$"+rc,mJ="__reactHandles$"+rc,nO="__reactResources$"+rc,Q0="__reactMarker$"+rc;function bA(e){delete e[Lr],delete e[Qi],delete e[k5],delete e[pJ],delete e[mJ]}function ch(e){var t=e[Lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zh]||n[Lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cB(e);e!==null;){if(n=e[Lr])return n;e=cB(e)}return t}e=n,n=e.parentNode}return null}function Ph(e){if(e=e[Lr]||e[zh]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function g0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function wh(e){var t=e[nO];return t||(t=e[nO]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function xr(e){e[Q0]=!0}var LB=new Set,zB={};function Od(e,t){Dh(e,t),Dh(e+"Capture",t)}function Dh(e,t){for(zB[e]=t,e=0;e<t.length;e++)LB.add(t[e])}var gJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rO={},iO={};function vJ(e){return T5.call(iO,e)?!0:T5.call(rO,e)?!1:gJ.test(e)?iO[e]=!0:(rO[e]=!0,!1)}function Oy(e,t,n){if(vJ(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function vy(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function wl(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function na(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PB(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yJ(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function D5(e){if(!e._valueTracker){var t=PB(e)?"checked":"value";e._valueTracker=yJ(e,t,""+e[t])}}function HB(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=PB(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bJ=/[\n"\\]/g;function oa(e){return e.replace(bJ,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function M5(e,t,n,r,i,o,a,s){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+na(t)):e.value!==""+na(t)&&(e.value=""+na(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?R5(e,a,na(t)):n!=null?R5(e,a,na(n)):r!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+na(s):e.removeAttribute("name")}function VB(e,t,n,r,i,o,a,s){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){D5(e);return}n=n!=null?""+na(n):"",t=t!=null?""+na(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),D5(e)}function R5(e,t,n){t==="number"&&Qy(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xh(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+na(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function UB(e,t,n){if(t!=null&&(t=""+na(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+na(n):""}function jB(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(X(92));if(m0(r)){if(1<r.length)throw Error(X(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=na(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),D5(e)}function Mh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oO(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||wJ.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function $B(e,t,n){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&oO(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&oO(e,o,t[o])}function wA(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function By(e){return EJ.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dl(){}var O5=null;function xA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dh=null,Eh=null;function aO(e){var t=Ph(e);if(t&&(e=t.stateNode)){var n=e[Qi]||null;e:switch(e=t.stateNode,t.type){case"input":if(M5(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+oa(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Qi]||null;if(!i)throw Error(X(90));M5(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&HB(r)}break e;case"textarea":UB(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&xh(e,!!n.multiple,t,!1)}}}var qC=!1;function qB(e,t,n){if(qC)return e(t,n);qC=!0;try{var r=e(t);return r}finally{if(qC=!1,(dh!==null||Eh!==null)&&(_b(),dh&&(t=dh,e=Eh,Eh=dh=null,aO(t),e)))for(t=0;t<e.length;t++)aO(e[t])}}function _0(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Qi]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B5=!1;if(_l)try{rh={},Object.defineProperty(rh,"passive",{get:function(){B5=!0}}),window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch{B5=!1}var rh,Hu=null,EA=null,_y=null;function KB(){if(_y)return _y;var e,t=EA,n=t.length,r,i="value"in Hu?Hu.value:Hu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return _y=i.slice(e,1<r?1-r:void 0)}function Fy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yy(){return!0}function sO(){return!1}function Ji(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yy:sO,this.isPropagationStopped=sO,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yy)},persist:function(){},isPersistent:yy}),t}var Bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eb=Ji(Bd),J0=mn({},Bd,{view:0,detail:0}),SJ=Ji(J0),KC,YC,l0,Sb=mn({},J0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==l0&&(l0&&e.type==="mousemove"?(KC=e.screenX-l0.screenX,YC=e.screenY-l0.screenY):YC=KC=0,l0=e),KC)},movementY:function(e){return"movementY"in e?e.movementY:YC}}),lO=Ji(Sb),CJ=mn({},Sb,{dataTransfer:0}),AJ=Ji(CJ),TJ=mn({},J0,{relatedTarget:0}),WC=Ji(TJ),kJ=mn({},Bd,{animationName:0,elapsedTime:0,pseudoElement:0}),DJ=Ji(kJ),MJ=mn({},Bd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RJ=Ji(MJ),OJ=mn({},Bd,{data:0}),uO=Ji(OJ),BJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_J={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FJ[e])?!!t[e]:!1}function SA(){return IJ}var NJ=mn({},J0,{key:function(e){if(e.key){var t=BJ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_J[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SA,charCode:function(e){return e.type==="keypress"?Fy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LJ=Ji(NJ),zJ=mn({},Sb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cO=Ji(zJ),PJ=mn({},J0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SA}),HJ=Ji(PJ),VJ=mn({},Bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),UJ=Ji(VJ),jJ=mn({},Sb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$J=Ji(jJ),qJ=mn({},Bd,{newState:0,oldState:0}),KJ=Ji(qJ),YJ=[9,13,27,32],CA=_l&&"CompositionEvent"in window,b0=null;_l&&"documentMode"in document&&(b0=document.documentMode);var WJ=_l&&"TextEvent"in window&&!b0,YB=_l&&(!CA||b0&&8<b0&&11>=b0),dO=" ",fO=!1;function WB(e,t){switch(e){case"keyup":return YJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fh=!1;function GJ(e,t){switch(e){case"compositionend":return GB(t);case"keypress":return t.which!==32?null:(fO=!0,dO);case"textInput":return e=t.data,e===dO&&fO?null:e;default:return null}}function QJ(e,t){if(fh)return e==="compositionend"||!CA&&WB(e,t)?(e=KB(),_y=EA=Hu=null,fh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YB&&t.locale!=="ko"?null:t.data;default:return null}}var JJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JJ[e.type]:t==="textarea"}function QB(e,t,n,r){dh?Eh?Eh.push(r):Eh=[r]:dh=r,t=pb(t,"onChange"),0<t.length&&(n=new Eb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var w0=null,F0=null;function XJ(e){qF(e,0)}function Cb(e){var t=g0(e);if(HB(t))return e}function pO(e,t){if(e==="change")return t}var JB=!1;_l&&(_l?(wy="oninput"in document,wy||(GC=document.createElement("div"),GC.setAttribute("oninput","return;"),wy=typeof GC.oninput=="function"),by=wy):by=!1,JB=by&&(!document.documentMode||9<document.documentMode));var by,wy,GC;function mO(){w0&&(w0.detachEvent("onpropertychange",XB),F0=w0=null)}function XB(e){if(e.propertyName==="value"&&Cb(F0)){var t=[];QB(t,F0,e,xA(e)),qB(XJ,t)}}function ZJ(e,t,n){e==="focusin"?(mO(),w0=t,F0=n,w0.attachEvent("onpropertychange",XB)):e==="focusout"&&mO()}function eX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cb(F0)}function tX(e,t){if(e==="click")return Cb(t)}function nX(e,t){if(e==="input"||e==="change")return Cb(t)}function rX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ro=typeof Object.is=="function"?Object.is:rX;function I0(e,t){if(Ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!T5.call(t,i)||!Ro(e[i],t[i]))return!1}return!0}function gO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vO(e,t){var n=gO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gO(n)}}function ZB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qy(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qy(e.document)}return t}function AA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var iX=_l&&"documentMode"in document&&11>=document.documentMode,hh=null,_5=null,x0=null,F5=!1;function yO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;F5||hh==null||hh!==Qy(r)||(r=hh,"selectionStart"in r&&AA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),x0&&I0(x0,r)||(x0=r,r=pb(_5,"onSelect"),0<r.length&&(t=new Eb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hh)))}function gd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ph={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionrun:gd("Transition","TransitionRun"),transitionstart:gd("Transition","TransitionStart"),transitioncancel:gd("Transition","TransitionCancel"),transitionend:gd("Transition","TransitionEnd")},QC={},t_={};_l&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete ph.animationend.animation,delete ph.animationiteration.animation,delete ph.animationstart.animation),"TransitionEvent"in window||delete ph.transitionend.transition);function _d(e){if(QC[e])return QC[e];if(!ph[e])return e;var t=ph[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in t_)return QC[e]=t[n];return e}var n_=_d("animationend"),r_=_d("animationiteration"),i_=_d("animationstart"),oX=_d("transitionrun"),aX=_d("transitionstart"),sX=_d("transitioncancel"),o_=_d("transitionend"),a_=new Map,I5="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");I5.push("scrollEnd");function za(e,t){a_.set(e,t),Od(t,[e])}var Jy=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof C=="object"&&typeof C.emit=="function"){C.emit("uncaughtException",e);return}console.error(e)},ta=[],mh=0,TA=0;function Ab(){for(var e=mh,t=TA=mh=0;t<e;){var n=ta[t];ta[t++]=null;var r=ta[t];ta[t++]=null;var i=ta[t];ta[t++]=null;var o=ta[t];if(ta[t++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}o!==0&&s_(n,i,o)}}function Tb(e,t,n,r){ta[mh++]=e,ta[mh++]=t,ta[mh++]=n,ta[mh++]=r,TA|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function kA(e,t,n,r){return Tb(e,t,n,r),Xy(e)}function Fd(e,t){return Tb(e,null,null,t),Xy(e)}function s_(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-Do(n),e=o.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),o):null}function Xy(e){if(50<R0)throw R0=0,nA=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gh={};function lX(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Co(e,t,n,r){return new lX(e,t,n,r)}function DA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return n===null?(n=Co(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function l_(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Iy(e,t,n,r,i,o){var a=0;if(r=e,typeof e=="function")DA(e)&&(a=1);else if(typeof e=="string")a=dZ(e,n,Ds.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case E5:return e=Co(31,n,t,i),e.elementType=E5,e.lanes=o,e;case lh:return Ed(n.children,i,o,t);case kB:a=8,i|=24;break;case b5:return e=Co(12,n,t,i|2),e.elementType=b5,e.lanes=o,e;case w5:return e=Co(13,n,t,i),e.elementType=w5,e.lanes=o,e;case x5:return e=Co(19,n,t,i),e.elementType=x5,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kl:a=10;break e;case DB:a=9;break e;case pA:a=11;break e;case mA:a=14;break e;case _u:a=16,r=null;break e}a=29,n=Error(X(130,e===null?"null":typeof e,"")),r=null}return t=Co(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ed(e,t,n,r){return e=Co(7,e,r,t),e.lanes=n,e}function JC(e,t,n){return e=Co(6,e,null,t),e.lanes=n,e}function u_(e){var t=Co(18,null,null,0);return t.stateNode=e,t}function XC(e,t,n){return t=Co(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bO=new WeakMap;function aa(e,t){if(typeof e=="object"&&e!==null){var n=bO.get(e);return n!==void 0?n:(t={value:e,source:t,stack:eO(t)},bO.set(e,t),t)}return{value:e,source:t,stack:eO(t)}}var vh=[],yh=0,Zy=null,N0=0,ra=[],ia=0,Zu=null,As=1,Ts="";function Al(e,t){vh[yh++]=N0,vh[yh++]=Zy,Zy=e,N0=t}function c_(e,t,n){ra[ia++]=As,ra[ia++]=Ts,ra[ia++]=Zu,Zu=e;var r=As;e=Ts;var i=32-Do(r)-1;r&=~(1<<i),n+=1;var o=32-Do(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,As=1<<32-Do(t)+i|n<<i|r,Ts=o+e}else As=1<<o|n<<i|r,Ts=e}function MA(e){e.return!==null&&(Al(e,1),c_(e,1,0))}function RA(e){for(;e===Zy;)Zy=vh[--yh],vh[yh]=null,N0=vh[--yh],vh[yh]=null;for(;e===Zu;)Zu=ra[--ia],ra[ia]=null,Ts=ra[--ia],ra[ia]=null,As=ra[--ia],ra[ia]=null}function d_(e,t){ra[ia++]=As,ra[ia++]=Ts,ra[ia++]=Zu,As=t.id,Ts=t.overflow,Zu=e}var zr=null,pn=null,mt=!1,qu=null,sa=!1,N5=Error(X(519));function ec(e){var t=Error(X(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw L0(aa(t,e)),N5}function wO(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Lr]=e,t[Qi]=r,n){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(n=0;n<V0.length;n++)st(V0[n],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),VB(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),jB(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||YF(t.textContent,n)?(r.popover!=null&&(st("beforetoggle",t),st("toggle",t)),r.onScroll!=null&&st("scroll",t),r.onScrollEnd!=null&&st("scrollend",t),r.onClick!=null&&(t.onclick=Dl),t=!0):t=!1,t||ec(e,!0)}function xO(e){for(zr=e.return;zr;)switch(zr.tag){case 5:case 31:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:zr=zr.return}}function ih(e){if(e!==zr)return!1;if(!mt)return xO(e),mt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||sA(e.type,e.memoizedProps)),n=!n),n&&pn&&ec(e),xO(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));pn=uB(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));pn=uB(e)}else t===27?(t=pn,ic(e.type)?(e=dA,dA=null,pn=e):pn=t):pn=zr?ua(e.stateNode.nextSibling):null;return!0}function Td(){pn=zr=null,mt=!1}function ZC(){var e=qu;return e!==null&&(Wi===null?Wi=e:Wi.push.apply(Wi,e),qu=null),e}function L0(e){qu===null?qu=[e]:qu.push(e)}var L5=Ms(null),Id=null,Ml=null;function Iu(e,t,n){tn(L5,t._currentValue),t._currentValue=n}function Ol(e){e._currentValue=L5.current,Er(L5)}function z5(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function P5(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;e:for(;o!==null;){var s=o;o=i;for(var l=0;l<t.length;l++)if(s.context===t[l]){o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),z5(o.return,n,e),r||(a=null);break e}o=s.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(X(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),z5(a,n,e),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Hh(e,t,n,r){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(X(387));if(a=a.memoizedProps,a!==null){var s=i.type;Ro(i.pendingProps.value,a.value)||(e!==null?e.push(s):e=[s])}}else if(i===Ky.current){if(a=i.alternate,a===null)throw Error(X(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(j0):e=[j0])}i=i.return}e!==null&&P5(t,e,n,r),t.flags|=262144}function eb(e){for(e=e.firstContext;e!==null;){if(!Ro(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kd(e){Id=e,Ml=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pr(e){return f_(Id,e)}function xy(e,t){return Id===null&&kd(e),f_(e,t)}function f_(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ml===null){if(e===null)throw Error(X(308));Ml=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ml=Ml.next=t;return n}var uX=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},cX=lr.unstable_scheduleCallback,dX=lr.unstable_NormalPriority,nr={$$typeof:kl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function OA(){return{controller:new uX,data:new Map,refCount:0}}function X0(e){e.refCount--,e.refCount===0&&cX(dX,function(){e.controller.abort()})}var E0=null,H5=0,Rh=0,Sh=null;function fX(e,t){if(E0===null){var n=E0=[];H5=0,Rh=n3(),Sh={status:"pending",value:void 0,then:function(r){n.push(r)}}}return H5++,t.then(EO,EO),t}function EO(){if(--H5===0&&E0!==null){Sh!==null&&(Sh.status="fulfilled");var e=E0;E0=null,Rh=0,Sh=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hX(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var SO=Ne.S;Ne.S=function(e,t){TF=To(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fX(e,t),SO!==null&&SO(e,t)};var Sd=Ms(null);function BA(){var e=Sd.current;return e!==null?e:Kt.pooledCache}function Ny(e,t){t===null?tn(Sd,Sd.current):tn(Sd,t.pool)}function h_(){var e=BA();return e===null?null:{parent:nr._currentValue,pool:e}}var Vh=Error(X(460)),_A=Error(X(474)),kb=Error(X(542)),tb={then:function(){}};function CO(e){return e=e.status,e==="fulfilled"||e==="rejected"}function p_(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Dl,Dl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,TO(e),e;default:if(typeof t.status=="string")t.then(Dl,Dl);else{if(e=Kt,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,TO(e),e}throw Cd=t,Vh}}function bd(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Cd=n,Vh):n}}var Cd=null;function AO(){if(Cd===null)throw Error(X(459));var e=Cd;return Cd=null,e}function TO(e){if(e===Vh||e===kb)throw Error(X(483))}var Ch=null,z0=0;function Ey(e){var t=z0;return z0+=1,Ch===null&&(Ch=[]),p_(Ch,e,t)}function u0(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sy(e,t){throw t.$$typeof===ZQ?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function m_(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(g,y){return g=Rl(g,y),g.index=0,g.sibling=null,g}function o(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=67108866,y):w):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function s(g,y,w,x){return y===null||y.tag!==6?(y=JC(w,g.mode,x),y.return=g,y):(y=i(y,w),y.return=g,y)}function l(g,y,w,x){var S=w.type;return S===lh?c(g,y,w.props.children,x,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_u&&bd(S)===y.type)?(y=i(y,w.props),u0(y,w),y.return=g,y):(y=Iy(w.type,w.key,w.props,null,g.mode,x),u0(y,w),y.return=g,y)}function u(g,y,w,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=XC(w,g.mode,x),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function c(g,y,w,x,S){return y===null||y.tag!==7?(y=Ed(w,g.mode,x,S),y.return=g,y):(y=i(y,w),y.return=g,y)}function d(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=JC(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hy:return w=Iy(y.type,y.key,y.props,null,g.mode,w),u0(w,y),w.return=g,w;case p0:return y=XC(y,g.mode,w),y.return=g,y;case _u:return y=bd(y),d(g,y,w)}if(m0(y)||s0(y))return y=Ed(y,g.mode,w,null),y.return=g,y;if(typeof y.then=="function")return d(g,Ey(y),w);if(y.$$typeof===kl)return d(g,xy(g,y),w);Sy(g,y)}return null}function f(g,y,w,x){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return S!==null?null:s(g,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hy:return w.key===S?l(g,y,w,x):null;case p0:return w.key===S?u(g,y,w,x):null;case _u:return w=bd(w),f(g,y,w,x)}if(m0(w)||s0(w))return S!==null?null:c(g,y,w,x,null);if(typeof w.then=="function")return f(g,y,Ey(w),x);if(w.$$typeof===kl)return f(g,y,xy(g,w),x);Sy(g,w)}return null}function h(g,y,w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return g=g.get(w)||null,s(y,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hy:return g=g.get(x.key===null?w:x.key)||null,l(y,g,x,S);case p0:return g=g.get(x.key===null?w:x.key)||null,u(y,g,x,S);case _u:return x=bd(x),h(g,y,w,x,S)}if(m0(x)||s0(x))return g=g.get(w)||null,c(y,g,x,S,null);if(typeof x.then=="function")return h(g,y,w,Ey(x),S);if(x.$$typeof===kl)return h(g,y,w,xy(y,x),S);Sy(y,x)}return null}function p(g,y,w,x){for(var S=null,E=null,k=y,A=y=0,T=null;k!==null&&A<w.length;A++){k.index>A?(T=k,k=null):T=k.sibling;var R=f(g,k,w[A],x);if(R===null){k===null&&(k=T);break}e&&k&&R.alternate===null&&t(g,k),y=o(R,y,A),E===null?S=R:E.sibling=R,E=R,k=T}if(A===w.length)return n(g,k),mt&&Al(g,A),S;if(k===null){for(;A<w.length;A++)k=d(g,w[A],x),k!==null&&(y=o(k,y,A),E===null?S=k:E.sibling=k,E=k);return mt&&Al(g,A),S}for(k=r(k);A<w.length;A++)T=h(k,g,A,w[A],x),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?A:T.key),y=o(T,y,A),E===null?S=T:E.sibling=T,E=T);return e&&k.forEach(function(M){return t(g,M)}),mt&&Al(g,A),S}function m(g,y,w,x){if(w==null)throw Error(X(151));for(var S=null,E=null,k=y,A=y=0,T=null,R=w.next();k!==null&&!R.done;A++,R=w.next()){k.index>A?(T=k,k=null):T=k.sibling;var M=f(g,k,R.value,x);if(M===null){k===null&&(k=T);break}e&&k&&M.alternate===null&&t(g,k),y=o(M,y,A),E===null?S=M:E.sibling=M,E=M,k=T}if(R.done)return n(g,k),mt&&Al(g,A),S;if(k===null){for(;!R.done;A++,R=w.next())R=d(g,R.value,x),R!==null&&(y=o(R,y,A),E===null?S=R:E.sibling=R,E=R);return mt&&Al(g,A),S}for(k=r(k);!R.done;A++,R=w.next())R=h(k,g,A,R.value,x),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?A:R.key),y=o(R,y,A),E===null?S=R:E.sibling=R,E=R);return e&&k.forEach(function(O){return t(g,O)}),mt&&Al(g,A),S}function v(g,y,w,x){if(typeof w=="object"&&w!==null&&w.type===lh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case hy:e:{for(var S=w.key;y!==null;){if(y.key===S){if(S=w.type,S===lh){if(y.tag===7){n(g,y.sibling),x=i(y,w.props.children),x.return=g,g=x;break e}}else if(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_u&&bd(S)===y.type){n(g,y.sibling),x=i(y,w.props),u0(x,w),x.return=g,g=x;break e}n(g,y);break}else t(g,y);y=y.sibling}w.type===lh?(x=Ed(w.props.children,g.mode,x,w.key),x.return=g,g=x):(x=Iy(w.type,w.key,w.props,null,g.mode,x),u0(x,w),x.return=g,g=x)}return a(g);case p0:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),x=i(y,w.children||[]),x.return=g,g=x;break e}else{n(g,y);break}else t(g,y);y=y.sibling}x=XC(w,g.mode,x),x.return=g,g=x}return a(g);case _u:return w=bd(w),v(g,y,w,x)}if(m0(w))return p(g,y,w,x);if(s0(w)){if(S=s0(w),typeof S!="function")throw Error(X(150));return w=S.call(w),m(g,y,w,x)}if(typeof w.then=="function")return v(g,y,Ey(w),x);if(w.$$typeof===kl)return v(g,y,xy(g,w),x);Sy(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),x=i(y,w),x.return=g,g=x):(n(g,y),x=JC(w,g.mode,x),x.return=g,g=x),a(g)):n(g,y)}return function(g,y,w,x){try{z0=0;var S=v(g,y,w,x);return Ch=null,S}catch(k){if(k===Vh||k===kb)throw k;var E=Co(29,k,null,g.mode);return E.lanes=x,E.return=g,E}finally{}}}var Dd=m_(!0),g_=m_(!1),Fu=!1;function FA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function V5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ku(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ot&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Xy(e),s_(e,null,n),t}return Tb(e,r,t,n),Xy(e)}function S0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,FB(e,n)}}function e5(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var U5=!1;function C0(){if(U5){var e=Sh;if(e!==null)throw e}}function A0(e,t,n,r){U5=!1;var i=e.updateQueue;Fu=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var f=s.lane&-536870913,h=f!==s.lane;if(h?(ft&f)===f:(r&f)===f){f!==0&&f===Rh&&(U5=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,m=s;f=t;var v=n;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(v,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(v,d,f):p,f==null)break e;d=mn({},d,f);break e;case 2:Fu=!0}}f=s.callback,f!==null&&(e.flags|=64,h&&(e.flags|=8192),h=i.callbacks,h===null?i.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,o===null&&(i.shared.lanes=0),nc|=a,e.lanes=a,e.memoizedState=d}}function v_(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function y_(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)v_(n[e],t)}var Oh=Ms(null),nb=Ms(0);function kO(e,t){e=Ll,tn(nb,e),tn(Oh,t),Ll=e|t.baseLanes}function j5(){tn(nb,Ll),tn(Oh,Oh.current)}function IA(){Ll=nb.current,Er(Oh),Er(nb)}var Oo=Ms(null),la=null;function Nu(e){var t=e.alternate;tn(Yn,Yn.current&1),tn(Oo,e),la===null&&(t===null||Oh.current!==null||t.memoizedState!==null)&&(la=e)}function $5(e){tn(Yn,Yn.current),tn(Oo,e),la===null&&(la=e)}function b_(e){e.tag===22?(tn(Yn,Yn.current),tn(Oo,e),la===null&&(la=e)):Lu(e)}function Lu(){tn(Yn,Yn.current),tn(Oo,Oo.current)}function So(e){Er(Oo),la===e&&(la=null),Er(Yn)}var Yn=Ms(0);function rb(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||uA(n)||cA(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fl=0,qe=null,Ht=null,er=null,ib=!1,Ah=!1,Md=!1,ob=0,P0=0,Th=null,pX=0;function In(){throw Error(X(321))}function NA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ro(e[n],t[n]))return!1;return!0}function LA(e,t,n,r,i,o){return Fl=o,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ne.H=e===null||e.memoizedState===null?Q_:WA,Md=!1,o=n(r,i),Md=!1,Ah&&(o=x_(t,n,r,i)),w_(e),o}function w_(e){Ne.H=H0;var t=Ht!==null&&Ht.next!==null;if(Fl=0,er=Ht=qe=null,ib=!1,P0=0,Th=null,t)throw Error(X(300));e===null||rr||(e=e.dependencies,e!==null&&eb(e)&&(rr=!0))}function x_(e,t,n,r){qe=e;var i=0;do{if(Ah&&(Th=null),P0=0,Ah=!1,25<=i)throw Error(X(301));if(i+=1,er=Ht=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Ne.H=J_,o=t(n,r)}while(Ah);return o}function mX(){var e=Ne.H,t=e.useState()[0];return t=typeof t.then=="function"?Z0(t):t,e=e.useState()[0],(Ht!==null?Ht.memoizedState:null)!==e&&(qe.flags|=1024),t}function zA(){var e=ob!==0;return ob=0,e}function PA(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function HA(e){if(ib){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ib=!1}Fl=0,er=Ht=qe=null,Ah=!1,P0=ob=0,Th=null}function Si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?qe.memoizedState=er=e:er=er.next=e,er}function Wn(){if(Ht===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=er===null?qe.memoizedState:er.next;if(t!==null)er=t,Ht=e;else{if(e===null)throw qe.alternate===null?Error(X(467)):Error(X(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},er===null?qe.memoizedState=er=e:er=er.next=e}return er}function Db(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Z0(e){var t=P0;return P0+=1,Th===null&&(Th=[]),e=p_(Th,e,t),t=qe,(er===null?t.memoizedState:er.next)===null&&(t=t.alternate,Ne.H=t===null||t.memoizedState===null?Q_:WA),e}function Mb(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Z0(e);if(e.$$typeof===kl)return Pr(e)}throw Error(X(438,String(e)))}function VA(e){var t=null,n=qe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=qe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Db(),qe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=eJ;return t.index++,n}function Il(e,t){return typeof t=="function"?t(e):t}function Ly(e){var t=Wn();return UA(t,Ht,e)}function UA(e,t,n){var r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var s=a=null,l=null,u=t,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(ft&d)===d:(Fl&d)===d){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Rh&&(c=!0);else if((Fl&f)===f){u=u.next,f===Rh&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=d,a=o):l=l.next=d,qe.lanes|=f,nc|=f;d=u.action,Md&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,a=o):l=l.next=f,qe.lanes|=d,nc|=d;u=u.next}while(u!==null&&u!==t);if(l===null?a=o:l.next=s,!Ro(o,e.memoizedState)&&(rr=!0,c&&(n=Sh,n!==null)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=l,r.lastRenderedState=o}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function t5(e){var t=Wn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ro(o,t.memoizedState)||(rr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function E_(e,t,n){var r=qe,i=Wn(),o=mt;if(o){if(n===void 0)throw Error(X(407));n=n()}else n=t();var a=!Ro((Ht||i).memoizedState,n);if(a&&(i.memoizedState=n,rr=!0),i=i.queue,jA(A_.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||er!==null&&er.memoizedState.tag&1){if(r.flags|=2048,Bh(9,{destroy:void 0},C_.bind(null,r,i,n,t),null),Kt===null)throw Error(X(349));o||(Fl&127)!==0||S_(r,t,n)}return n}function S_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t=Db(),qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function C_(e,t,n,r){t.value=n,t.getSnapshot=r,T_(t)&&k_(e)}function A_(e,t,n){return n(function(){T_(t)&&k_(e)})}function T_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ro(e,n)}catch{return!0}}function k_(e){var t=Fd(e,2);t!==null&&Gi(t,e,2)}function q5(e){var t=Si();if(typeof e=="function"){var n=e;if(e=n(),Md){Pu(!0);try{n()}finally{Pu(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},t}function D_(e,t,n,r){return e.baseState=n,UA(e,Ht,typeof r=="function"?r:Il)}function gX(e,t,n,r,i){if(Ob(e))throw Error(X(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};Ne.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,M_(t,o)):(o.next=n.next,t.pending=n.next=o)}}function M_(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=Ne.T,a={};Ne.T=a;try{var s=n(i,r),l=Ne.S;l!==null&&l(a,s),DO(e,t,s)}catch(u){K5(e,t,u)}finally{o!==null&&a.types!==null&&(o.types=a.types),Ne.T=o}}else try{o=n(i,r),DO(e,t,o)}catch(u){K5(e,t,u)}}function DO(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){MO(e,t,r)},function(r){return K5(e,t,r)}):MO(e,t,n)}function MO(e,t,n){t.status="fulfilled",t.value=n,R_(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,M_(e,n)))}function K5(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,R_(t),t=t.next;while(t!==r)}e.action=null}function R_(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function O_(e,t){return t}function RO(e,t){if(mt){var n=Kt.formState;if(n!==null){e:{var r=qe;if(mt){if(pn){t:{for(var i=pn,o=sa;i.nodeType!==8;){if(!o){i=null;break t}if(i=ua(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){pn=ua(i.nextSibling),r=i.data==="F!";break e}}ec(r)}r=!1}r&&(t=n[0])}}return n=Si(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O_,lastRenderedState:t},n.queue=r,n=Y_.bind(null,qe,r),r.dispatch=n,r=q5(!1),o=YA.bind(null,qe,!1,r.queue),r=Si(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=gX.bind(null,qe,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function OO(e){var t=Wn();return B_(t,Ht,e)}function B_(e,t,n){if(t=UA(e,t,O_)[0],e=Ly(Il)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Z0(t)}catch(a){throw a===Vh?kb:a}else r=t;t=Wn();var i=t.queue,o=i.dispatch;return n!==t.memoizedState&&(qe.flags|=2048,Bh(9,{destroy:void 0},vX.bind(null,i,n),null)),[r,o,e]}function vX(e,t){e.action=t}function BO(e){var t=Wn(),n=Ht;if(n!==null)return B_(t,n,e);Wn(),t=t.memoizedState,n=Wn();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Bh(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=qe.updateQueue,t===null&&(t=Db(),qe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function __(){return Wn().memoizedState}function zy(e,t,n,r){var i=Si();qe.flags|=e,i.memoizedState=Bh(1|t,{destroy:void 0},n,r===void 0?null:r)}function Rb(e,t,n,r){var i=Wn();r=r===void 0?null:r;var o=i.memoizedState.inst;Ht!==null&&r!==null&&NA(r,Ht.memoizedState.deps)?i.memoizedState=Bh(t,o,n,r):(qe.flags|=e,i.memoizedState=Bh(1|t,o,n,r))}function _O(e,t){zy(8390656,8,e,t)}function jA(e,t){Rb(2048,8,e,t)}function yX(e){qe.flags|=4;var t=qe.updateQueue;if(t===null)t=Db(),qe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function F_(e){var t=Wn().memoizedState;return yX({ref:t,nextImpl:e}),function(){if((Ot&2)!==0)throw Error(X(440));return t.impl.apply(void 0,arguments)}}function I_(e,t){return Rb(4,2,e,t)}function N_(e,t){return Rb(4,4,e,t)}function L_(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z_(e,t,n){n=n!=null?n.concat([e]):null,Rb(4,4,L_.bind(null,t,e),n)}function $A(){}function P_(e,t){var n=Wn();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&NA(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function H_(e,t){var n=Wn();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&NA(t,r[1]))return r[0];if(r=e(),Md){Pu(!0);try{e()}finally{Pu(!1)}}return n.memoizedState=[r,t],r}function qA(e,t,n){return n===void 0||(Fl&1073741824)!==0&&(ft&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=DF(),qe.lanes|=e,nc|=e,n)}function V_(e,t,n,r){return Ro(n,t)?n:Oh.current!==null?(e=qA(e,n,r),Ro(e,t)||(rr=!0),e):(Fl&42)===0||(Fl&1073741824)!==0&&(ft&261930)===0?(rr=!0,e.memoizedState=n):(e=DF(),qe.lanes|=e,nc|=e,t)}function U_(e,t,n,r,i){var o=Bt.p;Bt.p=o!==0&&8>o?o:8;var a=Ne.T,s={};Ne.T=s,YA(e,!1,t,n);try{var l=i(),u=Ne.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=hX(l,r);T0(e,t,c,Mo(e))}else T0(e,t,r,Mo(e))}catch(d){T0(e,t,{then:function(){},status:"rejected",reason:d},Mo())}finally{Bt.p=o,a!==null&&s.types!==null&&(a.types=s.types),Ne.T=a}}function bX(){}function Y5(e,t,n,r){if(e.tag!==5)throw Error(X(476));var i=j_(e).queue;U_(e,i,t,xd,n===null?bX:function(){return $_(e),n(r)})}function j_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:xd,baseState:xd,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:xd},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $_(e){var t=j_(e);t.next===null&&(t=e.alternate.memoizedState),T0(e,t.next.queue,{},Mo())}function KA(){return Pr(j0)}function q_(){return Wn().memoizedState}function K_(){return Wn().memoizedState}function wX(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mo();e=Ku(n);var r=Yu(t,e,n);r!==null&&(Gi(r,t,n),S0(r,t,n)),t={cache:OA()},e.payload=t;return}t=t.return}}function xX(e,t,n){var r=Mo();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ob(e)?W_(t,n):(n=kA(e,t,n,r),n!==null&&(Gi(n,e,r),G_(n,t,r)))}function Y_(e,t,n){var r=Mo();T0(e,t,n,r)}function T0(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ob(e))W_(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ro(s,a))return Tb(e,t,i,0),Kt===null&&Ab(),!1}catch{}finally{}if(n=kA(e,t,i,r),n!==null)return Gi(n,e,r),G_(n,t,r),!0}return!1}function YA(e,t,n,r){if(r={lane:2,revertLane:n3(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ob(e)){if(t)throw Error(X(479))}else t=kA(e,n,r,2),t!==null&&Gi(t,e,2)}function Ob(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function W_(e,t){Ah=ib=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function G_(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,FB(e,n)}}var H0={readContext:Pr,use:Mb,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In};H0.useEffectEvent=In;var Q_={readContext:Pr,use:Mb,useCallback:function(e,t){return Si().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:_O,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,zy(4194308,4,L_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zy(4194308,4,e,t)},useInsertionEffect:function(e,t){zy(4,2,e,t)},useMemo:function(e,t){var n=Si();t=t===void 0?null:t;var r=e();if(Md){Pu(!0);try{e()}finally{Pu(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Si();if(n!==void 0){var i=n(t);if(Md){Pu(!0);try{n(t)}finally{Pu(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=xX.bind(null,qe,e),[r.memoizedState,e]},useRef:function(e){var t=Si();return e={current:e},t.memoizedState=e},useState:function(e){e=q5(e);var t=e.queue,n=Y_.bind(null,qe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$A,useDeferredValue:function(e,t){var n=Si();return qA(n,e,t)},useTransition:function(){var e=q5(!1);return e=U_.bind(null,qe,e.queue,!0,!1),Si().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qe,i=Si();if(mt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Kt===null)throw Error(X(349));(ft&127)!==0||S_(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,_O(A_.bind(null,r,o,e),[e]),r.flags|=2048,Bh(9,{destroy:void 0},C_.bind(null,r,o,n,t),null),n},useId:function(){var e=Si(),t=Kt.identifierPrefix;if(mt){var n=Ts,r=As;n=(r&~(1<<32-Do(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ob++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=pX++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:KA,useFormState:RO,useActionState:RO,useOptimistic:function(e){var t=Si();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=YA.bind(null,qe,!0,n),n.dispatch=t,[e,t]},useMemoCache:VA,useCacheRefresh:function(){return Si().memoizedState=wX.bind(null,qe)},useEffectEvent:function(e){var t=Si(),n={impl:e};return t.memoizedState=n,function(){if((Ot&2)!==0)throw Error(X(440));return n.impl.apply(void 0,arguments)}}},WA={readContext:Pr,use:Mb,useCallback:P_,useContext:Pr,useEffect:jA,useImperativeHandle:z_,useInsertionEffect:I_,useLayoutEffect:N_,useMemo:H_,useReducer:Ly,useRef:__,useState:function(){return Ly(Il)},useDebugValue:$A,useDeferredValue:function(e,t){var n=Wn();return V_(n,Ht.memoizedState,e,t)},useTransition:function(){var e=Ly(Il)[0],t=Wn().memoizedState;return[typeof e=="boolean"?e:Z0(e),t]},useSyncExternalStore:E_,useId:q_,useHostTransitionStatus:KA,useFormState:OO,useActionState:OO,useOptimistic:function(e,t){var n=Wn();return D_(n,Ht,e,t)},useMemoCache:VA,useCacheRefresh:K_};WA.useEffectEvent=F_;var J_={readContext:Pr,use:Mb,useCallback:P_,useContext:Pr,useEffect:jA,useImperativeHandle:z_,useInsertionEffect:I_,useLayoutEffect:N_,useMemo:H_,useReducer:t5,useRef:__,useState:function(){return t5(Il)},useDebugValue:$A,useDeferredValue:function(e,t){var n=Wn();return Ht===null?qA(n,e,t):V_(n,Ht.memoizedState,e,t)},useTransition:function(){var e=t5(Il)[0],t=Wn().memoizedState;return[typeof e=="boolean"?e:Z0(e),t]},useSyncExternalStore:E_,useId:q_,useHostTransitionStatus:KA,useFormState:BO,useActionState:BO,useOptimistic:function(e,t){var n=Wn();return Ht!==null?D_(n,Ht,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:VA,useCacheRefresh:K_};J_.useEffectEvent=F_;function n5(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var W5={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mo(),i=Ku(r);i.payload=t,n!=null&&(i.callback=n),t=Yu(e,i,r),t!==null&&(Gi(t,e,r),S0(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mo(),i=Ku(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yu(e,i,r),t!==null&&(Gi(t,e,r),S0(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mo(),r=Ku(n);r.tag=2,t!=null&&(r.callback=t),t=Yu(e,r,n),t!==null&&(Gi(t,e,n),S0(t,e,n))}};function FO(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!I0(n,r)||!I0(i,o):!0}function IO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&W5.enqueueReplaceState(t,t.state,null)}function Rd(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=mn({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function X_(e){Jy(e)}function Z_(e){console.error(e)}function eF(e){Jy(e)}function ab(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function NO(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function G5(e,t,n){return n=Ku(n),n.tag=3,n.payload={element:null},n.callback=function(){ab(e,t)},n}function tF(e){return e=Ku(e),e.tag=3,e}function nF(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){NO(t,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){NO(t,n,r),typeof i!="function"&&(Wu===null?Wu=new Set([this]):Wu.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function EX(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Hh(t,n,i,!0),n=Oo.current,n!==null){switch(n.tag){case 31:case 13:return la===null?db():n.alternate===null&&Nn===0&&(Nn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===tb?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),h5(e,r,i)),!1;case 22:return n.flags|=65536,r===tb?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),h5(e,r,i)),!1}throw Error(X(435,n.tag))}return h5(e,r,i),db(),!1}if(mt)return t=Oo.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==N5&&(e=Error(X(422),{cause:r}),L0(aa(e,n)))):(r!==N5&&(t=Error(X(423),{cause:r}),L0(aa(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=aa(r,n),i=G5(e.stateNode,r,i),e5(e,i),Nn!==4&&(Nn=2)),!1;var o=Error(X(520),{cause:r});if(o=aa(o,n),M0===null?M0=[o]:M0.push(o),Nn!==4&&(Nn=2),t===null)return!0;r=aa(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=G5(n.stateNode,r,e),e5(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Wu===null||!Wu.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=tF(i),nF(i,e,n,r),e5(n,i),!1}n=n.return}while(n!==null);return!1}var GA=Error(X(461)),rr=!1;function Nr(e,t,n,r){t.child=e===null?g_(t,null,n,r):Dd(t,e.child,n,r)}function LO(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)s!=="ref"&&(a[s]=r[s])}else a=r;return kd(t),r=LA(e,t,n,a,o,i),s=zA(),e!==null&&!rr?(PA(e,t,i),Nl(e,t,i)):(mt&&s&&MA(t),t.flags|=1,Nr(e,t,r,i),t.child)}function zO(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!DA(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,rF(e,t,o,r,i)):(e=Iy(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!QA(e,i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:I0,n(a,r)&&e.ref===t.ref)return Nl(e,t,i)}return t.flags|=1,e=Rl(o,r),e.ref=t.ref,e.return=t,t.child=e}function rF(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(I0(o,r)&&e.ref===t.ref)if(rr=!1,t.pendingProps=r=o,QA(e,i))(e.flags&131072)!==0&&(rr=!0);else return t.lanes=e.lanes,Nl(e,t,i)}return Q5(e,t,n,r,i)}function iF(e,t,n,r){var i=r.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return PO(e,t,o,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ny(t,o!==null?o.cachePool:null),o!==null?kO(t,o):j5(),b_(t);else return r=t.lanes=536870912,PO(e,t,o!==null?o.baseLanes|n:n,n,r)}else o!==null?(Ny(t,o.cachePool),kO(t,o),Lu(t),t.memoizedState=null):(e!==null&&Ny(t,null),j5(),Lu(t));return Nr(e,t,i,n),t.child}function v0(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function PO(e,t,n,r,i){var o=BA();return o=o===null?null:{parent:nr._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Ny(t,null),j5(),b_(t),e!==null&&Hh(e,t,r,!0),t.childLanes=i,null}function Py(e,t){return t=sb({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function HO(e,t,n){return Dd(t,e.child,null,n),e=Py(t,t.pendingProps),e.flags|=2,So(t),t.memoizedState=null,e}function SX(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(mt){if(r.mode==="hidden")return e=Py(t,r),t.lanes=536870912,v0(null,e);if($5(t),(e=pn)?(e=QF(e,sa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zu!==null?{id:As,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},n=u_(e),n.return=t,t.child=n,zr=t,pn=null)):e=null,e===null)throw ec(t);return t.lanes=536870912,null}return Py(t,r)}var o=e.memoizedState;if(o!==null){var a=o.dehydrated;if($5(t),i)if(t.flags&256)t.flags&=-257,t=HO(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(X(558));else if(rr||Hh(e,t,n,!1),i=(n&e.childLanes)!==0,rr||i){if(r=Kt,r!==null&&(a=IB(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Fd(e,a),Gi(r,e,a),GA;db(),t=HO(e,t,n)}else e=o.treeContext,pn=ua(a.nextSibling),zr=t,mt=!0,qu=null,sa=!1,e!==null&&d_(t,e),t=Py(t,r),t.flags|=4096;return t}return e=Rl(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hy(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(X(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Q5(e,t,n,r,i){return kd(t),n=LA(e,t,n,r,void 0,i),r=zA(),e!==null&&!rr?(PA(e,t,i),Nl(e,t,i)):(mt&&r&&MA(t),t.flags|=1,Nr(e,t,n,i),t.child)}function VO(e,t,n,r,i,o){return kd(t),t.updateQueue=null,n=x_(t,r,n,i),w_(e),r=zA(),e!==null&&!rr?(PA(e,t,o),Nl(e,t,o)):(mt&&r&&MA(t),t.flags|=1,Nr(e,t,n,o),t.child)}function UO(e,t,n,r,i){if(kd(t),t.stateNode===null){var o=gh,a=n.contextType;typeof a=="object"&&a!==null&&(o=Pr(a)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=W5,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},FA(t),a=n.contextType,o.context=typeof a=="object"&&a!==null?Pr(a):gh,o.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(n5(t,n,a,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&W5.enqueueReplaceState(o,o.state,null),A0(t,r,o,i),C0(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var s=t.memoizedProps,l=Rd(n,s);o.props=l;var u=o.context,c=n.contextType;a=gh,typeof c=="object"&&c!==null&&(a=Pr(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s||u!==a)&&IO(t,o,r,a),Fu=!1;var f=t.memoizedState;o.state=f,A0(t,r,o,i),C0(),u=t.memoizedState,s||f!==u||Fu?(typeof d=="function"&&(n5(t,n,d,r),u=t.memoizedState),(l=Fu||FO(t,n,l,r,f,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,V5(e,t),a=t.memoizedProps,c=Rd(n,a),o.props=c,d=t.pendingProps,f=o.context,u=n.contextType,l=gh,typeof u=="object"&&u!==null&&(l=Pr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&IO(t,o,r,l),Fu=!1,f=t.memoizedState,o.state=f,A0(t,r,o,i),C0();var h=t.memoizedState;a!==d||f!==h||Fu||e!==null&&e.dependencies!==null&&eb(e.dependencies)?(typeof s=="function"&&(n5(t,n,s,r),h=t.memoizedState),(c=Fu||FO(t,n,c,r,f,h,l)||e!==null&&e.dependencies!==null&&eb(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Hy(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Dd(t,e.child,null,i),t.child=Dd(t,null,n,i)):Nr(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Nl(e,t,i),e}function jO(e,t,n,r){return Td(),t.flags|=256,Nr(e,t,n,r),t.child}var r5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i5(e){return{baseLanes:e,cachePool:h_()}}function o5(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ao),e}function oF(e,t,n){var r=t.pendingProps,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(Yn.current&2)!==0),a&&(i=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(mt){if(i?Nu(t):Lu(t),(e=pn)?(e=QF(e,sa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zu!==null?{id:As,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},n=u_(e),n.return=t,t.child=n,zr=t,pn=null)):e=null,e===null)throw ec(t);return cA(e)?t.lanes=32:t.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Lu(t),i=t.mode,s=sb({mode:"hidden",children:s},i),r=Ed(r,i,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,r=t.child,r.memoizedState=i5(n),r.childLanes=o5(e,a,n),t.memoizedState=r5,v0(null,r)):(Nu(t),J5(t,s))}var l=e.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(o)t.flags&256?(Nu(t),t.flags&=-257,t=a5(e,t,n)):t.memoizedState!==null?(Lu(t),t.child=e.child,t.flags|=128,t=null):(Lu(t),s=r.fallback,i=t.mode,r=sb({mode:"visible",children:r.children},i),s=Ed(s,i,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,Dd(t,e.child,null,n),r=t.child,r.memoizedState=i5(n),r.childLanes=o5(e,a,n),t.memoizedState=r5,t=v0(null,r));else if(Nu(t),cA(s)){if(a=s.nextSibling&&s.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(X(419)),r.stack="",r.digest=a,L0({value:r,source:null,stack:null}),t=a5(e,t,n)}else if(rr||Hh(e,t,n,!1),a=(n&e.childLanes)!==0,rr||a){if(a=Kt,a!==null&&(r=IB(a,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Fd(e,r),Gi(a,e,r),GA;uA(s)||db(),t=a5(e,t,n)}else uA(s)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,pn=ua(s.nextSibling),zr=t,mt=!0,qu=null,sa=!1,e!==null&&d_(t,e),t=J5(t,r.children),t.flags|=4096);return t}return i?(Lu(t),s=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=Rl(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Rl(u,s):(s=Ed(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,v0(null,r),r=t.child,s=e.child.memoizedState,s===null?s=i5(n):(i=s.cachePool,i!==null?(l=nr._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=h_(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=o5(e,a,n),t.memoizedState=r5,v0(e.child,r)):(Nu(t),n=e.child,e=n.sibling,n=Rl(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function J5(e,t){return t=sb({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function sb(e,t){return e=Co(22,e,null,t),e.lanes=0,e}function a5(e,t,n){return Dd(t,e.child,null,n),e=J5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $O(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),z5(e.return,t,n)}function s5(e,t,n,r,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function aF(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=Yn.current,s=(a&2)!==0;if(s?(a=a&1|2,t.flags|=128):a&=1,tn(Yn,a),Nr(e,t,r,n),r=mt?N0:0,!s&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$O(e,n,t);else if(e.tag===19)$O(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rb(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),s5(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rb(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}s5(t,!0,n,null,o,r);break;case"together":s5(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Nl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nc|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Hh(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Rl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function QA(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&eb(e)))}function CX(e,t,n){switch(t.tag){case 3:Yy(t,t.stateNode.containerInfo),Iu(t,nr,e.memoizedState.cache),Td();break;case 27:case 5:A5(t);break;case 4:Yy(t,t.stateNode.containerInfo);break;case 10:Iu(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$5(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Nu(t),t.flags|=128,null):(n&t.child.childLanes)!==0?oF(e,t,n):(Nu(t),e=Nl(e,t,n),e!==null?e.sibling:null);Nu(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Hh(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return aF(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tn(Yn,Yn.current),r)break;return null;case 22:return t.lanes=0,iF(e,t,n,t.pendingProps);case 24:Iu(t,nr,e.memoizedState.cache)}return Nl(e,t,n)}function sF(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rr=!0;else{if(!QA(e,n)&&(t.flags&128)===0)return rr=!1,CX(e,t,n);rr=(e.flags&131072)!==0}else rr=!1,mt&&(t.flags&1048576)!==0&&c_(t,N0,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=bd(t.elementType),t.type=e,typeof e=="function")DA(e)?(r=Rd(e,r),t.tag=1,t=UO(null,t,e,r,n)):(t.tag=0,t=Q5(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===pA){t.tag=11,t=LO(null,t,e,r,n);break e}else if(i===mA){t.tag=14,t=zO(null,t,e,r,n);break e}}throw t=S5(e)||e,Error(X(306,t,""))}}return t;case 0:return Q5(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Rd(r,t.pendingProps),UO(e,t,r,i,n);case 3:e:{if(Yy(t,t.stateNode.containerInfo),e===null)throw Error(X(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,V5(e,t),A0(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Iu(t,nr,r),r!==o.cache&&P5(t,[nr],n,!0),C0(),r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=jO(e,t,r,n);break e}else if(r!==i){i=aa(Error(X(424)),t),L0(i),t=jO(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pn=ua(e.firstChild),zr=t,mt=!0,qu=null,sa=!0,n=g_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Td(),r===i){t=Nl(e,t,n);break e}Nr(e,t,r,n)}t=t.child}return t;case 26:return Hy(e,t),e===null?(n=fB(t.type,null,t.pendingProps,null))?t.memoizedState=n:mt||(n=t.type,e=t.pendingProps,r=mb($u.current).createElement(n),r[Lr]=t,r[Qi]=e,Hr(r,n,e),xr(r),t.stateNode=r):t.memoizedState=fB(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return A5(t),e===null&&mt&&(r=t.stateNode=JF(t.type,t.pendingProps,$u.current),zr=t,sa=!0,i=pn,ic(t.type)?(dA=i,pn=ua(r.firstChild)):pn=i),Nr(e,t,t.pendingProps.children,n),Hy(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&mt&&((i=r=pn)&&(r=XX(r,t.type,t.pendingProps,sa),r!==null?(t.stateNode=r,zr=t,pn=ua(r.firstChild),sa=!1,i=!0):i=!1),i||ec(t)),A5(t),i=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,r=o.children,sA(i,o)?r=null:a!==null&&sA(i,a)&&(t.flags|=32),t.memoizedState!==null&&(i=LA(e,t,mX,null,null,n),j0._currentValue=i),Hy(e,t),Nr(e,t,r,n),t.child;case 6:return e===null&&mt&&((e=n=pn)&&(n=ZX(n,t.pendingProps,sa),n!==null?(t.stateNode=n,zr=t,pn=null,e=!0):e=!1),e||ec(t)),null;case 13:return oF(e,t,n);case 4:return Yy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dd(t,null,r,n):Nr(e,t,r,n),t.child;case 11:return LO(e,t,t.type,t.pendingProps,n);case 7:return Nr(e,t,t.pendingProps,n),t.child;case 8:return Nr(e,t,t.pendingProps.children,n),t.child;case 12:return Nr(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Iu(t,t.type,r.value),Nr(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,kd(t),i=Pr(i),r=r(i),t.flags|=1,Nr(e,t,r,n),t.child;case 14:return zO(e,t,t.type,t.pendingProps,n);case 15:return rF(e,t,t.type,t.pendingProps,n);case 19:return aF(e,t,n);case 31:return SX(e,t,n);case 22:return iF(e,t,n,t.pendingProps);case 24:return kd(t),r=Pr(nr),e===null?(i=BA(),i===null&&(i=Kt,o=OA(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},FA(t),Iu(t,nr,i)):((e.lanes&n)!==0&&(V5(e,t),A0(t,null,null,n),C0()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Iu(t,nr,r)):(r=o.cache,Iu(t,nr,r),r!==i.cache&&P5(t,[nr],n,!0))),Nr(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function xl(e){e.flags|=4}function l5(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(OF())e.flags|=8192;else throw Cd=tb,_A}else e.flags&=-16777217}function qO(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!eI(t))if(OF())e.flags|=8192;else throw Cd=tb,_A}function Cy(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?BB():536870912,e.lanes|=t,_h|=t)}function c0(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AX(e,t,n){var r=t.pendingProps;switch(RA(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(t),null;case 1:return hn(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ol(nr),kh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ih(t)?xl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ZC())),hn(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(xl(t),o!==null?(hn(t),qO(t,o)):(hn(t),l5(t,i,null,r,n))):o?o!==e.memoizedState?(xl(t),hn(t),qO(t,o)):(hn(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&xl(t),hn(t),l5(t,i,e,r,n)),null;case 27:if(Wy(t),n=$u.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xl(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return hn(t),null}e=Ds.current,ih(t)?wO(t,e):(e=JF(i,r,n),t.stateNode=e,xl(t))}return hn(t),null;case 5:if(Wy(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xl(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return hn(t),null}if(o=Ds.current,ih(t))wO(t,o);else{var a=mb($u.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=a.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Lr]=t,o[Qi]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(Hr(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xl(t)}}return hn(t),l5(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&xl(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(e=$u.current,ih(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=zr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Lr]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||YF(e.nodeValue,n)),e||ec(t,!0)}else e=mb(e).createTextNode(r),e[Lr]=t,t.stateNode=e}return hn(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=ih(t),n!==null){if(e===null){if(!r)throw Error(X(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(557));e[Lr]=t}else Td(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;hn(t),e=!1}else n=ZC(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(So(t),t):(So(t),null);if((t.flags&128)!==0)throw Error(X(558))}return hn(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ih(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Lr]=t}else Td(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;hn(t),i=!1}else i=ZC(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(So(t),t):(So(t),null)}return So(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Cy(t,t.updateQueue),hn(t),null);case 4:return kh(),e===null&&r3(t.stateNode.containerInfo),hn(t),null;case 10:return Ol(t.type),hn(t),null;case 19:if(Er(Yn),r=t.memoizedState,r===null)return hn(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)c0(r,!1);else{if(Nn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=rb(e),o!==null){for(t.flags|=128,c0(r,!1),e=o.updateQueue,t.updateQueue=e,Cy(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)l_(n,e),n=n.sibling;return tn(Yn,Yn.current&1|2),mt&&Al(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&To()>ub&&(t.flags|=128,i=!0,c0(r,!1),t.lanes=4194304)}else{if(!i)if(e=rb(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Cy(t,e),c0(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!mt)return hn(t),null}else 2*To()-r.renderingStartTime>ub&&n!==536870912&&(t.flags|=128,i=!0,c0(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=To(),e.sibling=null,n=Yn.current,tn(Yn,i?n&1|2:n&1),mt&&Al(t,r.treeForkCount),e):(hn(t),null);case 22:case 23:return So(t),IA(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(hn(t),t.subtreeFlags&6&&(t.flags|=8192)):hn(t),n=t.updateQueue,n!==null&&Cy(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Er(Sd),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ol(nr),hn(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function TX(e,t){switch(RA(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ol(nr),kh(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wy(t),null;case 31:if(t.memoizedState!==null){if(So(t),t.alternate===null)throw Error(X(340));Td()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(So(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Td()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Er(Yn),null;case 4:return kh(),null;case 10:return Ol(t.type),null;case 22:case 23:return So(t),IA(),e!==null&&Er(Sd),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ol(nr),null;case 25:return null;default:return null}}function lF(e,t){switch(RA(t),t.tag){case 3:Ol(nr),kh();break;case 26:case 27:case 5:Wy(t);break;case 4:kh();break;case 31:t.memoizedState!==null&&So(t);break;case 13:So(t);break;case 19:Er(Yn);break;case 10:Ol(t.type);break;case 22:case 23:So(t),IA(),e!==null&&Er(Sd);break;case 24:Ol(nr)}}function eg(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){Lt(t,t.return,s)}}function tc(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(s!==void 0){a.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(c){Lt(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){Lt(t,t.return,c)}}function uF(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{y_(t,n)}catch(r){Lt(e,e.return,r)}}}function cF(e,t,n){n.props=Rd(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Lt(e,t,r)}}function k0(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Lt(e,t,i)}}function ks(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Lt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Lt(e,t,i)}else n.current=null}function dF(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Lt(e,e.return,i)}}function u5(e,t,n){try{var r=e.stateNode;KX(r,e.type,n,t),r[Qi]=t}catch(i){Lt(e,e.return,i)}}function fF(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ic(e.type)||e.tag===4}function c5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fF(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ic(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function X5(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dl));else if(r!==4&&(r===27&&ic(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(X5(e,t,n),e=e.sibling;e!==null;)X5(e,t,n),e=e.sibling}function lb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ic(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(lb(e,t,n),e=e.sibling;e!==null;)lb(e,t,n),e=e.sibling}function hF(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Hr(t,r,n),t[Lr]=e,t[Qi]=n}catch(o){Lt(e,e.return,o)}}var Tl=!1,tr=!1,d5=!1,KO=typeof WeakSet=="function"?WeakSet:Set,wr=null;function kX(e,t){if(e=e.containerInfo,oA=bb,e=e_(e),AA(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(s=a),f===o&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(aA={focusedElem:e,selectionRange:n},bb=!1,wr=t;wr!==null;)if(t=wr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wr=e;else for(;wr!==null;){switch(t=wr,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var p=Rd(n.type,i);e=r.getSnapshotBeforeUpdate(p,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(m){Lt(n,n.return,m)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)lA(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lA(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,wr=e;break}wr=t.return}}function pF(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),r&4&&eg(5,n);break;case 1:if(Sl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Lt(n,n.return,a)}else{var i=Rd(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Lt(n,n.return,a)}}r&64&&uF(n),r&512&&k0(n,n.return);break;case 3:if(Sl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{y_(e,t)}catch(a){Lt(n,n.return,a)}}break;case 27:t===null&&r&4&&hF(n);case 26:case 5:Sl(e,n),t===null&&r&4&&dF(n),r&512&&k0(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),r&4&&vF(e,n);break;case 13:Sl(e,n),r&4&&yF(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=NX.bind(null,n),eZ(e,n))));break;case 22:if(r=n.memoizedState!==null||Tl,!r){t=t!==null&&t.memoizedState!==null||tr,i=Tl;var o=tr;Tl=r,(tr=t)&&!o?Cl(e,n,(n.subtreeFlags&8772)!==0):Sl(e,n),Tl=i,tr=o}break;case 30:break;default:Sl(e,n)}}function mF(e){var t=e.alternate;t!==null&&(e.alternate=null,mF(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bA(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var wn=null,Yi=!1;function El(e,t,n){for(n=n.child;n!==null;)gF(e,t,n),n=n.sibling}function gF(e,t,n){if(ko&&typeof ko.onCommitFiberUnmount=="function")try{ko.onCommitFiberUnmount(Y0,n)}catch{}switch(n.tag){case 26:tr||ks(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tr||ks(n,t);var r=wn,i=Yi;ic(n.type)&&(wn=n.stateNode,Yi=!1),El(e,t,n),O0(n.stateNode),wn=r,Yi=i;break;case 5:tr||ks(n,t);case 6:if(r=wn,i=Yi,wn=null,El(e,t,n),wn=r,Yi=i,wn!==null)if(Yi)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(n.stateNode)}catch(o){Lt(n,t,o)}else try{wn.removeChild(n.stateNode)}catch(o){Lt(n,t,o)}break;case 18:wn!==null&&(Yi?(e=wn,sB(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Lh(e)):sB(wn,n.stateNode));break;case 4:r=wn,i=Yi,wn=n.stateNode.containerInfo,Yi=!0,El(e,t,n),wn=r,Yi=i;break;case 0:case 11:case 14:case 15:tc(2,n,t),tr||tc(4,n,t),El(e,t,n);break;case 1:tr||(ks(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&cF(n,t,r)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:tr=(r=tr)||n.memoizedState!==null,El(e,t,n),tr=r;break;default:El(e,t,n)}}function vF(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Lh(e)}catch(n){Lt(t,t.return,n)}}}function yF(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Lh(e)}catch(n){Lt(t,t.return,n)}}function DX(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new KO),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new KO),t;default:throw Error(X(435,e.tag))}}function Ay(e,t){var n=DX(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=LX.bind(null,e,r);r.then(i,i)}})}function qi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 27:if(ic(s.type)){wn=s.stateNode,Yi=!1;break e}break;case 5:wn=s.stateNode,Yi=!1;break e;case 3:case 4:wn=s.stateNode.containerInfo,Yi=!0;break e}s=s.return}if(wn===null)throw Error(X(160));gF(o,a,i),wn=null,Yi=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bF(t,e),t=t.sibling}var La=null;function bF(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qi(t,e),Ki(e),r&4&&(tc(3,e,e.return),eg(3,e),tc(5,e,e.return));break;case 1:qi(t,e),Ki(e),r&512&&(tr||n===null||ks(n,n.return)),r&64&&Tl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=La;if(qi(t,e),Ki(e),r&512&&(tr||n===null||ks(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Q0]||o[Lr]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Hr(o,r,n),o[Lr]=e,xr(o),r=o;break e;case"link":var a=pB("link","href",i).get(r+(n.href||""));if(a){for(var s=0;s<a.length;s++)if(o=a[s],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(s,1);break t}}o=i.createElement(r),Hr(o,r,n),i.head.appendChild(o);break;case"meta":if(a=pB("meta","content",i).get(r+(n.content||""))){for(s=0;s<a.length;s++)if(o=a[s],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(s,1);break t}}o=i.createElement(r),Hr(o,r,n),i.head.appendChild(o);break;default:throw Error(X(468,r))}o[Lr]=e,xr(o),r=o}e.stateNode=r}else mB(i,e.type,e.stateNode);else e.stateNode=hB(i,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?mB(i,e.type,e.stateNode):hB(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&u5(e,e.memoizedProps,n.memoizedProps)}break;case 27:qi(t,e),Ki(e),r&512&&(tr||n===null||ks(n,n.return)),n!==null&&r&4&&u5(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qi(t,e),Ki(e),r&512&&(tr||n===null||ks(n,n.return)),e.flags&32){i=e.stateNode;try{Mh(i,"")}catch(p){Lt(e,e.return,p)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,u5(e,i,n!==null?n.memoizedProps:i)),r&1024&&(d5=!0);break;case 6:if(qi(t,e),Ki(e),r&4){if(e.stateNode===null)throw Error(X(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){Lt(e,e.return,p)}}break;case 3:if(jy=null,i=La,La=gb(t.containerInfo),qi(t,e),La=i,Ki(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lh(t.containerInfo)}catch(p){Lt(e,e.return,p)}d5&&(d5=!1,wF(e));break;case 4:r=La,La=gb(e.stateNode.containerInfo),qi(t,e),Ki(e),La=r;break;case 12:qi(t,e),Ki(e);break;case 31:qi(t,e),Ki(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ay(e,r)));break;case 13:qi(t,e),Ki(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bb=To()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ay(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Tl,c=tr;if(Tl=u||i,tr=c||l,qi(t,e),tr=c,Tl=u,Ki(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||Tl||tr||wd(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,i)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){Lt(l,l.return,p)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(p){Lt(l,l.return,p)}}}else if(t.tag===18){if(n===null){l=t;try{var h=l.stateNode;i?lB(h,!0):lB(l.stateNode,!1)}catch(p){Lt(l,l.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ay(e,n))));break;case 19:qi(t,e),Ki(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ay(e,r)));break;case 30:break;case 21:break;default:qi(t,e),Ki(e)}}function Ki(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(fF(r)){n=r;break}r=r.return}if(n==null)throw Error(X(160));switch(n.tag){case 27:var i=n.stateNode,o=c5(e);lb(e,o,i);break;case 5:var a=n.stateNode;n.flags&32&&(Mh(a,""),n.flags&=-33);var s=c5(e);lb(e,s,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=c5(e);X5(e,u,l);break;default:throw Error(X(161))}}catch(c){Lt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wF(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wF(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pF(e,t.alternate,t),t=t.sibling}function wd(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tc(4,t,t.return),wd(t);break;case 1:ks(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&cF(t,t.return,n),wd(t);break;case 27:O0(t.stateNode);case 26:case 5:ks(t,t.return),wd(t);break;case 22:t.memoizedState===null&&wd(t);break;case 30:wd(t);break;default:wd(t)}e=e.sibling}}function Cl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Cl(i,o,n),eg(4,o);break;case 1:if(Cl(i,o,n),r=o,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Lt(r,r.return,u)}if(r=o,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)v_(l[i],s)}catch(u){Lt(r,r.return,u)}}n&&a&64&&uF(o),k0(o,o.return);break;case 27:hF(o);case 26:case 5:Cl(i,o,n),n&&r===null&&a&4&&dF(o),k0(o,o.return);break;case 12:Cl(i,o,n);break;case 31:Cl(i,o,n),n&&a&4&&vF(i,o);break;case 13:Cl(i,o,n),n&&a&4&&yF(i,o);break;case 22:o.memoizedState===null&&Cl(i,o,n),k0(o,o.return);break;case 30:break;default:Cl(i,o,n)}t=t.sibling}}function JA(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&X0(n))}function XA(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&X0(e))}function Na(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xF(e,t,n,r),t=t.sibling}function xF(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Na(e,t,n,r),i&2048&&eg(9,t);break;case 1:Na(e,t,n,r);break;case 3:Na(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&X0(e)));break;case 12:if(i&2048){Na(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;typeof s=="function"&&s(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Lt(t,t.return,l)}}else Na(e,t,n,r);break;case 31:Na(e,t,n,r);break;case 13:Na(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,t.memoizedState!==null?o._visibility&2?Na(e,t,n,r):D0(e,t):o._visibility&2?Na(e,t,n,r):(o._visibility|=2,ah(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&JA(a,t);break;case 24:Na(e,t,n,r),i&2048&&XA(t.alternate,t);break;default:Na(e,t,n,r)}}function ah(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,a=t,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:ah(o,a,s,l,i),eg(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&2?ah(o,a,s,l,i):D0(o,a):(c._visibility|=2,ah(o,a,s,l,i)),i&&u&2048&&JA(a.alternate,a);break;case 24:ah(o,a,s,l,i),i&&u&2048&&XA(a.alternate,a);break;default:ah(o,a,s,l,i)}t=t.sibling}}function D0(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:D0(n,r),i&2048&&JA(r.alternate,r);break;case 24:D0(n,r),i&2048&&XA(r.alternate,r);break;default:D0(n,r)}t=t.sibling}}var y0=8192;function oh(e,t,n){if(e.subtreeFlags&y0)for(e=e.child;e!==null;)EF(e,t,n),e=e.sibling}function EF(e,t,n){switch(e.tag){case 26:oh(e,t,n),e.flags&y0&&e.memoizedState!==null&&fZ(n,La,e.memoizedState,e.memoizedProps);break;case 5:oh(e,t,n);break;case 3:case 4:var r=La;La=gb(e.stateNode.containerInfo),oh(e,t,n),La=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=y0,y0=16777216,oh(e,t,n),y0=r):oh(e,t,n));break;default:oh(e,t,n)}}function SF(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function d0(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];wr=r,AF(r,e)}SF(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)CF(e),e=e.sibling}function CF(e){switch(e.tag){case 0:case 11:case 15:d0(e),e.flags&2048&&tc(9,e,e.return);break;case 3:d0(e);break;case 12:d0(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vy(e)):d0(e);break;default:d0(e)}}function Vy(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];wr=r,AF(r,e)}SF(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:tc(8,t,t.return),Vy(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vy(t));break;default:Vy(t)}e=e.sibling}}function AF(e,t){for(;wr!==null;){var n=wr;switch(n.tag){case 0:case 11:case 15:tc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:X0(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,wr=r;else e:for(n=e;wr!==null;){r=wr;var i=r.sibling,o=r.return;if(mF(r),r===n){wr=null;break e}if(i!==null){i.return=o,wr=i;break e}wr=o}}}var MX={getCacheForType:function(e){var t=Pr(nr),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pr(nr).controller.signal}},RX=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Kt=null,lt=null,ft=0,Nt=0,Eo=null,Vu=!1,Uh=!1,ZA=!1,Ll=0,Nn=0,nc=0,Ad=0,e3=0,Ao=0,_h=0,M0=null,Wi=null,Z5=!1,Bb=0,TF=0,ub=1/0,cb=null,Wu=null,sr=0,Gu=null,Fh=null,Bl=0,eA=0,tA=null,kF=null,R0=0,nA=null;function Mo(){return(Ot&2)!==0&&ft!==0?ft&-ft:Ne.T!==null?n3():NB()}function DF(){if(Ao===0)if((ft&536870912)===0||mt){var e=my;my<<=1,(my&3932160)===0&&(my=262144),Ao=e}else Ao=536870912;return e=Oo.current,e!==null&&(e.flags|=32),Ao}function Gi(e,t,n){(e===Kt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(Ih(e,0),Uu(e,ft,Ao,!1)),G0(e,n),((Ot&2)===0||e!==Kt)&&(e===Kt&&((Ot&2)===0&&(Ad|=n),Nn===4&&Uu(e,ft,Ao,!1)),Rs(e))}function MF(e,t,n){if((Ot&6)!==0)throw Error(X(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||W0(e,t),i=r?_X(e,t):f5(e,t,!0),o=r;do{if(i===0){Uh&&!r&&Uu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!OX(n)){i=f5(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var s=e;i=M0;var l=s.current.memoizedState.isDehydrated;if(l&&(Ih(s,a).flags|=256),a=f5(s,a,!1),a!==2){if(ZA&&!l){s.errorRecoveryDisabledLanes|=o,Ad|=o,i=4;break e}o=Wi,Wi=i,o!==null&&(Wi===null?Wi=o:Wi.push.apply(Wi,o))}i=a}if(o=!1,i!==2)continue}}if(i===1){Ih(e,0),Uu(e,t,0,!0);break}e:{switch(r=e,o=i,o){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:Uu(r,t,Ao,!Vu);break e;case 2:Wi=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(i=Bb+300-To(),10<i)){if(Uu(r,t,Ao,!Vu),xb(r,0,!0)!==0)break e;Bl=t,r.timeoutHandle=GF(YO.bind(null,r,n,Wi,cb,Z5,t,Ao,Ad,_h,Vu,o,"Throttled",-0,0),i);break e}YO(r,n,Wi,cb,Z5,t,Ao,Ad,_h,Vu,o,null,-0,0)}}break}while(!0);Rs(e)}function YO(e,t,n,r,i,o,a,s,l,u,c,d,f,h){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dl},EF(t,o,d);var p=(o&62914560)===o?Bb-To():(o&4194048)===o?TF-To():0;if(p=hZ(d,p),p!==null){Bl=o,e.cancelPendingCommit=p(GO.bind(null,e,t,o,n,r,i,a,s,l,c,d,null,f,h)),Uu(e,o,a,!u);return}}GO(e,t,o,n,r,i,a,s,l)}function OX(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ro(o(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uu(e,t,n,r){t&=~e3,t&=~Ad,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-Do(i),a=1<<o;r[o]=-1,i&=~a}n!==0&&_B(e,n,t)}function _b(){return(Ot&6)===0?(tg(0,!1),!1):!0}function t3(){if(lt!==null){if(Nt===0)var e=lt.return;else e=lt,Ml=Id=null,HA(e),Ch=null,z0=0,e=lt;for(;e!==null;)lF(e.alternate,e),e=e.return;lt=null}}function Ih(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,GX(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Bl=0,t3(),Kt=e,lt=n=Rl(e.current,null),ft=t,Nt=0,Eo=null,Vu=!1,Uh=W0(e,t),ZA=!1,_h=Ao=e3=Ad=nc=Nn=0,Wi=M0=null,Z5=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Do(r),o=1<<i;t|=e[i],r&=~o}return Ll=t,Ab(),n}function RF(e,t){qe=null,Ne.H=H0,t===Vh||t===kb?(t=AO(),Nt=3):t===_A?(t=AO(),Nt=4):Nt=t===GA?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Eo=t,lt===null&&(Nn=1,ab(e,aa(t,e.current)))}function OF(){var e=Oo.current;return e===null?!0:(ft&4194048)===ft?la===null:(ft&62914560)===ft||(ft&536870912)!==0?e===la:!1}function BF(){var e=Ne.H;return Ne.H=H0,e===null?H0:e}function _F(){var e=Ne.A;return Ne.A=MX,e}function db(){Nn=4,Vu||(ft&4194048)!==ft&&Oo.current!==null||(Uh=!0),(nc&134217727)===0&&(Ad&134217727)===0||Kt===null||Uu(Kt,ft,Ao,!1)}function f5(e,t,n){var r=Ot;Ot|=2;var i=BF(),o=_F();(Kt!==e||ft!==t)&&(cb=null,Ih(e,t)),t=!1;var a=Nn;e:do try{if(Nt!==0&&lt!==null){var s=lt,l=Eo;switch(Nt){case 8:t3(),a=6;break e;case 3:case 2:case 9:case 6:Oo.current===null&&(t=!0);var u=Nt;if(Nt=0,Eo=null,bh(e,s,l,u),n&&Uh){a=0;break e}break;default:u=Nt,Nt=0,Eo=null,bh(e,s,l,u)}}BX(),a=Nn;break}catch(c){RF(e,c)}while(!0);return t&&e.shellSuspendCounter++,Ml=Id=null,Ot=r,Ne.H=i,Ne.A=o,lt===null&&(Kt=null,ft=0,Ab()),a}function BX(){for(;lt!==null;)FF(lt)}function _X(e,t){var n=Ot;Ot|=2;var r=BF(),i=_F();Kt!==e||ft!==t?(cb=null,ub=To()+500,Ih(e,t)):Uh=W0(e,t);e:do try{if(Nt!==0&&lt!==null){t=lt;var o=Eo;t:switch(Nt){case 1:Nt=0,Eo=null,bh(e,t,o,1);break;case 2:case 9:if(CO(o)){Nt=0,Eo=null,WO(t);break}t=function(){Nt!==2&&Nt!==9||Kt!==e||(Nt=7),Rs(e)},o.then(t,t);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:CO(o)?(Nt=0,Eo=null,WO(t)):(Nt=0,Eo=null,bh(e,t,o,7));break;case 5:var a=null;switch(lt.tag){case 26:a=lt.memoizedState;case 5:case 27:var s=lt;if(a?eI(a):s.stateNode.complete){Nt=0,Eo=null;var l=s.sibling;if(l!==null)lt=l;else{var u=s.return;u!==null?(lt=u,Fb(u)):lt=null}break t}}Nt=0,Eo=null,bh(e,t,o,5);break;case 6:Nt=0,Eo=null,bh(e,t,o,6);break;case 8:t3(),Nn=6;break e;default:throw Error(X(462))}}FX();break}catch(c){RF(e,c)}while(!0);return Ml=Id=null,Ne.H=r,Ne.A=i,Ot=n,lt!==null?0:(Kt=null,ft=0,Ab(),Nn)}function FX(){for(;lt!==null&&!rJ();)FF(lt)}function FF(e){var t=sF(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,t===null?Fb(e):lt=t}function WO(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=VO(n,t,t.pendingProps,t.type,void 0,ft);break;case 11:t=VO(n,t,t.pendingProps,t.type.render,t.ref,ft);break;case 5:HA(t);default:lF(n,t),t=lt=l_(t,Ll),t=sF(n,t,Ll)}e.memoizedProps=e.pendingProps,t===null?Fb(e):lt=t}function bh(e,t,n,r){Ml=Id=null,HA(t),Ch=null,z0=0;var i=t.return;try{if(EX(e,i,t,n,ft)){Nn=1,ab(e,aa(n,e.current)),lt=null;return}}catch(o){if(i!==null)throw lt=i,o;Nn=1,ab(e,aa(n,e.current)),lt=null;return}t.flags&32768?(mt||r===1?e=!0:Uh||(ft&536870912)!==0?e=!1:(Vu=e=!0,(r===2||r===9||r===3||r===6)&&(r=Oo.current,r!==null&&r.tag===13&&(r.flags|=16384))),IF(t,e)):Fb(t)}function Fb(e){var t=e;do{if((t.flags&32768)!==0){IF(t,Vu);return}e=t.return;var n=AX(t.alternate,t,Ll);if(n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);Nn===0&&(Nn=5)}function IF(e,t){do{var n=TX(e.alternate,e);if(n!==null){n.flags&=32767,lt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){lt=e;return}lt=e=n}while(e!==null);Nn=6,lt=null}function GO(e,t,n,r,i,o,a,s,l){e.cancelPendingCommit=null;do Ib();while(sr!==0);if((Ot&6)!==0)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(o=t.lanes|t.childLanes,o|=TA,hJ(e,n,o,a,s,l),e===Kt&&(lt=Kt=null,ft=0),Fh=t,Gu=e,Bl=n,eA=o,tA=i,kF=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zX(Gy,function(){return HF(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=Ne.T,Ne.T=null,i=Bt.p,Bt.p=2,a=Ot,Ot|=4;try{kX(e,t,n)}finally{Ot=a,Bt.p=i,Ne.T=r}}sr=1,NF(),LF(),zF()}}function NF(){if(sr===1){sr=0;var e=Gu,t=Fh,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Ne.T,Ne.T=null;var r=Bt.p;Bt.p=2;var i=Ot;Ot|=4;try{bF(t,e);var o=aA,a=e_(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&ZB(s.ownerDocument.documentElement,s)){if(l!==null&&AA(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),v=l.end===void 0?m:Math.min(l.end,p);!h.extend&&m>v&&(a=v,v=m,m=a);var g=vO(s,m),y=vO(s,v);if(g&&y&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var w=d.createRange();w.setStart(g.node,g.offset),h.removeAllRanges(),m>v?(h.addRange(w),h.extend(y.node,y.offset)):(w.setEnd(y.node,y.offset),h.addRange(w))}}}}for(d=[],h=s;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}bb=!!oA,aA=oA=null}finally{Ot=i,Bt.p=r,Ne.T=n}}e.current=t,sr=2}}function LF(){if(sr===2){sr=0;var e=Gu,t=Fh,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Ne.T,Ne.T=null;var r=Bt.p;Bt.p=2;var i=Ot;Ot|=4;try{pF(e,t.alternate,t)}finally{Ot=i,Bt.p=r,Ne.T=n}}sr=3}}function zF(){if(sr===4||sr===3){sr=0,iJ();var e=Gu,t=Fh,n=Bl,r=kF;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?sr=5:(sr=0,Fh=Gu=null,PF(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Wu=null),yA(n),t=t.stateNode,ko&&typeof ko.onCommitFiberRoot=="function")try{ko.onCommitFiberRoot(Y0,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Ne.T,i=Bt.p,Bt.p=2,Ne.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{Ne.T=t,Bt.p=i}}(Bl&3)!==0&&Ib(),Rs(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===nA?R0++:(R0=0,nA=e):R0=0,tg(0,!1)}}function PF(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,X0(t)))}function Ib(){return NF(),LF(),zF(),HF()}function HF(){if(sr!==5)return!1;var e=Gu,t=eA;eA=0;var n=yA(Bl),r=Ne.T,i=Bt.p;try{Bt.p=32>n?32:n,Ne.T=null,n=tA,tA=null;var o=Gu,a=Bl;if(sr=0,Fh=Gu=null,Bl=0,(Ot&6)!==0)throw Error(X(331));var s=Ot;if(Ot|=4,CF(o.current),xF(o,o.current,a,n),Ot=s,tg(0,!1),ko&&typeof ko.onPostCommitFiberRoot=="function")try{ko.onPostCommitFiberRoot(Y0,o)}catch{}return!0}finally{Bt.p=i,Ne.T=r,PF(e,t)}}function QO(e,t,n){t=aa(n,t),t=G5(e.stateNode,t,2),e=Yu(e,t,2),e!==null&&(G0(e,2),Rs(e))}function Lt(e,t,n){if(e.tag===3)QO(e,e,n);else for(;t!==null;){if(t.tag===3){QO(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wu===null||!Wu.has(r))){e=aa(n,e),n=tF(2),r=Yu(t,n,2),r!==null&&(nF(n,r,t,e),G0(r,2),Rs(r));break}}t=t.return}}function h5(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RX;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(ZA=!0,i.add(n),e=IX.bind(null,e,t,n),t.then(e,e))}function IX(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Kt===e&&(ft&n)===n&&(Nn===4||Nn===3&&(ft&62914560)===ft&&300>To()-Bb?(Ot&2)===0&&Ih(e,0):e3|=n,_h===ft&&(_h=0)),Rs(e)}function VF(e,t){t===0&&(t=BB()),e=Fd(e,t),e!==null&&(G0(e,t),Rs(e))}function NX(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VF(e,n)}function LX(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(X(314))}r!==null&&r.delete(t),VF(e,n)}function zX(e,t){return gA(e,t)}var fb=null,sh=null,rA=!1,hb=!1,p5=!1,ju=0;function Rs(e){e!==sh&&e.next===null&&(sh===null?fb=sh=e:sh=sh.next=e),hb=!0,rA||(rA=!0,HX())}function tg(e,t){if(!p5&&hb){p5=!0;do for(var n=!1,r=fb;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-Do(42|e)+1)-1,o&=i&~(a&~s),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,JO(r,o))}else o=ft,o=xb(r,r===Kt?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(o&3)===0||W0(r,o)||(n=!0,JO(r,o));r=r.next}while(n);p5=!1}}function PX(){UF()}function UF(){hb=rA=!1;var e=0;ju!==0&&WX()&&(e=ju);for(var t=To(),n=null,r=fb;r!==null;){var i=r.next,o=jF(r,t);o===0?(r.next=null,n===null?fb=i:n.next=i,i===null&&(sh=n)):(n=r,(e!==0||(o&3)!==0)&&(hb=!0)),r=i}sr!==0&&sr!==5||tg(e,!1),ju!==0&&(ju=0)}function jF(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var a=31-Do(o),s=1<<a,l=i[a];l===-1?((s&n)===0||(s&r)!==0)&&(i[a]=fJ(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(t=Kt,n=ft,n=xb(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&jC(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||W0(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&jC(r),yA(n)){case 2:case 8:n=RB;break;case 32:n=Gy;break;case 268435456:n=OB;break;default:n=Gy}return r=$F.bind(null,e),n=gA(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&jC(r),e.callbackPriority=2,e.callbackNode=null,2}function $F(e,t){if(sr!==0&&sr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ib()&&e.callbackNode!==n)return null;var r=ft;return r=xb(e,e===Kt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(MF(e,r,t),jF(e,To()),e.callbackNode!=null&&e.callbackNode===n?$F.bind(null,e):null)}function JO(e,t){if(Ib())return null;MF(e,t,!0)}function HX(){QX(function(){(Ot&6)!==0?gA(MB,PX):UF()})}function n3(){if(ju===0){var e=Rh;e===0&&(e=py,py<<=1,(py&261888)===0&&(py=256)),ju=e}return ju}function XO(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:By(""+e)}function ZO(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function VX(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var o=XO((i[Qi]||null).action),a=r.submitter;a&&(t=(t=a[Qi]||null)?XO(t.formAction):a.getAttribute("formAction"),t!==null&&(o=t,a=null));var s=new Eb("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ju!==0){var l=a?ZO(i,a):new FormData(i);Y5(n,{pending:!0,data:l,method:i.method,action:o},null,l)}}else typeof o=="function"&&(s.preventDefault(),l=a?ZO(i,a):new FormData(i),Y5(n,{pending:!0,data:l,method:i.method,action:o},o,l))},currentTarget:i}]})}}for(Ty=0;Ty<I5.length;Ty++)ky=I5[Ty],eB=ky.toLowerCase(),tB=ky[0].toUpperCase()+ky.slice(1),za(eB,"on"+tB);var ky,eB,tB,Ty;za(n_,"onAnimationEnd");za(r_,"onAnimationIteration");za(i_,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(oX,"onTransitionRun");za(aX,"onTransitionStart");za(sX,"onTransitionCancel");za(o_,"onTransitionEnd");Dh("onMouseEnter",["mouseout","mouseover"]);Dh("onMouseLeave",["mouseout","mouseover"]);Dh("onPointerEnter",["pointerout","pointerover"]);Dh("onPointerLeave",["pointerout","pointerover"]);Od("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Od("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Od("onBeforeInput",["compositionend","keypress","textInput","paste"]);Od("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Od("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Od("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var V0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(V0));function qF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){Jy(c)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){Jy(c)}i.currentTarget=null,o=l}}}}function st(e,t){var n=t[k5];n===void 0&&(n=t[k5]=new Set);var r=e+"__bubble";n.has(r)||(KF(t,e,2,!1),n.add(r))}function m5(e,t,n){var r=0;t&&(r|=4),KF(n,e,r,t)}var Dy="_reactListening"+Math.random().toString(36).slice(2);function r3(e){if(!e[Dy]){e[Dy]=!0,LB.forEach(function(n){n!=="selectionchange"&&(UX.has(n)||m5(n,!1,e),m5(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dy]||(t[Dy]=!0,m5("selectionchange",!1,t))}}function KF(e,t,n,r){switch(oI(t)){case 2:var i=gZ;break;case 8:i=vZ;break;default:i=s3}n=i.bind(null,t,n,e),i=void 0,!B5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function g5(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;s!==null;){if(a=ch(s),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=o=a;continue e}s=s.parentNode}}r=r.return}qB(function(){var u=o,c=xA(n),d=[];e:{var f=a_.get(e);if(f!==void 0){var h=Eb,p=e;switch(e){case"keypress":if(Fy(n)===0)break e;case"keydown":case"keyup":h=LJ;break;case"focusin":p="focus",h=WC;break;case"focusout":p="blur",h=WC;break;case"beforeblur":case"afterblur":h=WC;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=lO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=AJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=HJ;break;case n_:case r_:case i_:h=DJ;break;case o_:h=UJ;break;case"scroll":case"scrollend":h=SJ;break;case"wheel":h=$J;break;case"copy":case"cut":case"paste":h=RJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=cO;break;case"toggle":case"beforetoggle":h=KJ}var m=(t&4)!==0,v=!m&&(e==="scroll"||e==="scrollend"),g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,w;y!==null;){var x=y;if(w=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||w===null||g===null||(x=_0(y,g),x!=null&&m.push(U0(y,x,w))),v)break;y=y.return}0<m.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:m}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==O5&&(p=n.relatedTarget||n.fromElement)&&(ch(p)||p[zh]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?ch(p):null,p!==null&&(v=K0(p),m=p.tag,p!==v||m!==5&&m!==27&&m!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=lO,x="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=cO,x="onPointerLeave",g="onPointerEnter",y="pointer"),v=h==null?f:g0(h),w=p==null?f:g0(p),f=new m(x,y+"leave",h,n,c),f.target=v,f.relatedTarget=w,x=null,ch(c)===u&&(m=new m(g,y+"enter",p,n,c),m.target=w,m.relatedTarget=v,x=m),v=x,h&&p)t:{for(m=jX,g=h,y=p,w=0,x=g;x;x=m(x))w++;x=0;for(var S=y;S;S=m(S))x++;for(;0<w-x;)g=m(g),w--;for(;0<x-w;)y=m(y),x--;for(;w--;){if(g===y||y!==null&&g===y.alternate){m=g;break t}g=m(g),y=m(y)}m=null}else m=null;h!==null&&nB(d,f,h,m,!1),p!==null&&v!==null&&nB(d,v,p,m,!0)}}e:{if(f=u?g0(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=pO;else if(hO(f))if(JB)E=nX;else{E=eX;var k=ZJ}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&wA(u.elementType)&&(E=pO):E=tX;if(E&&(E=E(e,u))){QB(d,E,n,c);break e}k&&k(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&R5(f,"number",f.value)}switch(k=u?g0(u):window,e){case"focusin":(hO(k)||k.contentEditable==="true")&&(hh=k,_5=u,x0=null);break;case"focusout":x0=_5=hh=null;break;case"mousedown":F5=!0;break;case"contextmenu":case"mouseup":case"dragend":F5=!1,yO(d,n,c);break;case"selectionchange":if(iX)break;case"keydown":case"keyup":yO(d,n,c)}var A;if(CA)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else fh?WB(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(YB&&n.locale!=="ko"&&(fh||T!=="onCompositionStart"?T==="onCompositionEnd"&&fh&&(A=KB()):(Hu=c,EA="value"in Hu?Hu.value:Hu.textContent,fh=!0)),k=pb(u,T),0<k.length&&(T=new uO(T,e,null,n,c),d.push({event:T,listeners:k}),A?T.data=A:(A=GB(n),A!==null&&(T.data=A)))),(A=WJ?GJ(e,n):QJ(e,n))&&(T=pb(u,"onBeforeInput"),0<T.length&&(k=new uO("onBeforeInput","beforeinput",null,n,c),d.push({event:k,listeners:T}),k.data=A)),VX(d,e,u,n,c)}qF(d,t)})}function U0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pb(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=_0(e,n),i!=null&&r.unshift(U0(e,i,o)),i=_0(e,t),i!=null&&r.push(U0(e,i,o))),e.tag===3)return r;e=e.return}return[]}function jX(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nB(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=_0(n,o),u!=null&&a.unshift(U0(n,u,l))):i||(u=_0(n,o),u!=null&&a.push(U0(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var $X=/\r\n?/g,qX=/\u0000|\uFFFD/g;function rB(e){return(typeof e=="string"?e:""+e).replace($X,`
`).replace(qX,"")}function YF(e,t){return t=rB(t),rB(e)===t}function Pt(e,t,n,r,i,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Mh(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Mh(e,""+r);break;case"className":vy(e,"class",r);break;case"tabIndex":vy(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":vy(e,n,r);break;case"style":$B(e,r,o);break;case"data":if(t!=="object"){vy(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=By(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Pt(e,t,"name",i.name,i,null),Pt(e,t,"formEncType",i.formEncType,i,null),Pt(e,t,"formMethod",i.formMethod,i,null),Pt(e,t,"formTarget",i.formTarget,i,null)):(Pt(e,t,"encType",i.encType,i,null),Pt(e,t,"method",i.method,i,null),Pt(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=By(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Dl);break;case"onScroll":r!=null&&st("scroll",e);break;case"onScrollEnd":r!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=By(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":st("beforetoggle",e),st("toggle",e),Oy(e,"popover",r);break;case"xlinkActuate":wl(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":wl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":wl(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":wl(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":wl(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":wl(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":wl(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":wl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":wl(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Oy(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=xJ.get(n)||n,Oy(e,n,r))}}function iA(e,t,n,r,i,o){switch(n){case"style":$B(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Mh(e,r):(typeof r=="number"||typeof r=="bigint")&&Mh(e,""+r);break;case"onScroll":r!=null&&st("scroll",e);break;case"onScrollEnd":r!=null&&st("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Dl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zB.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),o=e[Qi]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Oy(e,n,r)}}}function Hr(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var r=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(a!=null)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:Pt(e,t,o,a,n,null)}}i&&Pt(e,t,"srcSet",n.srcSet,n,null),r&&Pt(e,t,"src",n.src,n,null);return;case"input":st("invalid",e);var s=o=a=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":o=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(X(137,t));break;default:Pt(e,t,r,c,n,null)}}VB(e,o,s,l,u,a,i,!1);return;case"select":st("invalid",e),r=a=o=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":r=s;default:Pt(e,t,i,s,n,null)}t=o,n=a,e.multiple=!!r,t!=null?xh(e,!!r,t,!1):n!=null&&xh(e,!!r,n,!0);return;case"textarea":st("invalid",e),o=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(X(91));break;default:Pt(e,t,a,s,n,null)}jB(e,r,i,o);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pt(e,t,l,r,n,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(r=0;r<V0.length;r++)st(V0[r],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:Pt(e,t,u,r,n,null)}return;default:if(wA(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&iA(e,t,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&Pt(e,t,s,r,n,null))}function KX(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,u=null,c=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(h)||Pt(e,t,h,null,r,d)}}for(var f in r){var h=r[f];if(d=n[f],r.hasOwnProperty(f)&&(h!=null||d!=null))switch(f){case"type":o=h;break;case"name":i=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(X(137,t));break;default:h!==d&&Pt(e,t,f,h,r,d)}}M5(e,a,s,l,u,c,o,i);return;case"select":h=a=s=f=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":h=l;default:r.hasOwnProperty(o)||Pt(e,t,o,null,r,l)}for(i in r)if(o=r[i],l=n[i],r.hasOwnProperty(i)&&(o!=null||l!=null))switch(i){case"value":f=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&Pt(e,t,i,o,r,l)}t=s,n=a,r=h,f!=null?xh(e,!!n,f,!1):!!r!=!!n&&(t!=null?xh(e,!!n,t,!0):xh(e,!!n,n?[]:"",!1));return;case"textarea":h=f=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:Pt(e,t,s,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(X(91));break;default:i!==o&&Pt(e,t,a,i,r,o)}UB(e,f,h);return;case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&f!=null&&!r.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:Pt(e,t,p,null,r,f)}for(l in r)if(f=r[l],h=n[l],r.hasOwnProperty(l)&&f!==h&&(f!=null||h!=null))switch(l){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Pt(e,t,l,f,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&f!=null&&!r.hasOwnProperty(m)&&Pt(e,t,m,null,r,f);for(u in r)if(f=r[u],h=n[u],r.hasOwnProperty(u)&&f!==h&&(f!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(X(137,t));break;default:Pt(e,t,u,f,r,h)}return;default:if(wA(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!==void 0&&!r.hasOwnProperty(v)&&iA(e,t,v,void 0,r,f);for(c in r)f=r[c],h=n[c],!r.hasOwnProperty(c)||f===h||f===void 0&&h===void 0||iA(e,t,c,f,r,h);return}}for(var g in n)f=n[g],n.hasOwnProperty(g)&&f!=null&&!r.hasOwnProperty(g)&&Pt(e,t,g,null,r,f);for(d in r)f=r[d],h=n[d],!r.hasOwnProperty(d)||f===h||f==null&&h==null||Pt(e,t,d,f,r,h)}function iB(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YX(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&iB(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,d=l.initiatorType;c&&iB(d)&&(l=l.responseEnd,a+=c*(l<s?1:(s-u)/(l-u)))}if(--r,t+=8*(o+a)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var oA=null,aA=null;function mb(e){return e.nodeType===9?e:e.ownerDocument}function oB(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WF(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var v5=null;function WX(){var e=window.event;return e&&e.type==="popstate"?e===v5?!1:(v5=e,!0):(v5=null,!1)}var GF=typeof setTimeout=="function"?setTimeout:void 0,GX=typeof clearTimeout=="function"?clearTimeout:void 0,aB=typeof Promise=="function"?Promise:void 0,QX=typeof queueMicrotask=="function"?queueMicrotask:typeof aB<"u"?function(e){return aB.resolve(null).then(e).catch(JX)}:GF;function JX(e){setTimeout(function(){throw e})}function ic(e){return e==="head"}function sB(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),Lh(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")O0(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,O0(n);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[Q0]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}else n==="body"&&O0(e.ownerDocument.body);n=i}while(n);Lh(t)}function lB(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function lA(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":lA(n),bA(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function XX(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Q0])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=ua(e.nextSibling),e===null)break}return null}function ZX(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ua(e.nextSibling),e===null))return null;return e}function QF(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ua(e.nextSibling),e===null))return null;return e}function uA(e){return e.data==="$?"||e.data==="$~"}function cA(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eZ(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var dA=null;function uB(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ua(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function cB(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function JF(e,t,n){switch(t=mb(n),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function O0(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bA(e)}var ca=new Map,dB=new Set;function gb(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zl=Bt.d;Bt.d={f:tZ,r:nZ,D:rZ,C:iZ,L:oZ,m:aZ,X:lZ,S:sZ,M:uZ};function tZ(){var e=zl.f(),t=_b();return e||t}function nZ(e){var t=Ph(e);t!==null&&t.tag===5&&t.type==="form"?$_(t):zl.r(e)}var jh=typeof document>"u"?null:document;function XF(e,t,n){var r=jh;if(r&&typeof t=="string"&&t){var i=oa(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),dB.has(i)||(dB.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Hr(t,"link",e),xr(t),r.head.appendChild(t)))}}function rZ(e){zl.D(e),XF("dns-prefetch",e,null)}function iZ(e,t){zl.C(e,t),XF("preconnect",e,t)}function oZ(e,t,n){zl.L(e,t,n);var r=jh;if(r&&e&&t){var i='link[rel="preload"][as="'+oa(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+oa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+oa(n.imageSizes)+'"]')):i+='[href="'+oa(e)+'"]';var o=i;switch(t){case"style":o=Nh(e);break;case"script":o=$h(e)}ca.has(o)||(e=mn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ca.set(o,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(ng(o))||t==="script"&&r.querySelector(rg(o))||(t=r.createElement("link"),Hr(t,"link",e),xr(t),r.head.appendChild(t)))}}function aZ(e,t){zl.m(e,t);var n=jh;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+oa(r)+'"][href="'+oa(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=$h(e)}if(!ca.has(o)&&(e=mn({rel:"modulepreload",href:e},t),ca.set(o,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rg(o)))return}r=n.createElement("link"),Hr(r,"link",e),xr(r),n.head.appendChild(r)}}}function sZ(e,t,n){zl.S(e,t,n);var r=jh;if(r&&e){var i=wh(r).hoistableStyles,o=Nh(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(ng(o)))s.loading=5;else{e=mn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ca.get(o))&&i3(e,n);var l=a=r.createElement("link");xr(l),Hr(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Uy(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}}function lZ(e,t){zl.X(e,t);var n=jh;if(n&&e){var r=wh(n).hoistableScripts,i=$h(e),o=r.get(i);o||(o=n.querySelector(rg(i)),o||(e=mn({src:e,async:!0},t),(t=ca.get(i))&&o3(e,t),o=n.createElement("script"),xr(o),Hr(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function uZ(e,t){zl.M(e,t);var n=jh;if(n&&e){var r=wh(n).hoistableScripts,i=$h(e),o=r.get(i);o||(o=n.querySelector(rg(i)),o||(e=mn({src:e,async:!0,type:"module"},t),(t=ca.get(i))&&o3(e,t),o=n.createElement("script"),xr(o),Hr(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function fB(e,t,n,r){var i=(i=$u.current)?gb(i):null;if(!i)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Nh(n.href),n=wh(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Nh(n.href);var o=wh(i).hoistableStyles,a=o.get(e);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,a),(o=i.querySelector(ng(e)))&&!o._p&&(a.instance=o,a.state.loading=5),ca.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ca.set(e,n),o||cZ(i,e,n,a.state))),t&&r===null)throw Error(X(528,""));return a}if(t&&r!==null)throw Error(X(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$h(n),n=wh(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function Nh(e){return'href="'+oa(e)+'"'}function ng(e){return'link[rel="stylesheet"]['+e+"]"}function ZF(e){return mn({},e,{"data-precedence":e.precedence,precedence:null})}function cZ(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Hr(t,"link",n),xr(t),e.head.appendChild(t))}function $h(e){return'[src="'+oa(e)+'"]'}function rg(e){return"script[async]"+e}function hB(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+oa(n.href)+'"]');if(r)return t.instance=r,xr(r),r;var i=mn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),xr(r),Hr(r,"style",i),Uy(r,n.precedence,e),t.instance=r;case"stylesheet":i=Nh(n.href);var o=e.querySelector(ng(i));if(o)return t.state.loading|=4,t.instance=o,xr(o),o;r=ZF(n),(i=ca.get(i))&&i3(r,i),o=(e.ownerDocument||e).createElement("link"),xr(o);var a=o;return a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Hr(o,"link",r),t.state.loading|=4,Uy(o,n.precedence,e),t.instance=o;case"script":return o=$h(n.src),(i=e.querySelector(rg(o)))?(t.instance=i,xr(i),i):(r=n,(i=ca.get(o))&&(r=mn({},n),o3(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),xr(i),Hr(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Uy(r,n.precedence,e));return t.instance}function Uy(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function i3(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function o3(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jy=null;function pB(e,t,n){if(jy===null){var r=new Map,i=jy=new Map;i.set(n,r)}else i=jy,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Q0]||o[Lr]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function mB(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function dZ(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function eI(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fZ(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Nh(r.href),o=t.querySelector(ng(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vb.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,xr(o);return}o=t.ownerDocument||t,r=ZF(r),(i=ca.get(i))&&i3(r,i),o=o.createElement("link"),xr(o);var a=o;a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Hr(o,"link",r),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=vb.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var y5=0;function hZ(e,t){return e.stylesheets&&e.count===0&&$y(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&$y(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&y5===0&&(y5=62500*YX());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$y(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>y5?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function vb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$y(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yb=null;function $y(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yb=new Map,t.forEach(pZ,e),yb=null,vb.call(e))}function pZ(e,t){if(!(t.state.loading&4)){var n=yb.get(e);if(n)var r=n.get(null);else{n=new Map,yb.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=t.instance,a=i.getAttribute("data-precedence"),o=n.get(a)||r,o===r&&n.set(null,i),n.set(a,i),this.count++,r=vb.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var j0={$$typeof:kl,Provider:null,Consumer:null,_currentValue:xd,_currentValue2:xd,_threadCount:0};function mZ(e,t,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$C(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$C(0),this.hiddenUpdates=$C(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function tI(e,t,n,r,i,o,a,s,l,u,c,d){return e=new mZ(e,t,n,a,l,u,c,d,s),t=1,o===!0&&(t|=24),o=Co(3,null,null,t),e.current=o,o.stateNode=e,t=OA(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},FA(o),e}function nI(e){return e?(e=gh,e):gh}function rI(e,t,n,r,i,o){i=nI(i),r.context===null?r.context=i:r.pendingContext=i,r=Ku(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Yu(e,r,t),n!==null&&(Gi(n,e,t),S0(n,e,t))}function gB(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function a3(e,t){gB(e,t),(e=e.alternate)&&gB(e,t)}function iI(e){if(e.tag===13||e.tag===31){var t=Fd(e,67108864);t!==null&&Gi(t,e,67108864),a3(e,67108864)}}function vB(e){if(e.tag===13||e.tag===31){var t=Mo();t=vA(t);var n=Fd(e,t);n!==null&&Gi(n,e,t),a3(e,t)}}var bb=!0;function gZ(e,t,n,r){var i=Ne.T;Ne.T=null;var o=Bt.p;try{Bt.p=2,s3(e,t,n,r)}finally{Bt.p=o,Ne.T=i}}function vZ(e,t,n,r){var i=Ne.T;Ne.T=null;var o=Bt.p;try{Bt.p=8,s3(e,t,n,r)}finally{Bt.p=o,Ne.T=i}}function s3(e,t,n,r){if(bb){var i=fA(r);if(i===null)g5(e,t,r,wb,n),yB(e,r);else if(bZ(i,e,t,n,r))r.stopPropagation();else if(yB(e,r),t&4&&-1<yZ.indexOf(e)){for(;i!==null;){var o=Ph(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=yd(o.pendingLanes);if(a!==0){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-Do(a);s.entanglements[1]|=l,a&=~l}Rs(o),(Ot&6)===0&&(ub=To()+500,tg(0,!1))}}break;case 31:case 13:s=Fd(o,2),s!==null&&Gi(s,o,2),_b(),a3(o,2)}if(o=fA(r),o===null&&g5(e,t,r,wb,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else g5(e,t,r,null,n)}}function fA(e){return e=xA(e),l3(e)}var wb=null;function l3(e){if(wb=null,e=ch(e),e!==null){var t=K0(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=CB(t),e!==null)return e;e=null}else if(n===31){if(e=AB(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wb=e,null}function oI(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oJ()){case MB:return 2;case RB:return 8;case Gy:case aJ:return 32;case OB:return 268435456;default:return 32}default:return 32}}var hA=!1,Qu=null,Ju=null,Xu=null,$0=new Map,q0=new Map,zu=[],yZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yB(e,t){switch(e){case"focusin":case"focusout":Qu=null;break;case"dragenter":case"dragleave":Ju=null;break;case"mouseover":case"mouseout":Xu=null;break;case"pointerover":case"pointerout":$0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":q0.delete(t.pointerId)}}function f0(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ph(t),t!==null&&iI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bZ(e,t,n,r,i){switch(t){case"focusin":return Qu=f0(Qu,e,t,n,r,i),!0;case"dragenter":return Ju=f0(Ju,e,t,n,r,i),!0;case"mouseover":return Xu=f0(Xu,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return $0.set(o,f0($0.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,q0.set(o,f0(q0.get(o)||null,e,t,n,r,i)),!0}return!1}function aI(e){var t=ch(e.target);if(t!==null){var n=K0(t);if(n!==null){if(t=n.tag,t===13){if(t=CB(n),t!==null){e.blockedOn=t,tO(e.priority,function(){vB(n)});return}}else if(t===31){if(t=AB(n),t!==null){e.blockedOn=t,tO(e.priority,function(){vB(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fA(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);O5=r,n.target.dispatchEvent(r),O5=null}else return t=Ph(n),t!==null&&iI(t),e.blockedOn=n,!1;t.shift()}return!0}function bB(e,t,n){qy(e)&&n.delete(t)}function wZ(){hA=!1,Qu!==null&&qy(Qu)&&(Qu=null),Ju!==null&&qy(Ju)&&(Ju=null),Xu!==null&&qy(Xu)&&(Xu=null),$0.forEach(bB),q0.forEach(bB)}function My(e,t){e.blockedOn===t&&(e.blockedOn=null,hA||(hA=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,wZ)))}var Ry=null;function wB(e){Ry!==e&&(Ry=e,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,function(){Ry===e&&(Ry=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(l3(r||n)===null)continue;break}var o=Ph(n);o!==null&&(e.splice(t,3),t-=3,Y5(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Lh(e){function t(l){return My(l,e)}Qu!==null&&My(Qu,e),Ju!==null&&My(Ju,e),Xu!==null&&My(Xu,e),$0.forEach(t),q0.forEach(t);for(var n=0;n<zu.length;n++){var r=zu[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<zu.length&&(n=zu[0],n.blockedOn===null);)aI(n),n.blockedOn===null&&zu.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Qi]||null;if(typeof o=="function")a||wB(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Qi]||null)s=a.formAction;else if(l3(i)!==null)continue}else s=a.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),wB(n)}}}function sI(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function u3(e){this._internalRoot=e}Nb.prototype.render=u3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var n=t.current,r=Mo();rI(n,r,e,t,null,null)};Nb.prototype.unmount=u3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rI(e.current,2,null,e,null,null),_b(),t[zh]=null}};function Nb(e){this._internalRoot=e}Nb.prototype.unstable_scheduleHydration=function(e){if(e){var t=NB();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zu.length&&t!==0&&t<zu[n].priority;n++);zu.splice(n,0,e),n===0&&aI(e)}};var xB=EB.version;if(xB!=="19.2.0")throw Error(X(527,xB,"19.2.0"));Bt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=XQ(t),e=e!==null?TB(e):null,e=e===null?null:e.stateNode,e};var xZ={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Ne,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(h0=__REACT_DEVTOOLS_GLOBAL_HOOK__,!h0.isDisabled&&h0.supportsFiber))try{Y0=h0.inject(xZ),ko=h0}catch{}var h0;Lb.createRoot=function(e,t){if(!SB(e))throw Error(X(299));var n=!1,r="",i=X_,o=Z_,a=eF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tI(e,1,!1,null,null,n,r,null,i,o,a,sI),e[zh]=t.current,r3(e),new u3(t)};Lb.hydrateRoot=function(e,t,n){if(!SB(e))throw Error(X(299));var r=!1,i="",o=X_,a=Z_,s=eF,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=tI(e,1,!0,t,n??null,r,i,l,o,a,s,sI),t.context=nI(null),n=t.current,r=Mo(),r=vA(r),i=Ku(r),i.callback=null,Yu(n,i,r),n=r,t.current.lanes=n,G0(t,n),Rs(t),e[zh]=t.current,r3(e),new Nb(t)};Lb.version="19.2.0"});var dI=ws((sCe,cI)=>{"use strict";b();function uI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uI)}catch(e){console.error(e)}}uI(),cI.exports=lI()});var YI=ws(Xb=>{"use strict";b();var bee=Symbol.for("react.transitional.element"),wee=Symbol.for("react.fragment");function KI(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:bee,type:e,key:r,ref:t!==void 0?t:null,props:n}}Xb.Fragment=wee;Xb.jsx=KI;Xb.jsxs=KI});var L=ws(($Ce,WI)=>{"use strict";b();WI.exports=YI()});b();b();b();b();b();var _a=globalThis.crypto;b();var{ByteLengthQueuingStrategy:qG,CountQueuingStrategy:KG,ReadableByteStreamController:YG,ReadableStream:WG,ReadableStreamBYOBReader:GG,ReadableStreamBYOBRequest:QG,ReadableStreamDefaultController:JG,ReadableStreamDefaultReader:XG,TransformStream:ZG,TransformStreamDefaultController:eQ,WritableStream:tQ,WritableStreamDefaultController:nQ,WritableStreamDefaultWriter:rQ,TextEncoderStream:iQ,TextDecoderStream:oQ}=globalThis,fC=globalThis.CompressionStream,t8=globalThis.DecompressionStream;b();var hC=globalThis.fetch,aQ=globalThis.Request,pC=globalThis.Response,sQ=globalThis.Headers,lQ=globalThis.FormData,uQ=globalThis.File,mC=globalThis.AbortController,cQ=globalThis.AbortSignal;b();var dQ=globalThis.atob,fQ=globalThis.btoa,gC=globalThis.Blob;b();var ei=(e=>(e.Auth="auth",e.User="user",e.Resolve="resolve",e.Pending="pending",e.Sync="sync",e.Draft="draft",e.History="history",e.PreviewToken="previewToken",e.Mutate="mutate",e.Upload="upload",e.Tree="tree",e.Commit="commit",e.Blob="blob",e))(ei||{});b();var Mu=(e=>(e[e.Authenticated=0]="Authenticated",e[e.UnAuthenticated=1]="UnAuthenticated",e[e.MissingApiKey=2]="MissingApiKey",e[e.NeedsRefresh=3]="NeedsRefresh",e))(Mu||{});b();var Ru=class extends Error{name="HttpError";code;constructor(e,t,n){super(t??e.toString(),n),this.code=e}};b();b();b();var $1=Symbol.for("@alinea.Root"),q1=e=>$1 in e,br=e=>e[$1],K1=Symbol.for("@alinea.Type"),n8=e=>K1 in e,rt=e=>e[K1],Xm=Symbol.for("@alinea.Field"),Y1=e=>Xm in e,yl=e=>e[Xm],W1=Symbol.for("@alinea.Workspace"),G1=e=>W1 in e,$i=e=>e[W1],Zm=Symbol.for("@alinea.Expr"),Gf=e=>Zm in e,Q1=e=>e[Zm];var yt=class{[Zm];constructor(e){this[Zm]=e}};b();var{entries:le,fromEntries:Rt,keys:It,values:Fa,assign:Zo,create:vC,defineProperty:yC,defineProperties:NEe,getOwnPropertyDescriptor:LEe,getOwnPropertyDescriptors:zEe,getOwnPropertyNames:PEe,getOwnPropertySymbols:HEe,getPrototypeOf:VEe,setPrototypeOf:UEe,is:jEe,preventExtensions:$Ee,seal:qEe,freeze:KEe,isExtensible:YEe,isSealed:WEe,isFrozen:GEe,hasOwnProperty:QEe,propertyIsEnumerable:JEe,isPrototypeOf:XEe}=Object;var bC=new WeakMap,r8="@alinea.Entity",i8="@alinea.Expr",e0={workspace(e){return`Workspace.${e}`},root(e,t){return`Root.${e}.${t}`},page(e,t,n){return`Page.${e}.${t}.${n}`},type(e){return`Type.${e}`},field(e,t){return`Field.${e}.${t}`},entry(e){return`Entry.${e}`}},hQ=class{#e=new Map;#t=new Map;constructor(e){for(let[t,n]of le(e.workspaces)){this.#n(n,e0.workspace(t));for(let[r,i]of le(n)){this.#n(i,e0.root(t,r));for(let[o,a]of le(i))this.#n(a,e0.page(t,r,o))}}for(let[t,n]of le(e.schema)){this.#n(n,e0.type(t));for(let[r,i]of le(n))this.#n(i,e0.field(t,r))}}workspaceOf(e){let t=this.#t.get(e);if(!t)throw new Error(`Root not found in scope: ${e}`);return this.#e.get(t[0])}keyOf(e){let t=this.#t.get(e);if(!t)throw new Error(`Entity not found in scope: ${e}`);return t.join(".")}locationOf(e){return this.#t.get(e)?.slice(1)}nameOf(e){return this.#t.get(e)?.at(-1)}stringify(e){return JSON.stringify(e,(n,r)=>this.#t.has(r)?{[r8]:this.#t.get(r)?.join(".")}:r&&typeof r=="object"&&Gf(r)?{[i8]:Q1(r)}:r)}parse(e){return JSON.parse(e,(n,r)=>{if(r&&typeof r=="object"){let i=Object.keys(r);if(i.length===1){let[o]=i;if(o===r8)return this.#e.get(r[o]);if(o===i8)return new yt(r[o])}}return r})}#n(e,t){let n=this.#t.get(e),r=t.split(".");if(n)throw new Error(`${r[0]} '${r.slice(1).join(".")}' is already in use at '${n.slice(1).join(".")}' \u2014 ${r[0]}s must be unique`);this.#t.set(e,r),this.#e.set(t,e)}};function wo(e){return bC.has(e)||bC.set(e,new hQ(e)),bC.get(e)}b();b();function we(e,t){if(e)return;let n=new Error(t);throw"captureStackTrace"in Error&&Error.captureStackTrace(n,we),n}b();b();async function o8(e){let t=await _a.subtle.digest("SHA-1",e),n=new Uint8Array(t);return s8(n)}function wC(e){let t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t),r=0;for(let i of e)n.set(i,r),r+=i.length;return n}function a8(e){if(e.length%2!==0)throw new Error("Invalid hex string");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=Number.parseInt(e.slice(n,n+2),16);return t}var pQ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function s8(e){let t="";for(let n=0;n<e.length;n++)t+=pQ[e[n]];return t}function Es(e,t){return-(e<t)||+(e>t)}function t0(e){let t=e.indexOf("/");if(t===-1)return[e,void 0];let n=e.slice(0,t),r=e.slice(t+1);return[n,r]}var l8=new TextEncoder,hSe=new TextDecoder;function u8(e){let n=e.slice().sort(mQ).map(r=>{let o=`${r.mode.startsWith("0")?r.mode.slice(1):r.mode} ${r.name}\0`,a=l8.encode(o),s=a8(r.sha);return new Uint8Array([...a,...s])});return wC(n)}function mQ(e,t){let n=e.entries?`${e.name}/`:e.name,r=t.entries?`${t.name}/`:t.name;return Es(n,r)}function c8(e,t){let n=`${e} ${t.length}\0`,r=l8.encode(n),i=wC([r,t]);return o8(i)}function d8(e){return c8("tree",e)}async function Qf(e){return c8("blob",e)}b();var Ss=class extends Ru{constructor(e,t,n="SHA mismatch"){super(409,`${n}: ${e} <> ${t}`),this.actual=e,this.expected=t}};var Ia=class{type="blob";sha;mode;constructor({sha:e,mode:t}){if(t!=="100644"&&t!=="100755")throw new Error(`Invalid mode for leaf: ${t}`);this.sha=e,this.mode=t}clone(){return this}toJSON(){return{...this}}},xC="4b825dc642cb6eb9a060e54bf8d69288fbee4904",Z1=class n0{type="tree";mode="040000";sha;nodes=new Map;constructor(t){this.sha=t}get(t){let[n,r]=t0(t),i=this.nodes.get(n);if(!r)return i;if(i&&!(i instanceof Ia))return i.get(r)}getNode(t){let n=this.get(t);if(!n)throw new Error(`Node not found: ${t}`);if(n instanceof Ia)throw new Error(`Expected node, found leaf: ${t}`);return n}getLeaf(t){let n=this.get(t);if(!n)throw new Error(`Leaf not found: ${t}`);if(!(n instanceof Ia))throw new Error(`Expected leaf, found node: ${t}`);return n}has(t){let[n,r]=t0(t);if(r){let i=this.nodes.get(n);return!i||i instanceof Ia?!1:i.has(r)}return this.nodes.has(n)}*[Symbol.iterator](){for(let[t,n]of this.nodes)if(yield[t,n],n instanceof n0)for(let[r,i]of n)yield[`${t}/${r}`,i]}*paths(){for(let[t,n]of this.nodes)if(yield t,n instanceof n0)for(let r of n.paths())yield`${t}/${r}`}index(){return new Map(this.fileIndex(""))}fileIndex(t){return Array.from(this.nodes,([n,r])=>r instanceof n0?r.fileIndex(`${t}${n}/`):[[t+n,r.sha]]).flat()}equals(t){if(t instanceof xo)return this.sha===t.sha;if(this.sha&&t.sha&&this.sha===t.sha)return!0;if(this.nodes.size!==t.nodes.size)return!1;for(let[r,i]of this.nodes){let o=t.nodes.get(r);if(!o)return!1;if(i instanceof Ia){if(!(o instanceof Ia)||i.sha!==o.sha)return!1}else if(!(o instanceof n0)||!i.equals(o))return!1}return!0}},xo=class J1 extends Z1{sha;static EMPTY=new J1({sha:xC,entries:[]});#e=new Set;constructor({sha:t,entries:n}){super(t),this.sha=t;for(let r of n){let i=r.entries?new J1(r):new Ia(r);if(i instanceof Ia)this.#e.add(i.sha);else for(let o of i.#e)this.#e.add(o);this.nodes.set(r.name,i)}}get isEmpty(){return this.sha===xC}get entries(){return[...this.nodes.entries()].map(([t,n])=>({name:t,...n.toJSON()}))}get shas(){return this.#e}hasSha(t){return this.#e.has(t)}clone(){return new gQ({sha:this.sha,entries:this.entries})}toJSON(){return{sha:this.sha,mode:this.mode,entries:this.entries}}flat(){return{sha:this.sha,tree:this.#t("")}}withChanges(t){let n=this.clone();return n.applyChanges(t),n.compile()}#t(t){return Array.from(this.nodes,([n,r])=>{let i={type:r.type,path:t+n,mode:r.mode,sha:r.sha};return r instanceof Z1?[i].concat(r.#t(`${t}${n}/`)):[i]}).flat()}static fromFlat(t){let n=Array(),r=new Map;for(let{path:i,mode:o,sha:a}of t.tree){let s=i.lastIndexOf("/"),l=s===-1?"":i.slice(0,s),c={name:s===-1?i:i.slice(s+1),mode:o,sha:a};if(r.set(i,c),l){let d=r.get(l);we(d,`Parent not found: ${l}`),d.entries||(d.entries=[]),d.entries.push(c)}else n.push(c)}return new J1({sha:t.sha,entries:n})}diff(t){let n=this.index(),r=t.index(),i=[],o=new Set([...n.keys(),...r.keys()].sort(Es));for(let a of o){let s=n.get(a),l=r.get(a);s!==l&&(l===void 0?i.unshift({op:"delete",path:a,sha:s}):i.push({op:"add",path:a,sha:l}))}return{fromSha:this.sha,changes:i}}},gQ=class X1 extends Z1{constructor({sha:t,entries:n}={sha:xC,entries:[]}){super(t);for(let r of n)this.nodes.set(r.name,r.entries?new X1(r):new Ia(r))}add(t,n){this.sha=void 0;let[r,i]=t0(t);if(i)this.#e(r).add(i,n);else{let o=typeof n=="string"?new Ia({sha:n,mode:"100644"}):n.clone();this.nodes.set(r,o)}}#e(t){return this.sha=void 0,this.nodes.has(t)||this.nodes.set(t,new X1),this.getNode(t)}#t(t){return this.nodes.get(t)}remove(t){this.sha=void 0;let[n,r]=t0(t);if(!r)return this.nodes.delete(n);let i=this.#t(n);if(!i)return!1;let o=i.remove(r);return i.nodes.size===0&&this.nodes.delete(n),o}rename(t,n){let r=this.get(t);r&&(this.remove(t),this.add(n,r.clone()))}applyChanges(t){let{fromSha:n,changes:r}=t;if(this.sha&&this.sha!==n)throw new Ss(n,this.sha);for(let i of r)switch(i.op){case"delete":{let o=this.get(i.path);if(!o)continue;we(o instanceof Ia,`Cannot delete: ${i.path}`),we(o.sha===i.sha,`SHA mismatch: ${o.sha} !== ${i.sha} for ${i.path}`),this.remove(i.path);continue}case"add":{let o=this.get(i.path);if(o&&o.sha===i.sha)continue;this.add(i.path,i.sha);continue}}}async#n(t){if(t?.equals(this))return t.toJSON();let n=await this.#r(t);if(this.sha)return{sha:this.sha,entries:n};let r=u8(n);return this.sha=await d8(r),{sha:this.sha,entries:n}}async#r(t){let n=Array();for(let[r,i]of this.nodes.entries())if(i instanceof Z1){let o=t?.get(r),a=await i.#n(o instanceof xo?o:void 0);a.entries.length>0&&n.push({name:r,...i,...a})}else n.push({name:r,...i});return n}async getSha(){return(await this.#n()).sha}async compile(t){return new xo(await this.#n(t))}clone(){let t=new X1;for(let[n,r]of this.nodes)t.add(n,r.clone());return t.sha=this.sha,t}};b();function vQ(e,t,n={}){if(!t.codes){t.codes={};for(let l=0;l<t.chars.length;++l)t.codes[t.chars[l]]=l}if(!n.loose&&e.length*t.bits&7)throw new SyntaxError("Invalid padding");let r=e.length;for(;e[r-1]==="=";)if(--r,!n.loose&&!((e.length-r)*t.bits&7))throw new SyntaxError("Invalid padding");let i=new(n.out??Uint8Array)(r*t.bits/8|0),o=0,a=0,s=0;for(let l=0;l<r;++l){let u=t.codes[e[l]];if(u===void 0)throw new SyntaxError(`Invalid character ${e[l]}`);a=a<<t.bits|u,o+=t.bits,o>=8&&(o-=8,i[s++]=255&a>>o)}if(o>=t.bits||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return i}function yQ(e,t,n={}){let{pad:r=!0}=n,i=(1<<t.bits)-1,o="",a=0,s=0;for(let l=0;l<e.length;++l)for(s=s<<8|255&e[l],a+=8;a>t.bits;)a-=t.bits,o+=t.chars[i&s>>a];if(a&&(o+=t.chars[i&s<<t.bits-a]),r)for(;o.length*t.bits&7;)o+="=";return o}var f8={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bits:6};var Jf={parse(e,t){return vQ(e,f8,t)},stringify(e,t){return yQ(e,f8,t)}};function h8(e){return Jf.stringify(new TextEncoder().encode(e))}var ey=class p8{#e;constructor(t){this.#e=t}get url(){return this.#e.url}authStatus(){return this.#n({action:ei.Auth,auth:"status"}).then(this.#r)}logout=async()=>{let t=this.#e.unauthorized;await this.#t({action:ei.Auth,auth:"logout"}).then(n=>this.#r(n,!1)).then(t)};previewToken(t){return this.#n({action:ei.PreviewToken},{method:"POST",body:JSON.stringify(t)}).then(this.#r)}prepareUpload(t){return this.#n({action:ei.Upload},{method:"POST",body:JSON.stringify({filename:t})}).then(this.#r)}user(){return this.#n({action:ei.User}).then(this.#r).then(t=>t??void 0)}resolve(t){let r=wo(this.#e.config).stringify(t);return this.#n({action:ei.Resolve},{method:"POST",body:r}).then(this.#r)}mutate(t){return this.#n({action:ei.Mutate},{method:"POST",body:JSON.stringify(t)}).then(this.#r)}authenticate(t,n){return new p8({...this.#e,applyAuth:t,unauthorized:n})}revisions(t){return this.#n({action:ei.History,file:t}).then(this.#r)}revisionData(t,n){return this.#n({action:ei.History,file:t,revisionId:n}).then(this.#r).then(r=>r??void 0)}getTreeIfDifferent(t){return this.#n({action:ei.Tree,sha:t}).then(this.#r).then(n=>n?new xo(n):void 0)}async*getBlobs(t){if(t.length===0)return;let r=await(await this.#t({action:ei.Blob},{method:"POST",body:JSON.stringify({shas:t}),headers:{"content-type":"application/json",accept:"multipart/form-data"}}).then(i=>this.#r(i,!1))).formData();for(let[i,o]of r.entries())if(o instanceof Blob){let a=i.slice(0,40),s=new Uint8Array(await o.arrayBuffer());yield[a,s]}}write(t){return this.#n({action:ei.Commit},{method:"POST",body:JSON.stringify(t)}).then(this.#r)}getDraft(t){return this.#n({action:ei.Draft,key:t}).then(this.#r).then(n=>n?{...n,draft:Jf.parse(n.draft)}:void 0)}storeDraft(t){return this.#n({action:ei.Draft},{method:"POST",body:JSON.stringify({...t,draft:Jf.stringify(t.draft)})}).then(n=>this.#r(n,!1))}#t(t,n={},r=!1){let{url:i,applyAuth:o=h=>h,unauthorized:a}=this.#e,s=new mC,l=s.signal,u=`${i}?${new URLSearchParams(t).toString()}`,c=hC(u,{...o(n),signal:l}).catch(h=>{throw new Ru(500,`${h} @ ${n?.method||"GET"} action ${t.action}`)}).then(async h=>{if(h.ok)return h;let p=h.headers.get("content-type")?.includes("application/json"),m;if(p){let v=await h.json();if(h.status===401&&v.type===Mu.NeedsRefresh&&!r)return this.#t(t,n,!0);"error"in v&&typeof v.error=="string"?m=v.error:m=JSON.stringify(v,null,2)}else m=await h.text();throw m=m.replace(/\s+/g," ").slice(0,1024),h.status===401&&a?.(),new Ru(h.status,`${m} @ ${n?.method||"GET"} action ${t.action}`)}),d=()=>s.abort();function f(h){let p=h.then.bind(h),m=h.catch.bind(h);return Object.assign(h,{cancel:d,then:(...v)=>f(p(...v)),catch:(...v)=>f(m(...v))})}return f(c)}#n(t,n){return this.#t(t,{...n,headers:{...n?.headers,"content-type":"application/json",accept:"application/json"}})}async#r(t,n=!0){if(t.ok)return n?t.json():t;let r=await t.text();throw new Ru(t.status,r||t.statusText)}};b();b();var g8=Symbol("Comlink.proxy"),bQ=Symbol("Comlink.endpoint"),wQ=Symbol("Comlink.releaseProxy"),EC=Symbol("Comlink.finalizer"),ny=Symbol("Comlink.thrown"),v8=e=>typeof e=="object"&&e!==null||typeof e=="function",xQ={canHandle:e=>v8(e)&&e[g8],serialize(e){let{port1:t,port2:n}=new MessageChannel;return ay(e,t),[n,[n]]},deserialize(e){return e.start(),CC(e)}},EQ={canHandle:e=>v8(e)&&ny in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},y8=new Map([["proxy",xQ],["throw",EQ]]);function SQ(e,t){for(let n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function ay(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(i){if(!i||!i.data)return;if(!SQ(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}let{id:o,type:a,path:s}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(md),u;try{let c=s.slice(0,-1).reduce((f,h)=>f[h],e),d=s.reduce((f,h)=>f[h],e);switch(a){case"GET":u=d;break;case"SET":c[s.slice(-1)[0]]=md(i.data.value),u=!0;break;case"APPLY":u=d.apply(c,l);break;case"CONSTRUCT":{let f=new d(...l);u=MQ(f)}break;case"ENDPOINT":{let{port1:f,port2:h}=new MessageChannel;ay(e,h),u=DQ(f,[f])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[ny]:0}}Promise.resolve(u).catch(c=>({value:c,[ny]:0})).then(c=>{let[d,f]=oy(c);t.postMessage(Object.assign(Object.assign({},d),{id:o}),f),a==="RELEASE"&&(t.removeEventListener("message",r),b8(t),EC in e&&typeof e[EC]=="function"&&e[EC]())}).catch(c=>{let[d,f]=oy({value:new TypeError("Unserializable return value"),[ny]:0});t.postMessage(Object.assign(Object.assign({},d),{id:o}),f)})}),t.start&&t.start()}function CQ(e){return e.constructor.name==="MessagePort"}function b8(e){CQ(e)&&e.close()}function CC(e,t){let n=new Map;return e.addEventListener("message",function(i){let{data:o}=i;if(!o||!o.id)return;let a=n.get(o.id);if(a)try{a(o)}finally{n.delete(o.id)}}),SC(e,n,[],t)}function ty(e){if(e)throw new Error("Proxy has been released and is not useable")}function w8(e){return Xf(e,new Map,{type:"RELEASE"}).then(()=>{b8(e)})}var ry=new WeakMap,iy="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(ry.get(e)||0)-1;ry.set(e,t),t===0&&w8(e)});function AQ(e,t){let n=(ry.get(t)||0)+1;ry.set(t,n),iy&&iy.register(e,t,e)}function TQ(e){iy&&iy.unregister(e)}function SC(e,t,n=[],r=function(){}){let i=!1,o=new Proxy(r,{get(a,s){if(ty(i),s===wQ)return()=>{TQ(o),w8(e),t.clear(),i=!0};if(s==="then"){if(n.length===0)return{then:()=>o};let l=Xf(e,t,{type:"GET",path:n.map(u=>u.toString())}).then(md);return l.then.bind(l)}return SC(e,t,[...n,s])},set(a,s,l){ty(i);let[u,c]=oy(l);return Xf(e,t,{type:"SET",path:[...n,s].map(d=>d.toString()),value:u},c).then(md)},apply(a,s,l){ty(i);let u=n[n.length-1];if(u===bQ)return Xf(e,t,{type:"ENDPOINT"}).then(md);if(u==="bind")return SC(e,t,n.slice(0,-1));let[c,d]=m8(l);return Xf(e,t,{type:"APPLY",path:n.map(f=>f.toString()),argumentList:c},d).then(md)},construct(a,s){ty(i);let[l,u]=m8(s);return Xf(e,t,{type:"CONSTRUCT",path:n.map(c=>c.toString()),argumentList:l},u).then(md)}});return AQ(o,e),o}function kQ(e){return Array.prototype.concat.apply([],e)}function m8(e){let t=e.map(oy);return[t.map(n=>n[0]),kQ(t.map(n=>n[1]))]}var x8=new WeakMap;function DQ(e,t){return x8.set(e,t),e}function MQ(e){return Object.assign(e,{[g8]:!0})}function oy(e){for(let[t,n]of y8)if(n.canHandle(e)){let[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},x8.get(e)||[]]}function md(e){switch(e.type){case"HANDLER":return y8.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Xf(e,t,n,r){return new Promise(i=>{let o=RQ();t.set(o,i),e.start&&e.start(),e.postMessage(Object.assign({id:o},n),r)})}function RQ(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}b();var en=class E8 extends Event{constructor(t){super(E8.type),this.data=t}static type="index"};b();var sy=class{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=t}#r(){return new Promise((e,t)=>{let n=this.#e.open(this.#t);n.onsuccess=()=>{let r=n.result;r.onclose=()=>{console.info("IndexedDB connection closed"),this.#n=void 0},e(r)},n.onerror=()=>t(n.error),n.onupgradeneeded=()=>{let r=n.result;r.createObjectStore("blobs"),r.createObjectStore("tree")}})}#i(){return this.#n??=this.#r(),this.#n}#o(e){return t=>{if(t instanceof Error&&t.message.includes("closing"))return this.#n=void 0,e();throw t}}getTree(){let e=async()=>{let n=(await this.#i()).transaction(["tree","blobs"],"readonly"),r=n.objectStore("tree"),i=n.objectStore("blobs"),[o,a]=await Promise.all([new Promise((s,l)=>{let u=r.get("tree");u.onsuccess=c=>{let d=c.target.result;s(d?new xo(d):xo.EMPTY)},u.onerror=c=>l(c.target.error)}),new Promise((s,l)=>{let u=i.getAllKeys();u.onsuccess=()=>s(u.result),u.onerror=c=>l(c.target.error)})]);for(let s of o.shas)if(!a.includes(s))return console.warn(`Blob ${s} in tree, but not found`),xo.EMPTY;return o};return e().catch(this.#o(e))}async getTreeIfDifferent(e){let t=await this.getTree();return t.sha===e?void 0:t}async*getBlobs(e){let r=(await this.#i()).transaction(["blobs"],"readonly").objectStore("blobs");for(let i of e){let o=r.get(i);yield new Promise((a,s)=>{o.onsuccess=l=>{let u=l.target.result;u?a([i,u]):s(new Error(`Blob not found: ${i}`))},o.onerror=l=>s(l.target.error)})}}async applyChanges(e){let t=await this.#i(),n=await this.getTree();if(e.fromSha!==n.sha)throw new Ss(n.sha,e.fromSha,"Cannot apply changes locally due to SHA mismatch");let r=n.clone();r.applyChanges(e);let i=await r.compile(),o=t.transaction(["blobs","tree"],"readwrite"),a=o.objectStore("blobs");o.objectStore("tree").put(i.toJSON(),"tree");for(let u of e.changes)switch(u.op){case"add":a.put(u.contents,u.sha);break}let l=await new Promise((u,c)=>{let d=a.getAllKeys();d.onsuccess=()=>u(d.result),d.onerror=f=>c(f.target.error)});for(let u of l)i.hasSha(u)||a.delete(u);return new Promise((u,c)=>{o.oncomplete=()=>u(),o.onerror=d=>c(d.target.error)})}};var HU=D(dI(),1);b();b();b();var EZ=0;function J(e,t){let n=`atom${++EZ}`,r={toString(){return(import.meta.env?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=SZ,r.write=CZ),t&&(r.write=t),r}function SZ(e){return e(this)}function CZ(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}var fI=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,c3=e=>"init"in e,d3=e=>!!e.write,og=Symbol((import.meta.env?"production":void 0)!=="production"?"CONTINUE_PROMISE":""),h3="pending",AZ="fulfilled",TZ="rejected",kZ=e=>typeof e=="object"&&e!==null&&og in e,zb=new WeakMap,DZ=(e,t,n)=>{if(!zb.has(e)){let r,i=new Promise((o,a)=>{let s=e,l=c=>d=>{s===c&&(i.status=AZ,i.value=d,o(d),n())},u=c=>d=>{s===c&&(i.status=TZ,i.reason=d,a(d),n())};e.then(l(e),u(e)),r=(c,d)=>{c&&(zb.set(c,i),s=c,c.then(l(c),u(c)),t(),t=d)}});i.status=h3,i[og]=r,zb.set(e,i)}return zb.get(e)},MZ=e=>typeof e?.then=="function",hI=e=>"v"in e||"e"in e,Pb=e=>{if("e"in e)throw e.e;if((import.meta.env?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},Hb=e=>{let t=e.v;return kZ(t)&&t.status===h3?t:null},gI=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},pI=(e,t,n,r,i)=>{var o;if((import.meta.env?"production":void 0)!=="production"&&r===t)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,i.n);let a=Hb(n);a&&gI(t,a,i),(o=i.m)==null||o.t.add(t),e&&RZ(e,r,t)},qh=()=>[new Map,new Map,new Set],f3=(e,t,n)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,n)},RZ=(e,t,n)=>{let r=e[0].get(t);r&&r.add(n)},OZ=(e,t)=>e[0].get(t),mI=(e,t)=>{e[2].add(t)},Nd=e=>{for(;e[1].size||e[2].size;){e[0].clear();let t=new Set(e[1].values());e[1].clear();let n=new Set(e[2]);e[2].clear(),t.forEach(r=>{var i;return(i=r.m)==null?void 0:i.l.forEach(o=>o())}),n.forEach(r=>r())}},vI=e=>{let t;(import.meta.env?"production":void 0)!=="production"&&(t=new Set);let n=(m,v,g,y=()=>{},w=()=>{})=>{let x="v"in v,S=v.v,E=Hb(v);if(MZ(g))if(E)E!==g&&(E[og](g,y),++v.n);else{let k=DZ(g,y,w);if(k.status===h3)for(let A of v.d.keys())gI(m,k,e(A,v));v.v=k,delete v.e}else E&&E[og](Promise.resolve(g),y),v.v=g,delete v.e;(!x||!Object.is(S,v.v))&&++v.n},r=(m,v,g,y)=>{if(!y?.(v)&&hI(g)&&(g.m||Array.from(g.d).every(([A,T])=>r(m,A,e(A,g),y).n===T)))return g;g.d.clear();let w=!0,x=A=>{if(fI(v,A)){let R=e(A,g);if(!hI(R))if(c3(A))n(A,R,A.init);else throw new Error("no atom init");return Pb(R)}let T=r(m,A,e(A,g),y);if(w)pI(m,v,g,A,T);else{let R=qh();pI(R,v,g,A,T),u(R,v,g),Nd(R)}return Pb(T)},S,E,k={get signal(){return S||(S=new AbortController),S.signal},get setSelf(){return(import.meta.env?"production":void 0)!=="production"&&!d3(v)&&console.warn("setSelf function cannot be used with read-only atom"),!E&&d3(v)&&(E=(...A)=>{if((import.meta.env?"production":void 0)!=="production"&&w&&console.warn("setSelf function cannot be called in sync"),!w)return l(v,...A)}),E}};try{let A=v.read(x,k);return n(v,g,A,()=>S?.abort(),()=>{if(g.m){let T=qh();u(T,v,g),Nd(T)}}),g}catch(A){return delete g.v,g.e=A,++g.n,g}finally{w=!1}},i=m=>Pb(r(void 0,m,e(m))),o=(m,v,g)=>{var y,w;let x=new Map;for(let S of((y=g.m)==null?void 0:y.t)||[])x.set(S,e(S,g));for(let S of g.p)x.set(S,e(S,g));return(w=OZ(m,v))==null||w.forEach(S=>{x.set(S,e(S,g))}),x},a=(m,v,g)=>{let y=[],w=new Set,x=(k,A)=>{if(!w.has(k)){w.add(k);for(let[T,R]of o(m,k,A))k!==T&&x(T,R);y.push([k,A,A.n])}};x(v,g);let S=new Set([v]),E=k=>w.has(k);for(let k=y.length-1;k>=0;--k){let[A,T,R]=y[k],M=!1;for(let O of T.d.keys())if(O!==A&&S.has(O)){M=!0;break}M&&(r(m,A,T,E),u(m,A,T),R!==T.n&&(f3(m,A,T),S.add(A))),w.delete(A)}},s=(m,v,g,...y)=>{let w=E=>Pb(r(m,E,e(E,g))),x=(E,...k)=>{let A=e(E,g),T;if(fI(v,E)){if(!c3(E))throw new Error("atom not writable");let R="v"in A,M=A.v,O=k[0];n(E,A,O),u(m,E,A),(!R||!Object.is(M,A.v))&&(f3(m,E,A),a(m,E,A))}else T=s(m,E,A,...k);return Nd(m),T};return v.write(w,x,...y)},l=(m,...v)=>{let g=qh(),y=s(g,m,e(m),...v);return Nd(g),y},u=(m,v,g)=>{if(g.m&&!Hb(g)){for(let y of g.d.keys())g.m.d.has(y)||(c(m,y,e(y,g)).t.add(v),g.m.d.add(y));for(let y of g.m.d||[])if(!g.d.has(y)){g.m.d.delete(y);let w=d(m,y,e(y,g));w?.t.delete(v)}}},c=(m,v,g)=>{if(!g.m){r(m,v,g);for(let y of g.d.keys())c(m,y,e(y,g)).t.add(v);if(g.m={l:new Set,d:new Set(g.d.keys()),t:new Set},(import.meta.env?"production":void 0)!=="production"&&t.add(v),d3(v)&&v.onMount){let y=g.m,{onMount:w}=v;mI(m,()=>{let x=w((...S)=>s(m,v,g,...S));x&&(y.u=x)})}}return g.m},d=(m,v,g)=>{if(g.m&&!g.m.l.size&&!Array.from(g.m.t).some(y=>{var w;return(w=e(y,g).m)==null?void 0:w.d.has(v)})){let y=g.m.u;y&&mI(m,y),delete g.m,(import.meta.env?"production":void 0)!=="production"&&t.delete(v);for(let x of g.d.keys()){let S=d(m,x,e(x,g));S?.t.delete(v)}let w=Hb(g);w&&w[og](void 0,()=>{});return}return g.m},p={get:i,set:l,sub:(m,v)=>{let g=qh(),y=e(m),w=c(g,m,y);Nd(g);let x=w.l;return x.add(v),()=>{x.delete(v);let S=qh();d(S,m,y),Nd(S)}},unstable_derive:m=>vI(...m(e))};return(import.meta.env?"production":void 0)!=="production"&&Object.assign(p,{dev4_get_internal_weak_map:()=>({get:v=>{let g=e(v);if(g.n!==0)return g}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:v=>{let g=qh();for(let[y,w]of v)if(c3(y)){let x=e(y),S="v"in x,E=x.v;n(y,x,w),u(g,y,x),(!S||!Object.is(E,x.v))&&(f3(g,y,x),a(g,y,x))}Nd(g)}}),p},BZ=()=>{let e=new WeakMap;return vI(n=>{let r=e.get(n);return r||(r={d:new Map,p:new Set,n:0},e.set(n,r)),r})},ig,yI=()=>(ig||(ig=BZ(),(import.meta.env?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ig),globalThis.__JOTAI_DEFAULT_STORE__!==ig&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ig);var Xi=D($(),1),_Z=(0,Xi.createContext)(void 0),Vb=e=>{let t=(0,Xi.useContext)(_Z);return e?.store||t||yI()},FZ=e=>typeof e?.then=="function",IZ=Xi.default.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function oe(e,t){let n=Vb(t),[[r,i,o],a]=(0,Xi.useReducer)(u=>{let c=n.get(e);return Object.is(u[0],c)&&u[1]===n&&u[2]===e?u:[c,n,e]},void 0,()=>[n.get(e),n,e]),s=r;(i!==n||o!==e)&&(a(),s=n.get(e));let l=t?.delay;return(0,Xi.useEffect)(()=>{let u=n.sub(e,()=>{if(typeof l=="number"){setTimeout(a,l);return}a()});return a(),u},[n,e,l]),(0,Xi.useDebugValue)(s),FZ(s)?IZ(s):s}function it(e,t){let n=Vb(t);return(0,Xi.useCallback)((...i)=>{if((import.meta.env?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function Bo(e,t){return[oe(e,t),it(e,t)]}b();b();b();var ac=D($(),1),Kh=D($(),1),w3=D($(),1),LI=D(Ei(),1);function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t.apply(null,arguments)}var qb=typeof window>"u";function ni(){}function NZ(e,t){return typeof e=="function"?e(t):e}function p3(e){return typeof e=="number"&&e>=0&&e!==1/0}function Kb(e){return Array.isArray(e)?e:[e]}function kI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ub(e,t,n){return Jb(e)?typeof t=="function"?_t({},n,{queryKey:e,queryFn:t}):_t({},t,{queryKey:e}):e}function oc(e,t,n){return Jb(e)?[_t({},t,{queryKey:e}),n]:[e||{},t]}function LZ(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function bI(e,t){var n=e.active,r=e.exact,i=e.fetching,o=e.inactive,a=e.predicate,s=e.queryKey,l=e.stale;if(Jb(s)){if(r){if(t.queryHash!==y3(s,t.options))return!1}else if(!Yb(t.queryKey,s))return!1}var u=LZ(n,o);if(u==="none")return!1;if(u!=="all"){var c=t.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof i=="boolean"&&t.isFetching()!==i||a&&!a(t))}function wI(e,t){var n=e.exact,r=e.fetching,i=e.predicate,o=e.mutationKey;if(Jb(o)){if(!t.options.mutationKey)return!1;if(n){if(Ld(t.options.mutationKey)!==Ld(o))return!1}else if(!Yb(t.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function y3(e,t){var n=t?.queryKeyHashFn||Ld;return n(e)}function Ld(e){var t=Kb(e);return zZ(t)}function zZ(e){return JSON.stringify(e,function(t,n){return m3(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Yb(e,t){return DI(Kb(e),Kb(t))}function DI(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!DI(e[n],t[n])}):!1}function Wb(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||m3(e)&&m3(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},s=0,l=0;l<o;l++){var u=n?l:i[l];a[u]=Wb(e[u],t[u]),a[u]===e[u]&&s++}return r===o&&s===r?e:a}return t}function PZ(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function m3(e){if(!xI(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!xI(n)||!n.hasOwnProperty("isPrototypeOf"))}function xI(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jb(e){return typeof e=="string"||Array.isArray(e)}function HZ(e){return new Promise(function(t){setTimeout(t,e)})}function EI(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function MI(){if(typeof AbortController=="function")return new AbortController}function g3(e,t){return g3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},g3(e,t)}function sg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,g3(e,t)}var VZ=(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},t.schedule=function(r){var i=this;this.transactions?this.queue.push(r):EI(function(){i.notifyFn(r)})},t.batchCalls=function(r){var i=this;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];i.schedule(function(){r.apply(void 0,a)})}},t.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&EI(function(){r.batchNotifyFn(function(){i.forEach(function(o){r.notifyFn(o)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e})(),Ln=new VZ,RI=console;function Gb(){return RI}function UZ(e){RI=e}var lg=(function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var i=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(a){return a!==o}),i.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e})(),jZ=(function(e){sg(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(i){var o;if(!qb&&((o=window)!=null&&o.addEventListener)){var a=function(){return i()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,a=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(s){typeof s=="boolean"?a.setFocused(s):a.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t})(lg),ag=new jZ,$Z=(function(e){sg(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(i){var o;if(!qb&&((o=window)!=null&&o.addEventListener)){var a=function(){return i()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,a=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(s){typeof s=="boolean"?a.setOnline(s):a.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t})(lg),jb=new $Z;function qZ(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Qb(e){return typeof e?.cancel=="function"}var OI=function(t){this.revert=t?.revert,this.silent=t?.silent};function $b(e){return e instanceof OI}var BI=function(t){var n=this,r=!1,i,o,a,s;this.abort=t.abort,this.cancel=function(f){return i?.(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o?.()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,h){a=f,s=h});var l=function(h){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(h),o?.(),a(h))},u=function(h){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(h),o?.(),s(h))},c=function(){return new Promise(function(h){o=h,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){o=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},d=function f(){if(!n.isResolved){var h;try{h=t.fn()}catch(p){h=Promise.reject(p)}i=function(m){if(!n.isResolved&&(u(new OI(m)),n.abort==null||n.abort(),Qb(h)))try{h.cancel()}catch{}},n.isTransportCancelable=Qb(h),Promise.resolve(h).then(l).catch(function(p){var m,v;if(!n.isResolved){var g=(m=t.retry)!=null?m:3,y=(v=t.retryDelay)!=null?v:qZ,w=typeof y=="function"?y(n.failureCount,p):y,x=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,p);if(r||!x){u(p);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,p),HZ(w).then(function(){if(!ag.isFocused()||!jb.isOnline())return c()}).then(function(){r?u(p):f()})}})}};d()},KZ=(function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var i;this.options=_t({},this.defaultOptions,r),this.meta=r?.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:300*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),p3(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,i){var o,a,s=this.state.data,l=NZ(r,s);return(o=(a=this.options).isDataEqual)!=null&&o.call(a,s,l)?l=s:this.options.structuralSharing!==!1&&(l=Wb(s,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i?.updatedAt}),l},t.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},t.cancel=function(r){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(r),o?o.then(ni).catch(ni):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!kI(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,i){var o=this,a,s,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&i?.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(y){return y.options.queryFn});c&&this.setOptions(c.options)}var d=Kb(this.queryKey),f=MI(),h={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(f)return o.abortSignalConsumed=!0,f.signal}});var p=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(h)):Promise.reject("Missing queryFn")},m={fetchOptions:i,options:this.options,queryKey:d,state:this.state,fetchFn:p,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var v;(v=this.options.behavior)==null||v.onFetch(m)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((s=m.fetchOptions)==null?void 0:s.meta)){var g;this.dispatch({type:"fetch",meta:(g=m.fetchOptions)==null?void 0:g.meta})}return this.retryer=new BI({fn:m.fetchFn,abort:f==null||(l=f.abort)==null?void 0:l.bind(f),onSuccess:function(w){o.setData(w),o.cache.config.onSuccess==null||o.cache.config.onSuccess(w,o),o.cacheTime===0&&o.optionalRemove()},onError:function(w){$b(w)&&w.silent||o.dispatch({type:"error",error:w}),$b(w)||(o.cache.config.onError==null||o.cache.config.onError(w,o),Gb().error(w)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Ln.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,o=typeof r.initialData<"u",a=o?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,s=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:s?"success":"idle"}},t.reducer=function(r,i){var o,a;switch(i.type){case"failed":return _t({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return _t({},r,{isPaused:!0});case"continue":return _t({},r,{isPaused:!1});case"fetch":return _t({},r,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _t({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=i.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var s=i.error;return $b(s)&&s.revert&&this.revertState?_t({},this.revertState):_t({},r,{error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _t({},r,{isInvalidated:!0});case"setState":return _t({},r,i.state);default:return r}},e})(),YZ=(function(e){sg(t,e);function t(r){var i;return i=e.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=t.prototype;return n.build=function(i,o,a){var s,l=o.queryKey,u=(s=o.queryHash)!=null?s:y3(l,o),c=this.get(u);return c||(c=new KZ({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(o),state:a,defaultOptions:i.getQueryDefaults(l),meta:o.meta}),this.add(c)),c},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(a){return a!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Ln.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,o){var a=oc(i,o),s=a[0];return typeof s.exact>"u"&&(s.exact=!0),this.queries.find(function(l){return bI(s,l)})},n.findAll=function(i,o){var a=oc(i,o),s=a[0];return Object.keys(s).length>0?this.queries.filter(function(l){return bI(s,l)}):this.queries},n.notify=function(i){var o=this;Ln.batch(function(){o.listeners.forEach(function(a){a(i)})})},n.onFocus=function(){var i=this;Ln.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},n.onOnline=function(){var i=this;Ln.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},t})(lg),WZ=(function(){function e(n){this.options=_t({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||GZ(),this.meta=n.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ni).catch(ni)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,i,o=this.state.status==="loading",a=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(s){s!==r.state.context&&r.dispatch({type:"loading",context:s,variables:r.state.variables})})),a.then(function(){return r.executeMutation()}).then(function(s){i=s,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(s){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(s,r.state.variables,r.state.context,r),Gb().error(s),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,s,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:s}),s})})},t.executeMutation=function(){var r=this,i;return this.retryer=new BI({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var i=this;this.state=QZ(this.state,r),Ln.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(r)}),i.mutationCache.notify(i)})},e})();function GZ(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function QZ(e,t){switch(t.type){case"failed":return _t({},e,{failureCount:e.failureCount+1});case"pause":return _t({},e,{isPaused:!0});case"continue":return _t({},e,{isPaused:!1});case"loading":return _t({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return _t({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return _t({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return _t({},e,t.state);default:return e}}var JZ=(function(e){sg(t,e);function t(r){var i;return i=e.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=t.prototype;return n.build=function(i,o,a){var s=new WZ({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:a,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(s),s},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Ln.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(o){return wI(i,o)})},n.findAll=function(i){return this.mutations.filter(function(o){return wI(i,o)})},n.notify=function(i){var o=this;Ln.batch(function(){o.listeners.forEach(function(a){a(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return Ln.batch(function(){return i.reduce(function(o,a){return o.then(function(){return a.continue().catch(ni)})},Promise.resolve())})},t})(lg);function XZ(){return{onFetch:function(t){t.fetchFn=function(){var n,r,i,o,a,s,l=(n=t.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=t.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,c=u?.pageParam,d=u?.direction==="forward",f=u?.direction==="backward",h=((a=t.state.data)==null?void 0:a.pages)||[],p=((s=t.state.data)==null?void 0:s.pageParams)||[],m=MI(),v=m?.signal,g=p,y=!1,w=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},x=function(_,z,V,P){return g=P?[z].concat(g):[].concat(g,[z]),P?[V].concat(_):[].concat(_,[V])},S=function(_,z,V,P){if(y)return Promise.reject("Cancelled");if(typeof V>"u"&&!z&&_.length)return Promise.resolve(_);var F={queryKey:t.queryKey,signal:v,pageParam:V,meta:t.meta},U=w(F),I=Promise.resolve(U).then(function(N){return x(_,V,N,P)});if(Qb(U)){var Q=I;Q.cancel=U.cancel}return I},E;if(!h.length)E=S([]);else if(d){var k=typeof c<"u",A=k?c:SI(t.options,h);E=S(h,k,A)}else if(f){var T=typeof c<"u",R=T?c:ZZ(t.options,h);E=S(h,T,R,!0)}else(function(){g=[];var B=typeof t.options.getNextPageParam>"u",_=l&&h[0]?l(h[0],0,h):!0;E=_?S([],B,p[0]):Promise.resolve(x([],p[0],h[0]));for(var z=function(F){E=E.then(function(U){var I=l&&h[F]?l(h[F],F,h):!0;if(I){var Q=B?p[F]:SI(t.options,U);return S(U,B,Q)}return Promise.resolve(x(U,p[F],h[F]))})},V=1;V<h.length;V++)z(V)})();var M=E.then(function(B){return{pages:B,pageParams:g}}),O=M;return O.cancel=function(){y=!0,m?.abort(),Qb(E)&&E.cancel()},M}}}}function SI(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function ZZ(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var _I=(function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new YZ,this.mutationCache=n.mutationCache||new JZ,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=ag.subscribe(function(){ag.isFocused()&&jb.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=jb.subscribe(function(){ag.isFocused()&&jb.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},t.isFetching=function(r,i){var o=oc(r,i),a=o[0];return a.fetching=!0,this.queryCache.findAll(a).length},t.isMutating=function(r){return this.mutationCache.findAll(_t({},r,{fetching:!0})).length},t.getQueryData=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var o=i.queryKey,a=i.state,s=a.data;return[o,s]})},t.setQueryData=function(r,i,o){var a=Ub(r),s=this.defaultQueryOptions(a);return this.queryCache.build(this,s).setData(i,o)},t.setQueriesData=function(r,i,o){var a=this;return Ln.batch(function(){return a.getQueryCache().findAll(r).map(function(s){var l=s.queryKey;return[l,a.setQueryData(l,i,o)]})})},t.getQueryState=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state},t.removeQueries=function(r,i){var o=oc(r,i),a=o[0],s=this.queryCache;Ln.batch(function(){s.findAll(a).forEach(function(l){s.remove(l)})})},t.resetQueries=function(r,i,o){var a=this,s=oc(r,i,o),l=s[0],u=s[1],c=this.queryCache,d=_t({},l,{active:!0});return Ln.batch(function(){return c.findAll(l).forEach(function(f){f.reset()}),a.refetchQueries(d,u)})},t.cancelQueries=function(r,i,o){var a=this,s=oc(r,i,o),l=s[0],u=s[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var d=Ln.batch(function(){return a.queryCache.findAll(l).map(function(f){return f.cancel(c)})});return Promise.all(d).then(ni).catch(ni)},t.invalidateQueries=function(r,i,o){var a,s,l,u=this,c=oc(r,i,o),d=c[0],f=c[1],h=_t({},d,{active:(a=(s=d.refetchActive)!=null?s:d.active)!=null?a:!0,inactive:(l=d.refetchInactive)!=null?l:!1});return Ln.batch(function(){return u.queryCache.findAll(d).forEach(function(p){p.invalidate()}),u.refetchQueries(h,f)})},t.refetchQueries=function(r,i,o){var a=this,s=oc(r,i,o),l=s[0],u=s[1],c=Ln.batch(function(){return a.queryCache.findAll(l).map(function(f){return f.fetch(void 0,_t({},u,{meta:{refetchPage:l?.refetchPage}}))})}),d=Promise.all(c).then(ni);return u?.throwOnError||(d=d.catch(ni)),d},t.fetchQuery=function(r,i,o){var a=Ub(r,i,o),s=this.defaultQueryOptions(a);typeof s.retry>"u"&&(s.retry=!1);var l=this.queryCache.build(this,s);return l.isStaleByTime(s.staleTime)?l.fetch(s):Promise.resolve(l.state.data)},t.prefetchQuery=function(r,i,o){return this.fetchQuery(r,i,o).then(ni).catch(ni)},t.fetchInfiniteQuery=function(r,i,o){var a=Ub(r,i,o);return a.behavior=XZ(),this.fetchQuery(a)},t.prefetchInfiniteQuery=function(r,i,o){return this.fetchInfiniteQuery(r,i,o).then(ni).catch(ni)},t.cancelMutations=function(){var r=this,i=Ln.batch(function(){return r.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(ni).catch(ni)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,i){var o=this.queryDefaults.find(function(a){return Ld(r)===Ld(a.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},t.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(o){return Yb(r,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},t.setMutationDefaults=function(r,i){var o=this.mutationDefaults.find(function(a){return Ld(r)===Ld(a.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},t.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(o){return Yb(r,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r?._defaulted)return r;var i=_t({},this.defaultOptions.queries,this.getQueryDefaults(r?.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=y3(i.queryKey,i)),i},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r?._defaulted?r:_t({},this.defaultOptions.mutations,this.getMutationDefaults(r?.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e})(),eee=(function(e){sg(t,e);function t(r,i){var o;return o=e.call(this)||this,o.client=r,o.options=i,o.trackedProps=[],o.selectError=null,o.bindMethods(),o.setOptions(i),o}var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),CI(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return v3(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return v3(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,o){var a=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var l=this.hasListeners();l&&AI(this.currentQuery,s,this.options,a)&&this.executeFetch(),this.updateResult(o),l&&(this.currentQuery!==s||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==s||this.options.enabled!==a.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return this.createResult(a,o)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,o){var a=this,s={},l=function(c){a.trackedProps.includes(c)||a.trackedProps.push(c)};return Object.keys(i).forEach(function(u){Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(o.useErrorBoundary||o.suspense)&&l("error"),s},n.getNextResult=function(i){var o=this;return new Promise(function(a,s){var l=o.subscribe(function(u){u.isFetching||(l(),u.isError&&i?.throwOnError?s(u.error):a(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(_t({},i,{meta:{refetchPage:i?.refetchPage}}))},n.fetchOptimistic=function(i){var o=this,a=this.client.defaultQueryObserverOptions(i),s=this.client.getQueryCache().build(this.client,a);return s.fetch().then(function(){return o.createResult(s,a)})},n.fetch=function(i){var o=this;return this.executeFetch(i).then(function(){return o.updateResult(),o.currentResult})},n.executeFetch=function(i){this.updateQuery();var o=this.currentQuery.fetch(this.options,i);return i?.throwOnError||(o=o.catch(ni)),o},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(qb||this.currentResult.isStale||!p3(this.options.staleTime))){var o=kI(this.currentResult.dataUpdatedAt,this.options.staleTime),a=o+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},a)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var o=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(qb||this.options.enabled===!1||!p3(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(o.options.refetchIntervalInBackground||ag.isFocused())&&o.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,o){var a=this.currentQuery,s=this.options,l=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,d=i!==a,f=d?i.state:this.currentQueryInitialState,h=d?this.currentResult:this.previousQueryResult,p=i.state,m=p.dataUpdatedAt,v=p.error,g=p.errorUpdatedAt,y=p.isFetching,w=p.status,x=!1,S=!1,E;if(o.optimisticResults){var k=this.hasListeners(),A=!k&&CI(i,o),T=k&&AI(i,a,o,s);(A||T)&&(y=!0,m||(w="loading"))}if(o.keepPreviousData&&!p.dataUpdateCount&&h?.isSuccess&&w!=="error")E=h.data,m=h.dataUpdatedAt,w=h.status,x=!0;else if(o.select&&typeof p.data<"u")if(l&&p.data===u?.data&&o.select===this.selectFn)E=this.selectResult;else try{this.selectFn=o.select,E=o.select(p.data),o.structuralSharing!==!1&&(E=Wb(l?.data,E)),this.selectResult=E,this.selectError=null}catch(O){Gb().error(O),this.selectError=O}else E=p.data;if(typeof o.placeholderData<"u"&&typeof E>"u"&&(w==="loading"||w==="idle")){var R;if(l?.isPlaceholderData&&o.placeholderData===c?.placeholderData)R=l.data;else if(R=typeof o.placeholderData=="function"?o.placeholderData():o.placeholderData,o.select&&typeof R<"u")try{R=o.select(R),o.structuralSharing!==!1&&(R=Wb(l?.data,R)),this.selectError=null}catch(O){Gb().error(O),this.selectError=O}typeof R<"u"&&(w="success",E=R,S=!0)}this.selectError&&(v=this.selectError,E=this.selectResult,g=Date.now(),w="error");var M={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:E,dataUpdatedAt:m,error:v,errorUpdatedAt:g,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:y,isRefetching:y&&w!=="loading",isLoadingError:w==="error"&&p.dataUpdatedAt===0,isPlaceholderData:S,isPreviousData:x,isRefetchError:w==="error"&&p.dataUpdatedAt!==0,isStale:b3(i,o),refetch:this.refetch,remove:this.remove};return M},n.shouldNotifyListeners=function(i,o){if(!o)return!0;var a=this.options,s=a.notifyOnChangeProps,l=a.notifyOnChangePropsExclusions;if(!s&&!l||s==="tracked"&&!this.trackedProps.length)return!0;var u=s==="tracked"?this.trackedProps:s;return Object.keys(i).some(function(c){var d=c,f=i[d]!==o[d],h=u?.some(function(m){return m===c}),p=l?.some(function(m){return m===c});return f&&!p&&(!u||h)})},n.updateResult=function(i){var o=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!PZ(this.currentResult,o)){var a={cache:!0};i?.listeners!==!1&&this.shouldNotifyListeners(this.currentResult,o)&&(a.listeners=!0),this.notify(_t({},a,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var o=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(o?.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var o={};i.type==="success"?o.onSuccess=!0:i.type==="error"&&!$b(i.error)&&(o.onError=!0),this.updateResult(o),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var o=this;Ln.batch(function(){i.onSuccess?(o.options.onSuccess==null||o.options.onSuccess(o.currentResult.data),o.options.onSettled==null||o.options.onSettled(o.currentResult.data,null)):i.onError&&(o.options.onError==null||o.options.onError(o.currentResult.error),o.options.onSettled==null||o.options.onSettled(void 0,o.currentResult.error)),i.listeners&&o.listeners.forEach(function(a){a(o.currentResult)}),i.cache&&o.client.getQueryCache().notify({query:o.currentQuery,type:"observerResultsUpdated"})})},t})(lg);function tee(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function CI(e,t){return tee(e,t)||e.state.dataUpdatedAt>0&&v3(e,t,t.refetchOnMount)}function v3(e,t,n){if(t.enabled!==!1){var r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&b3(e,t)}return!1}function AI(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&b3(e,n)}function b3(e,t){return e.isStaleByTime(t.staleTime)}var TI=ac.default.createContext(void 0),FI=ac.default.createContext(!1);function II(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=TI),window.ReactQueryClientContext):TI}var ug=function(){var t=ac.default.useContext(II(ac.default.useContext(FI)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},NI=function(t){var n=t.client,r=t.contextSharing,i=r===void 0?!1:r,o=t.children;ac.default.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var a=II(i);return ac.default.createElement(FI.Provider,{value:i},ac.default.createElement(a.Provider,{value:n},o))};function nee(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var ree=w3.default.createContext(nee()),iee=function(){return w3.default.useContext(ree)};function oee(e,t,n){return typeof t=="function"?t.apply(void 0,n):typeof t=="boolean"?t:!!e}function aee(e,t){var n=Kh.default.useRef(!1),r=Kh.default.useState(0),i=r[1],o=ug(),a=iee(),s=o.defaultQueryObserverOptions(e);s.optimisticResults=!0,s.onError&&(s.onError=Ln.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Ln.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Ln.batchCalls(s.onSettled)),s.suspense&&(typeof s.staleTime!="number"&&(s.staleTime=1e3),s.cacheTime===0&&(s.cacheTime=1)),(s.suspense||s.useErrorBoundary)&&(a.isReset()||(s.retryOnMount=!1));var l=Kh.default.useState(function(){return new t(o,s)}),u=l[0],c=u.getOptimisticResult(s);if(Kh.default.useEffect(function(){n.current=!0,a.clearReset();var d=u.subscribe(Ln.batchCalls(function(){n.current&&i(function(f){return f+1})}));return u.updateResult(),function(){n.current=!1,d()}},[a,u]),Kh.default.useEffect(function(){u.setOptions(s,{listeners:!1})},[s,u]),s.suspense&&c.isLoading)throw u.fetchOptimistic(s).then(function(d){var f=d.data;s.onSuccess==null||s.onSuccess(f),s.onSettled==null||s.onSettled(f,null)}).catch(function(d){a.clearReset(),s.onError==null||s.onError(d),s.onSettled==null||s.onSettled(void 0,d)});if(c.isError&&!a.isReset()&&!c.isFetching&&oee(s.suspense,s.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return s.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,s)),c}function ri(e,t,n){var r=Ub(e,t,n);return aee(r,eee)}var see=LI.default.unstable_batchedUpdates;Ln.setBatchNotifyFunction(see);var lee=console;UZ(lee);b();b();b();var uee=Symbol((import.meta.env?"production":void 0)!=="production"?"RESET":"");function ii(e,t){let n=null,r=new Map,i=new Set,o=s=>{let l;if(t===void 0)l=r.get(s);else for(let[c,d]of r)if(t(c,s)){l=d;break}if(l!==void 0)if(n?.(l[1],s))o.remove(s);else return l[0];let u=e(s);return r.set(s,[u,Date.now()]),a("CREATE",s,u),u};function a(s,l,u){for(let c of i)c({type:s,param:l,atom:u})}return o.unstable_listen=s=>(i.add(s),()=>{i.delete(s)}),o.getParams=()=>r.keys(),o.remove=s=>{if(t===void 0){if(!r.has(s))return;let[l]=r.get(s);r.delete(s),a("REMOVE",s,l)}else for(let[l,[u]]of r)if(t(l,s)){r.delete(l),a("REMOVE",l,u);break}},o.setShouldRemove=s=>{if(n=s,!!n)for(let[l,[u,c]]of r)n(c,l)&&(r.delete(l),a("REMOVE",l,u))},o}var cee=e=>typeof e?.then=="function";function dee(e=()=>{try{return window.localStorage}catch(n){(import.meta.env?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,i,o={getItem:(l,u)=>{var c,d;let f=p=>{if(p=p||"",r!==p){try{i=JSON.parse(p,t?.reviver)}catch{return u}r=p}return i},h=(d=(c=e())==null?void 0:c.getItem(l))!=null?d:null;return cee(h)?h.then(f):f(h)},setItem:(l,u)=>{var c;return(c=e())==null?void 0:c.setItem(l,JSON.stringify(u,t?.replacer))},removeItem:l=>{var u;return(u=e())==null?void 0:u.removeItem(l)}},a=l=>(u,c,d)=>l(u,f=>{let h;try{h=JSON.parse(f||"")}catch{h=d}c(h)}),s;try{s=(n=e())==null?void 0:n.subscribe}catch{}return!s&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(s=(l,u)=>{if(!(e()instanceof window.Storage))return()=>{};let c=d=>{d.storageArea===e()&&d.key===l&&u(d.newValue)};return window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}}),s&&(o.subscribe=a(s)),o}var fee=dee();function Yh(e,t,n=fee,r){let i=r?.getOnInit,o=J(i?n.getItem(e,t):t);return(import.meta.env?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.onMount=s=>{s(n.getItem(e,t));let l;return n.subscribe&&(l=n.subscribe(e,s,t)),l},J(s=>s(o),(s,l,u)=>{let c=typeof u=="function"?u(s(o)):u;return c===uee?(l(o,t),n.removeItem(e)):c instanceof Promise?c.then(d=>(l(o,d),n.setItem(e,d))):(l(o,c),n.setItem(e,c))})}var zI=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),hee=new WeakMap,pee=(e,t,n)=>{let r=zI(()=>new WeakMap,hee,t);return zI(e,r,n)},mee=e=>e instanceof Promise,gee=()=>{};function Wh(e,t=gee){return pee(()=>{let n=new WeakMap,r=new WeakMap,i=J(0);(import.meta.env?"production":void 0)!=="production"&&(i.debugPrivate=!0);let o=J((a,{setSelf:s})=>{a(i);let l=a(o),u=a(e);if(!mee(u))return{v:u};if(u!==l?.p&&(u.status==="fulfilled"?r.set(u,u.value):u.status==="rejected"?n.set(u,u.reason):u.then(c=>r.set(u,c),c=>n.set(u,c)).finally(s)),n.has(u))throw n.get(u);return r.has(u)?{p:u,v:r.get(u)}:l&&"v"in l?{p:u,f:t(l.v),v:l.v}:{p:u,f:t()}},(a,s)=>{s(i,l=>l+1)});return o.init=void 0,(import.meta.env?"production":void 0)!=="production"&&(o.debugPrivate=!0),J(a=>{let s=a(o);return"f"in s?s.f:s.v},(a,s,...l)=>s(e,...l))},e,t)}b();var PI={sub:"local",name:"Local user"};var kCe=D($(),1),UI=D($(),1),HI=new WeakMap;function VI(e,t){let n=Vb(t),r=vee(n);for(let[i,o]of e)(!r.has(i)||t?.dangerouslyForceHydrate)&&(r.add(i),n.set(i,o))}var vee=e=>{let t=HI.get(e);return t||(t=new WeakSet,HI.set(e,t)),t},cg=J(void 0),da=J(void 0);function jI(e){VI([[da,e]]);let{client:t,config:n,local:r}=e;if(r&&!C.env.ALINEA_FORCE_AUTH){let a=typeof C<"u"&&C.env.ALINEA_USER;VI([[cg,{user:a?JSON.parse(a):PI,cnx:t}]])}let o=it(da);(0,UI.useEffect)(()=>o(e),[e.client,e.config])}var $I=J(new _I({defaultOptions:{queries:{retry:!1}}})),dg=J(e=>e(da).client),oi=J(e=>e(da).config);var ur=()=>oe(da);b();var qI=D(Ei(),1);function Zi({children:e}){return(0,qI.createPortal)(e,document.head)}b();b();var fg=Symbol.for("@alinea/styler/hasClassName"),yee="is-";function ai(e,t=[],n=typeof e=="object"?e:void 0){let r=typeof e=="string"?e:"",i=n?.[r]??r;return new Proxy(Object.assign(function(...a){return a.flatMap(function s(l){if(!l)return[];if(Array.isArray(l))return l.map(s);if(typeof l=="function")return l[fg];if(typeof l=="object")return fg in l?l[fg]:Object.entries(l).map(([c,d])=>d&&c).filter(Boolean).map(s);let u=yee+l;return n?.[u]??u}).concat(t).concat(i).join(" ")},{[fg]:i,toString(){return i},with(...o){return ai(r,t.concat(o.filter(Boolean)),n)},mergeProps(o){return o?this.with(o.className):this}}),{get(o,a){return typeof a!="string"?o[a]:o[a]??=ai(r?`${r}-${a}`:a,void 0,n)}})}ai.global=e=>({[fg]:e});ai.merge=e=>ai.global(e.className);var j=ai;b();b();var Me=e=>typeof e=="string"?e:`${e/16}rem`;var x3=D(L(),1),xee={root:"alinea-Icon","is-round":"alinea-Icon-is-round",isRound:"alinea-Icon-is-round","is-active":"alinea-Icon-is-active",isActive:"alinea-Icon-is-active"},Eee=j(xee);function te({icon:e,size:t,round:n,active:r,variant:i,...o}){let a=e;return a?(0,x3.jsx)("i",{...o,style:{...o.style,fontSize:t?Me(t):void 0},className:Eee.root.mergeProps(o)({round:n,active:r},i),children:typeof a=="function"?(0,x3.jsx)(a,{}):a}):null}b();var hg=D($(),1);var sc=D(L(),1);function See(e){let t=e.direction||"column",n={display:"flex",minWidth:0,flexDirection:t,alignItems:e.center?"center":e.align||"unset",justifyContent:e.justify||"unset",gap:Me(e.gap||0)};return e.wrap&&(n.flexWrap="wrap"),e.full&&(n[t==="row"?"width":"height"]="100%"),n}var ut=(0,hg.forwardRef)(function(t,n){let{children:r,as:i="div",gap:o,align:a,direction:s,justify:l,center:u,wrap:c,full:d,...f}=t,h=`${o}-${a}-${s}-${l}-${u}-${c}-${d}`,p=i,m=(0,hg.useMemo)(()=>See(t),[h]),v=(0,sc.jsx)(p,{...f,style:{...m,...t.style},ref:n,children:r});return c?(0,sc.jsx)("div",{children:v}):v}),K=(0,hg.forwardRef)(function(t,n){return(0,sc.jsx)(ut,{direction:"row",...t,ref:n})}),Vr;(e=>{function t(o){return(0,sc.jsx)("div",{...o,style:{...o.style,marginRight:"auto"}})}e.Left=t;function n(o){return(0,sc.jsx)("div",{...o,style:{...o.style,marginRight:"auto",marginLeft:"auto"}})}e.Center=n;function r(o){return(0,sc.jsx)("div",{...o,style:{...o.style,marginLeft:"auto"}})}e.Right=r;function i(o){return(0,sc.jsx)("div",{...o,style:{...o.style,marginTop:"auto"}})}e.Bottom=i})(Vr||(Vr={}));var zd=D(L(),1),Cee={root:"alinea-Button","is-medium":"alinea-Button-is-medium",isMedium:"alinea-Button-is-medium","is-large":"alinea-Button-is-large",isLarge:"alinea-Button-is-large","is-outline":"alinea-Button-is-outline",isOutline:"alinea-Button-is-outline","is-disabled":"alinea-Button-is-disabled",isDisabled:"alinea-Button-is-disabled"},Aee=j(Cee);function nn({as:e="button",children:t,size:n="medium",icon:r,iconRight:i,outline:o,disabled:a,variant:s,...l}){return(0,zd.jsx)(e,{...l,disabled:a,className:Aee.root(n,s,{outline:o,disabled:a},j.merge(l)),children:(0,zd.jsxs)(K,{center:!0,gap:8,children:[(0,zd.jsx)(te,{icon:r,size:18}),(0,zd.jsx)("span",{children:t}),(0,zd.jsx)(te,{icon:i})]})})}b();var pg=D(L(),1),Tee={root:"alinea-Chip","root-icon":"alinea-Chip-icon",rootIcon:"alinea-Chip-icon","root-label":"alinea-Chip-label",rootLabel:"alinea-Chip-label","is-accent":"alinea-Chip-is-accent",isAccent:"alinea-Chip-is-accent","is-disabled":"alinea-Chip-is-disabled",isDisabled:"alinea-Chip-is-disabled","is-info":"alinea-Chip-is-info",isInfo:"alinea-Chip-is-info","is-success":"alinea-Chip-is-success",isSuccess:"alinea-Chip-is-success","is-progress":"alinea-Chip-is-progress",isProgress:"alinea-Chip-is-progress"},E3=j(Tee);function eo({children:e,icon:t,accent:n,variant:r,...i}){return(0,pg.jsxs)(K,{center:!0,...i,className:E3.root.mergeProps(i)({accent:n},r),children:[t&&(0,pg.jsx)(te,{className:E3.root.icon(),icon:t}),(0,pg.jsx)("div",{className:E3.root.label(),children:e})]})}b();b();var S3=D(L(),1);function Zb(e){return(0,S3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,S3.jsx)("path",{fill:"currentColor",d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"})})}b();b();var QI=D($(),1);b();var GI=D($(),1);function Pl(e){return(0,GI.forwardRef)(e)}var Pa=D(L(),1);function JI(e,t={}){function n({children:f,align:h}){return(0,Pa.jsx)("div",{style:{textAlign:h},className:e.root(),children:f})}function r(f,h){let{as:p=t.h1??"h1",flat:m,light:v,...g}=f;return(0,Pa.jsx)(p,{ref:h,...g,className:e.h1(ai.merge(g),{flat:m,light:v})})}function i(f,h){let{as:p=t.h2??"h2",flat:m,light:v,...g}=f;return(0,Pa.jsx)(p,{ref:h,...g,className:e.h2(ai.merge(g),{flat:m,light:v})})}function o(f,h){let{as:p=t.h3??"h3",flat:m,light:v,...g}=f;return(0,Pa.jsx)(p,{ref:h,...g,className:e.h3(ai.merge(g),{flat:m,light:v})})}function a(f,h){let{as:p=t.h4??"h4",flat:m,light:v,...g}=f;return(0,Pa.jsx)(p,{ref:h,...g,className:e.h4(ai.merge(g),{flat:m,light:v})})}function s(f,h){let{as:p=t.h5??"h5",flat:m,light:v,...g}=f;return(0,Pa.jsx)(p,{ref:h,...g,className:e.h5(ai.merge(g),{flat:m,light:v})})}function l(f,h){let{as:p=t.p??"p",flat:m,light:v,...g}=f;return(0,Pa.jsx)(p,{ref:h,...g,className:e.p(ai.merge(g),{flat:m,light:v})})}let u=(0,QI.forwardRef)(function(h,p){let m=t.a??"a";return(0,Pa.jsx)(m,{...h,ref:p,className:e.link(ai.merge(h))})});function c(f,h){let{as:p="span",...m}=f;return(0,Pa.jsx)(p,{...f,ref:h,className:e.monospace(ai.merge(m))})}function d(f,h){let{as:p=t.small??"small",...m}=f;return(0,Pa.jsx)(p,{...f,className:e.small(ai.merge(m)),ref:h})}return Object.assign(n,{H1:Pl(r),H2:Pl(i),H3:Pl(o),H4:Pl(a),H5:Pl(s),P:Pl(l),Link:u,link:e.link,Monospace:Pl(c),Small:Pl(d)})}var kee={hyphenate:"alinea-Typo-hyphenate",link:"alinea-Typo-link",p:"alinea-Typo-p",h5:"alinea-Typo-h5",h4:"alinea-Typo-h4",h3:"alinea-Typo-h3",h2:"alinea-Typo-h2",h1:"alinea-Typo-h1","is-flat":"alinea-Typo-is-flat",isFlat:"alinea-Typo-is-flat",monospace:"alinea-Typo-monospace",small:"alinea-Typo-small"},Dee=j(kee),At=JI(Dee);var mg=D(L(),1);function XI({error:e}){return(0,mg.jsxs)(K,{center:!0,gap:10,style:{padding:Me(25),width:"100%"},children:[(0,mg.jsx)(Zb,{style:{fontSize:Me(20)}}),(0,mg.jsx)(At.Monospace,{children:typeof e=="string"?e:e.message})]})}b();var C3=D(L(),1),Mee={loader:"alinea-Loader-loader",fadein:"alinea-Loader-fadein","loader-inner":"alinea-Loader-loader-inner",loaderInner:"alinea-Loader-loader-inner",load8:"alinea-Loader-load8","is-absolute":"alinea-Loader-is-absolute",isAbsolute:"alinea-Loader-is-absolute"},ZI=j(Mee);function gn({light:e,absolute:t,size:n=22,...r}){return(0,C3.jsx)("div",{style:{fontSize:n},className:ZI.loader.mergeProps(r)({absolute:t}),children:(0,C3.jsx)("div",{...r,className:ZI.loader.inner()})})}b();var De;(e=>{e.type="_type";function t(i){return i[e.type]==="text"}e.isText=t;function n(i){let o=i[e.type];return typeof o=="string"&&o!=="text"&&o[0]?.toLowerCase()===o[0]}e.isElement=n;function r(i){let o=i[e.type];return typeof o=="string"&&o!=="text"&&o[0]?.toUpperCase()===o[0]}e.isBlock=r})(De||(De={}));var Os;(e=>{e.type="_type"})(Os||(Os={}));var lc;(e=>{e.id="_id",e.link="_link",e.entry="_entry"})(lc||(lc={}));var Ha;(e=>{e.text="text",e.marks="marks"})(Ha||(Ha={}));var uc;(e=>{e.content="content"})(uc||(uc={}));var rn;(e=>{e.id="_id"})(rn||(rn={}));b();var e9=/([^\p{L}\p{N}\p{Emoji}\p{Emoji_Component}]|\p{P}(?!\u{fe0f}))+/gu,Ree=/[\'’]/g,A3="-",Oee=new RegExp(`^${A3}+|${A3}+$`,"g");function t9(e){return e9.test(e)}function to(e){return e.replace(Ree,"").replace(e9,A3).replace(Oee,"").toLowerCase()}b();var n9=D(L(),1);function Ze({label:e,...t}){return(0,n9.jsx)("span",{...t,children:e})}b();function r9(e,t,n){if(e>100||t>100)throw new Error(`${e}x${t} doesn't fit in 100x100`);let{PI:r,round:i,max:o,cos:a,abs:s}=Math,l=0,u=0,c=0,d=0;for(let H=0,G=0;H<e*t;H++,G+=4){let Y=n[G+3]/255;l+=Y/255*n[G],u+=Y/255*n[G+1],c+=Y/255*n[G+2],d+=Y}d&&(l/=d,u/=d,c/=d);let f=d<e*t,h=f?5:7,p=o(1,i(h*e/o(e,t))),m=o(1,i(h*t/o(e,t))),v=[],g=[],y=[],w=[];for(let H=0,G=0;H<e*t;H++,G+=4){let Y=n[G+3]/255,ne=l*(1-Y)+Y/255*n[G],ae=u*(1-Y)+Y/255*n[G+1],ce=c*(1-Y)+Y/255*n[G+2];v[H]=(ne+ae+ce)/3,g[H]=(ne+ae)/2-ce,y[H]=ne-ae,w[H]=Y}let x=(H,G,Y)=>{let ne=0,ae=[],ce=0,Ee=[];for(let be=0;be<Y;be++)for(let Se=0;Se*Y<G*(Y-be);Se++){let pe=0;for(let ye=0;ye<e;ye++)Ee[ye]=a(r/e*Se*(ye+.5));for(let ye=0;ye<t;ye++)for(let Pe=0,nt=a(r/t*be*(ye+.5));Pe<e;Pe++)pe+=H[Pe+ye*e]*Ee[Pe]*nt;pe/=e*t,Se||be?(ae.push(pe),ce=o(ce,s(pe))):ne=pe}if(ce)for(let be=0;be<ae.length;be++)ae[be]=.5+.5/ce*ae[be];return[ne,ae,ce]},[S,E,k]=x(v,o(3,p),o(3,m)),[A,T,R]=x(g,3,3),[M,O,B]=x(y,3,3),[_,z,V]=f?x(w,5,5):[],P=e>t,F=i(63*S)|i(31.5+31.5*A)<<6|i(31.5+31.5*M)<<12|i(31*k)<<18|f<<23,U=(P?m:p)|i(63*R)<<3|i(63*B)<<9|P<<15,I=[F&255,F>>8&255,F>>16,U&255,U>>8],Q=f?6:5,N=0;f&&I.push(i(15*_)|i(15*V)<<4);for(let H of f?[E,T,O,z]:[E,T,O])for(let G of H)I[Q+(N>>1)]|=i(15*G)<<((N++&1)<<2);return new Uint8Array(I)}function i9(e){let{min:t,max:n}=Math,r=e[0]|e[1]<<8|e[2]<<16,i=(r&63)/63,o=(r>>6&63)/31.5-1,a=(r>>12&63)/31.5-1,l=r>>23?(e[5]&15)/15:1,u=i-2/3*o,c=(3*i-u+a)/2,d=c-a;return{r:n(0,t(1,c)),g:n(0,t(1,d)),b:n(0,t(1,u)),a:l}}b();var gg=D(L(),1),Bee={root:"alinea-LogoShape","root-bg":"alinea-LogoShape-bg",rootBg:"alinea-LogoShape-bg"},o9=j(Bee);function Pd({children:e,foreground:t="var(--alinea-accent-foreground)",background:n="var(--alinea-accent)",...r}){return(0,gg.jsxs)("div",{style:{color:t},className:o9.root.mergeProps(r)(),children:[(0,gg.jsx)("svg",{className:o9.root.bg(),viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:(0,gg.jsx)("path",{d:"M18 36C25.884 36 29.9427 36 32.8047 33.138C35.6667 30.276 36 25.884 36 18C36 10.116 35.6667 6.05733 32.8047 3.19533C29.9427 0.333333 25.884 0 18 0C10.116 0 6.05733 0.333333 3.19533 3.19533C0.333333 6.05733 0 10.116 0 18C0 25.884 0.333333 29.9427 3.19533 32.8047C6.05733 35.6667 10.116 36 18 36Z",fill:n})}),e]})}b();var T3=D(L(),1);function ew(e){return(0,T3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,T3.jsx)("path",{fill:"currentColor",d:"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42c.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 0 0 0-1.41l-6.58-6.6a.996.996 0 1 0-1.41 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z"})})}b();var k3=D(L(),1);function D3(e){return(0,k3.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,k3.jsx)("path",{fill:"currentColor",d:"M5 5c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1zm2.41 9H9v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-5h1.59c.89 0 1.34-1.08.71-1.71L12.71 7.7a.996.996 0 0 0-1.41 0l-4.59 4.59c-.63.63-.19 1.71.7 1.71z"})})}var gt=D(L(),1);function a9({setSession:e}){let{client:t}=ur();if(!(t instanceof ey))throw new Error("Cannot authenticate with non http client");let n=new URL(t.url,window.location.href),{data:r,isError:i}=ri(["auth.status"],()=>t.authStatus(),{cacheTime:0,keepPreviousData:!1});if(i)return(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(Zi,{children:(0,gt.jsx)("title",{children:"Alinea"})}),(0,gt.jsx)("div",{style:{display:"flex",height:"100%",width:"100%"},children:(0,gt.jsx)("div",{style:{margin:"auto",padding:Me(20)},children:(0,gt.jsxs)(ut,{gap:20,children:[(0,gt.jsxs)(K,{center:!0,gap:16,children:[(0,gt.jsx)(Pd,{children:(0,gt.jsx)(D3,{})}),(0,gt.jsx)(At.H1,{flat:!0,children:"Ready to deploy?"})]}),(0,gt.jsxs)(At.P,{children:["Alinea requires a"," ",(0,gt.jsx)(At.Link,{href:"https://alineacms.com/docs/deploy",target:"_blank",children:"handler"})," ","to continue."]})]})})})]});if(!r)return(0,gt.jsx)(gn,{absolute:!0});let{location:o}=window;switch(r.type){case Mu.NeedsRefresh:throw new Error("Authentication failure, please refresh the page");case Mu.Authenticated:return e({user:r.user,cnx:t.authenticate(a=>a,()=>e(void 0))}),null;case Mu.UnAuthenticated:return o.href=`${r.redirect}&from=${encodeURIComponent(`${o.protocol}//${o.host}${o.pathname}`)}`,null;case Mu.MissingApiKey:return(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(Zi,{children:(0,gt.jsx)("title",{children:"Alinea"})}),(0,gt.jsx)("div",{style:{display:"flex",height:"100%",width:"100%"},children:(0,gt.jsx)("div",{style:{margin:"auto",padding:Me(20)},children:(0,gt.jsxs)(ut,{gap:20,children:[(0,gt.jsxs)(K,{center:!0,gap:16,children:[(0,gt.jsx)(Pd,{children:(0,gt.jsx)(D3,{})}),(0,gt.jsx)(At.H1,{flat:!0,children:"Ready to deploy?"})]}),(0,gt.jsxs)(At.P,{children:["Alinea requires a backend to continue.",(0,gt.jsx)("br",{}),"You can"," ",(0,gt.jsx)(At.Link,{href:"https://alineacms.com/docs/deploy",target:"_blank",children:(0,gt.jsx)("span",{children:"fully configure a custom backend"})}),".",(0,gt.jsx)("br",{}),"Or get set up in a few clicks with our cloud offering."]}),(0,gt.jsx)("div",{children:(0,gt.jsx)(nn,{as:"a",href:`${r.setupUrl}?from=${encodeURIComponent(`${o.protocol}//${o.host}${o.pathname}`)}`,iconRight:ew,children:"Continue with alinea.cloud"})})]})})})]})}}b();b();var Je={CheckInput:"alinea/field/check/CheckField.view#CheckInput",CodeInput:"alinea/field/code/CodeField.view#CodeInput",DateInput:"alinea/field/date/DateField.view#DateInput",HiddenInput:"alinea/field/hidden/HiddenField.view#HiddenInput",JsonInput:"alinea/field/json/JsonField.view#JsonInput",SingleLinkInput:"alinea/field/link/LinkField.view#SingleLinkInput",MultipleLinksInput:"alinea/field/link/LinkField.view#MultipleLinksInput",ListInput:"alinea/field/list/ListField.view#ListInput",MetadataInput:"alinea/field/metadata/MetadataField.view#MetadataInput",NumberInput:"alinea/field/number/NumberField.view#NumberInput",ObjectInput:"alinea/field/object/ObjectField.view#ObjectInput",PathInput:"alinea/field/path/PathField.view#PathInput",RichTextInput:"alinea/field/richtext/RichTextField.view#RichTextInput",SelectInput:"alinea/field/select/SelectField.view#SelectInput",TabsView:"alinea/field/tabs/Tabs.view#TabsView",TextInput:"alinea/field/text/TextField.view#TextInput",TimeInput:"alinea/field/time/TimeField.view#TimeInput",MediaExplorer:"alinea/dashboard/view/MediaExplorer#MediaExplorer",MediaFile:"alinea/dashboard/view/media/FileEntry#FileEntry",FileSummaryRow:"alinea/dashboard/view/media/FileSummary#FileSummaryRow",FileSummaryThumb:"alinea/dashboard/view/media/FileSummary#FileSummaryThumb"};b();b();b();var He=class extends yt{[Xm];constructor(e){super({type:"field"}),this[Xm]={ref:Symbol(),...e}}};(e=>{function t(u){return yl(u).ref}e.ref=t;function n(u){return yl(u).shape}e.shape=n;function r(u){return yl(u).options.label}e.label=r;function i(u){return yl(u).options.initialValue}e.initialValue=i;function o(u){return yl(u).view}e.view=o;function a(u){let c=e.view(u);return typeof c=="string"?[c,...yl(u).referencedViews]:yl(u).referencedViews}e.referencedViews=a;function s(u){return yl(u).options}e.options=s;function l(u){return u&&Y1(u)}e.isField=l})(He||(He={}));b();var on=class{constructor(e,t,n){this.label=e,this.initialValue=t,this.searchable=n}create(){return this.initialValue}toY(e){return e}toV1(e){return e}fromY(e){return e}applyY(e,t,n){t.get(n)!==e&&t.set(n,e)}init(e,t){e.has(t)||e.set(t,this.toY(this.create()))}watch(e,t){return n=>{function r(i){i.keysChanged.has(t)&&n()}return e.observe(r),()=>e.unobserve(r)}}mutator(e,t){return n=>{e.set(t,n)}}async applyLinks(){}searchableText(e){if(!this.searchable)return"";let t=String(e??"");return t?` ${t}`:""}};var zn=class extends He{constructor(e){super({shape:new on(e.options.label,e.options.initialValue,e.options.searchable),referencedViews:[],...e})}};var _ee=class extends zn{};function Ci(e,t={}){return new _ee({options:{label:e,...t},view:Je.HiddenInput})}b();var Fee=class extends zn{};function cr(e,t={}){return new Fee({options:{label:e,...t,initialValue:t.initialValue??""},view:Je.TextInput})}b();var vg=D(L(),1);function tw(e){return(0,vg.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[(0,vg.jsx)("path",{fill:"currentColor",d:"M19 19H3V7c0-.55-.45-1-1-1s-1 .45-1 1v12c0 1.1.9 2 2 2h16c.55 0 1-.45 1-1s-.45-1-1-1z"}),(0,vg.jsx)("path",{fill:"currentColor",d:"M21 4h-7l-1.41-1.41c-.38-.38-.89-.59-1.42-.59H7c-1.1 0-1.99.9-1.99 2L5 15c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3 9h-8a.5.5 0 0 1-.4-.8l1.38-1.83c.2-.27.6-.27.8 0L13 12l2.22-2.97c.2-.27.6-.27.8 0l2.38 3.17a.5.5 0 0 1-.4.8z"})]})}b();b();var{assign:Iee,entries:RAe,keys:Nee,values:OAe,setPrototypeOf:Lee}=Object,{stringify:s9}=JSON,c9=class{value=void 0;path=[];expected="";at(e){this.path.push(this.path.length>0?`.${e}`:e)}index(e){this.path.push(`[${e}]`)}back(){this.path.pop()}expect(e,t){this.expected=e,this.value=t}err(e){let t=this.path.length?`@ ${this.path.join("")} `:"",n=this.value,r=typeof n,i=r==="undefined"?r:r==="object"?n===null?"null":`${r}: ${n.constructor.name}`:r==="function"?`function: ${n.name}`:`${r}: ${n}`;return`${e?`${e} \u2014 expected`:"Expected"} ${this.expected} ${t}(got ${i})`}},l9="v",no=new c9,zee=class{narrow(){return this}new(e){return e}check(e){return no=new c9,this.validate(e,no)}assert(e,t){if(!this.check(e))throw new TypeError(no.err(t))}and(e){return ro(t=>this.validate(t,no)&&e.validate(t,no),t=>`${this.gen(t)} && ${e.gen(t)}`)}or(e){return ro(t=>this.validate(t,no)||e.validate(t,no),t=>`(${this.gen(t)} || ${e.gen(t)})`)}get nullable(){return Hee(this)}get optional(){return Vee(this)}},Pee=()=>{throw new Error("This type cannot be generated")},ro=(e,t=Pee)=>{let n=Iee(Lee((r,i)=>(n.assert(r,i),r),zee.prototype),{validate:e,gen:t});return n},d9=e=>ro(t=>(no.expect(s9(e),t),e===t),t=>`${t} === ${s9(e)}`),Hee=e=>d9(null).or(e),Vee=e=>d9(void 0).or(e),yg=e=>ro(t=>(no.expect(e,t),typeof t===e),t=>`typeof ${t} === '${e}'`),Uee=e=>ro((t,n)=>(n.expect(e.name,t),t instanceof e),t=>`${t} instanceof ${e.name}`),cc=yg("string"),BAe=yg("number").and(ro(e=>!isNaN(e),e=>`!isNaN(${e})`)),_Ae=yg("bigint"),f9=yg("boolean"),FAe=yg("symbol"),M3=ro(e=>!0,()=>"!0"),IAe=Uee(Date).and(ro(e=>!isNaN(e.getTime()),e=>`!isNaN(${e}.getTime())`)),u9=e=>typeof e=="function",jee=ro(e=>(no.expect("object",e),typeof e=="object"&&e!=null),e=>`typeof ${e} === 'object' && ${e} !== null`),$ee=ro(e=>(no.expect("array",e),Array.isArray(e)),e=>`Array.isArray(${e})`),dc=e=>{let t=e;return jee.and(ro(n=>{u9(t)&&(t=new t);for(let r in t){if(no.at(r),!t[r].validate(n[r],no))return!1;no.back()}return!0},n=>(u9(t)&&(t=new t),Nee(t).map(i=>[i,t[i]]).map(([i,o])=>o.gen(`${n}.${i}`)).join(" && "))))},bg=e=>$ee.and(ro((t,n)=>{for(let r=0;r<t.length;r++){if(n.index(r),!e.validate(t[r],n))return!1;n.back()}return!0},t=>`${t}.every(${l9} => ${e.gen(l9)})`));b();b();var qee=0,Kee="@@@";function h9(){return`${Kee}${qee++}`}var xn;(e=>{e.Data=Symbol.for("@alinea/Section.Data");function t(a){return a[e.Data].view}e.view=t;function n(a){let{view:s,sections:l}=a[e.Data];return[s,...l.flatMap(n)].filter(u=>typeof u=="string")}e.referencedViews=n;function r(a){return a[e.Data].definition}e.definition=r;function i(a){return a[e.Data].fields}e.fields=i;function o(a){return!!a?.[e.Data]}e.isSection=o})(xn||(xn={}));function Gh(e){let t=vC(null),n=[],r=vC(null);for(let[o,a]of le(e.definition))He.isField(a)?(yC(t,o,{value:a,enumerable:!1}),r[o]=a):xn.isSection(a)&&(n.push(a),Zo(r,xn.fields(a)));let i=h9();return t[i]=t,e.fields||Zo(e,{fields:r}),e.sections||Zo(e,{sections:n}),yC(t,xn.Data,{value:e,enumerable:!1}),t}b();b();b();var Bs=Math.floor,Eg=Math.abs,hc=(e,t)=>e<t?e:t,Va=(e,t)=>e>t?e:t,YAe=Number.isNaN,v9=e=>e!==0?e<0:1/e<0,B3=1,_3=2,nw=4,rw=8,Xh=32,_s=64,io=128,Yee=1<<17,Wee=1<<18,Gee=1<<19,Qee=1<<20,Jee=1<<21,Xee=1<<22,Zee=1<<23,ete=1<<24,tte=1<<25,nte=1<<26,rte=1<<27,ite=1<<28,ote=1<<29,ate=1<<30,WAe=1<<31,Sg=31,R3=63,Hd=127,GAe=Yee-1,QAe=Wee-1,JAe=Gee-1,XAe=Qee-1,ZAe=Jee-1,e3e=Xee-1,t3e=Zee-1,n3e=ete-1,r3e=tte-1,i3e=nte-1,o3e=rte-1,a3e=ite-1,s3e=ote-1,l3e=ate-1,ste=2147483647,y9=Number.MAX_SAFE_INTEGER,u3e=Number.MIN_SAFE_INTEGER,c3e=1<<31,lte=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&Bs(e)===e),d3e=Number.isNaN,f3e=Number.parseInt,Hl=()=>new Set,iw=e=>e[e.length-1],b9=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},Vl=Array.from,w9=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1};var ow=Array.isArray,ute=String.fromCharCode,h3e=String.fromCodePoint,p3e=ute(65535),cte=e=>e.toLowerCase(),dte=/^\s*/g,fte=e=>e.replace(dte,""),hte=/([A-Z])/g,F3=(e,t)=>fte(e.replace(hte,n=>`${t}${cte(n)}`)),pte=e=>{let t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.codePointAt(i);return r},xg=typeof TextEncoder<"u"?new TextEncoder:null,mte=e=>xg.encode(e),gte=xg?mte:pte,wg=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});wg&&wg.decode(new Uint8Array).length===1&&(wg=null);var Cg=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},Ud=()=>new Cg,vte=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},_o=e=>{let t=new Uint8Array(vte(e)),n=0;for(let r=0;r<e.bufs.length;r++){let i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},yte=(e,t)=>{let n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(Va(n,t)*2),e.cpos=0)},Sr=(e,t)=>{let n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},aw=Sr,ct=(e,t)=>{for(;t>Hd;)Sr(e,io|Hd&t),t=Bs(t/128);Sr(e,Hd&t)},sw=(e,t)=>{let n=v9(t);for(n&&(t=-t),Sr(e,(t>R3?io:0)|(n?_s:0)|R3&t),t=Bs(t/64);t>0;)Sr(e,(t>Hd?io:0)|Hd&t),t=Bs(t/128)},O3=new Uint8Array(3e4),bte=O3.length/3,wte=(e,t)=>{if(t.length<bte){let n=xg.encodeInto(t,O3).written||0;ct(e,n);for(let r=0;r<n;r++)Sr(e,O3[r])}else si(e,gte(t))},xte=(e,t)=>{let n=unescape(encodeURIComponent(t)),r=n.length;ct(e,r);for(let i=0;i<r;i++)Sr(e,n.codePointAt(i))},fa=xg&&xg.encodeInto?wte:xte;var Ag=(e,t)=>{let n=e.cbuf.length,r=e.cpos,i=hc(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(Va(n*2,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},si=(e,t)=>{ct(e,t.byteLength),Ag(e,t)},I3=(e,t)=>{yte(e,t);let n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},Ete=(e,t)=>I3(e,4).setFloat32(0,t,!1),Ste=(e,t)=>I3(e,8).setFloat64(0,t,!1),Cte=(e,t)=>I3(e,8).setBigInt64(0,t,!1),p9=new DataView(new ArrayBuffer(4)),Ate=e=>(p9.setFloat32(0,e),p9.getFloat32(0)===e),Qh=(e,t)=>{switch(typeof t){case"string":Sr(e,119),fa(e,t);break;case"number":lte(t)&&Eg(t)<=ste?(Sr(e,125),sw(e,t)):Ate(t)?(Sr(e,124),Ete(e,t)):(Sr(e,123),Ste(e,t));break;case"bigint":Sr(e,122),Cte(e,t);break;case"object":if(t===null)Sr(e,126);else if(ow(t)){Sr(e,117),ct(e,t.length);for(let n=0;n<t.length;n++)Qh(e,t[n])}else if(t instanceof Uint8Array)Sr(e,116),si(e,t);else{Sr(e,118);let n=Object.keys(t);ct(e,n.length);for(let r=0;r<n.length;r++){let i=n[r];fa(e,i),Qh(e,t[i])}}break;case"boolean":Sr(e,t?120:121);break;default:Sr(e,127)}},N3=class extends Cg{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&ct(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}},m9=e=>{e.count>0&&(sw(e.encoder,e.count===1?e.s:-e.s),e.count>1&&ct(e.encoder,e.count-2))},Tg=class{constructor(){this.encoder=new Cg,this.s=0,this.count=0}write(e){this.s===e?this.count++:(m9(this),this.count=1,this.s=e)}toUint8Array(){return m9(this),_o(this.encoder)}},g9=e=>{if(e.count>0){let t=e.diff*2+(e.count===1?0:1);sw(e.encoder,t),e.count>1&&ct(e.encoder,e.count-2)}},lw=class{constructor(){this.encoder=new Cg,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(g9(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return g9(this),_o(this.encoder)}},x9=class{constructor(){this.sarr=[],this.s="",this.lensE=new Tg}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){let e=new Cg;return this.sarr.push(this.s),this.s="",fa(e,this.sarr.join("")),Ag(e,this.lensE.toUint8Array()),_o(e)}},Ul=e=>new Error(e),Fo=()=>{throw Ul("Method unimplemented")},Ai=()=>{throw Ul("Unexpected case")},E9=Ul("Unexpected end of array"),S9=Ul("Integer out of Range"),uw=class{constructor(e){this.arr=e,this.pos=0}},pc=e=>new uw(e),C9=e=>e.pos!==e.arr.length,Tte=(e,t)=>{let n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},Ti=e=>Tte(e,et(e)),Vd=e=>e.arr[e.pos++],et=e=>{let t=0,n=1,r=e.arr.length;for(;e.pos<r;){let i=e.arr[e.pos++];if(t=t+(i&Hd)*n,n*=128,i<io)return t;if(t>y9)throw S9}throw E9},cw=e=>{let t=e.arr[e.pos++],n=t&R3,r=64,i=(t&_s)>0?-1:1;if((t&io)===0)return i*n;let o=e.arr.length;for(;e.pos<o;){if(t=e.arr[e.pos++],n=n+(t&Hd)*r,r*=128,t<io)return i*n;if(n>y9)throw S9}throw E9},kte=e=>{let t=et(e);if(t===0)return"";{let n=String.fromCodePoint(Vd(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(Vd(e));else for(;t>0;){let r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},Dte=e=>wg.decode(Ti(e)),fc=wg?Dte:kte,L3=(e,t)=>{let n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},Mte=e=>L3(e,4).getFloat32(0,!1),Rte=e=>L3(e,8).getFloat64(0,!1),Ote=e=>L3(e,8).getBigInt64(0,!1),Bte=[e=>{},e=>null,cw,Mte,Rte,Ote,e=>!1,e=>!0,fc,e=>{let t=et(e),n={};for(let r=0;r<t;r++){let i=fc(e);n[i]=Jh(e)}return n},e=>{let t=et(e),n=[];for(let r=0;r<t;r++)n.push(Jh(e));return n},Ti],Jh=e=>Bte[127-Vd(e)](e),z3=class extends uw{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),C9(this)?this.count=et(this)+1:this.count=-1),this.count--,this.s}},kg=class extends uw{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=cw(this);let e=v9(this.s);this.count=1,e&&(this.s=-this.s,this.count=et(this)+2)}return this.count--,this.s}},dw=class extends uw{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){let e=cw(this),t=e&1;this.diff=Bs(e/2),this.count=1,t&&(this.count=et(this)+2)}return this.s+=this.diff,this.count--,this.s}},A9=class{constructor(e){this.decoder=new kg(e),this.str=fc(this.decoder),this.spos=0}read(){let e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}};var Ua=()=>new Map,U3=e=>{let t=Ua();return e.forEach((n,r)=>{t.set(r,n)}),t},vc=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},_te=(e,t)=>{let n=[];for(let[r,i]of e)n.push(t(i,r));return n},Fte=(e,t)=>{for(let[n,r]of e)if(t(r,n))return!0;return!1},$9=class{constructor(){this._observers=Ua()}on(e,t){vc(this._observers,e,Hl).add(t)}once(e,t){let n=(...r)=>{this.off(e,n),t(...r)};this.on(e,n)}off(e,t){let n=this._observers.get(e);n!==void 0&&(n.delete(t),n.size===0&&this._observers.delete(e))}emit(e,t){return Vl((this._observers.get(e)||Ua()).values()).forEach(n=>n(...t))}destroy(){this._observers=Ua()}},O3e=_a.subtle,Ite=_a.getRandomValues.bind(_a),Nte=Math.random,q9=()=>Ite(new Uint32Array(1))[0],K9=e=>e[Bs(Nte()*e.length)],Lte="10000000-1000-4000-8000"+-1e11,zte=()=>Lte.replace(/[018]/g,e=>(e^q9()&15>>e/4).toString(16)),Y9=Date.now,T9=e=>new Promise(e),B3e=Promise.all.bind(Promise),k9=e=>e===void 0?null:e,Pte=class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},W9=new Pte,Hte=!0;try{typeof localStorage<"u"&&localStorage&&(W9=localStorage,Hte=!1)}catch{}var Vte=W9,Ute=Object.assign,sT=Object.keys,jte=(e,t)=>{for(let n in e)t(e[n],n)},D9=e=>sT(e).length,$te=e=>{for(let t in e)return!1;return!0},qte=(e,t)=>{for(let n in e)if(!t(e[n],n))return!1;return!0},Kte=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Yte=(e,t)=>e===t||D9(e)===D9(t)&&qte(e,(n,r)=>(n!==void 0||Kte(t,r))&&t[r]===n),lT=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&lT(e,t,n+1)}},Wte=e=>e,Gte=(e,t)=>t.includes(e),ep=typeof C<"u"&&C.release&&/node|io\.js/.test(C.release.name)&&Object.prototype.toString.call(typeof C<"u"?C:0)==="[object process]",G9=typeof window<"u"&&typeof document<"u"&&!ep,_3e=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,Fs,Qte=[],Jte=()=>{if(Fs===void 0)if(ep){Fs=Ua();let e=C.argv,t=null;for(let n=0;n<e.length;n++){let r=e[n];r[0]==="-"?(t!==null&&Fs.set(t,""),t=r):t!==null?(Fs.set(t,r),t=null):Qte.push(r)}t!==null&&Fs.set(t,"")}else typeof location=="object"?(Fs=Ua(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){let[t,n]=e.split("=");Fs.set(`--${F3(t,"-")}`,n),Fs.set(`-${F3(t,"-")}`,n)}})):Fs=Ua();return Fs},j3=e=>Jte().has(e),$3=e=>k9(ep?C.env[e.toUpperCase()]:Vte.getItem(e)),Xte=e=>j3("--"+e)||$3(e)!==null,F3e=Xte("production"),M9=ep&&Gte(C.env.FORCE_COLOR,["true","1","2"]),Zte=!j3("no-colors")&&(!ep||C.stdout.isTTY||M9)&&(!ep||j3("color")||M9||$3("COLORTERM")!==null||($3("TERM")||"").includes("color")),ene=e=>new Uint8Array(e),tne=e=>{let t=ene(e.byteLength);return t.set(e),t},nne=class{constructor(e,t){this.left=e,this.right=t}},jl=(e,t)=>new nne(e,t),Kl=typeof document<"u"?document:{},I3e=typeof DOMParser<"u"?new DOMParser:null,rne=e=>_te(e,(t,n)=>`${n}:${t};`).join(""),N3e=Kl.ELEMENT_NODE,L3e=Kl.TEXT_NODE,z3e=Kl.CDATA_SECTION_NODE,P3e=Kl.COMMENT_NODE,H3e=Kl.DOCUMENT_NODE,V3e=Kl.DOCUMENT_TYPE_NODE,U3e=Kl.DOCUMENT_FRAGMENT_NODE,Cw=e=>class{constructor(n){this._=n}destroy(){e(this._)}},ine=Cw(clearTimeout),uT=(e,t)=>new ine(setTimeout(t,e)),$3e=Cw(clearInterval),q3e=Cw(e=>typeof requestAnimationFrame<"u"&&cancelAnimationFrame(e)),K3e=Cw(e=>typeof cancelIdleCallback<"u"&&cancelIdleCallback(e)),Yl=Symbol,Q9=Yl(),J9=Yl(),one=Yl(),ane=Yl(),sne=Yl(),X9=Yl(),lne=Yl(),cT=Yl(),une=Yl(),cne=e=>{let t=[],n=[],r=0;for(;r<e.length;r++){let i=e[r];i.constructor===String||i.constructor===Number?t.push(i):i.constructor===Object&&n.push(JSON.stringify(i))}return n},Y3e=Y9(),dne={[Q9]:jl("font-weight","bold"),[J9]:jl("font-weight","normal"),[one]:jl("color","blue"),[sne]:jl("color","green"),[ane]:jl("color","grey"),[X9]:jl("color","red"),[lne]:jl("color","purple"),[cT]:jl("color","orange"),[une]:jl("color","black")},fne=e=>{let t=[],n=[],r=Ua(),i=[],o=0;for(;o<e.length;o++){let a=e[o],s=dne[a];if(s!==void 0)r.set(s.left,s.right);else if(a.constructor===String||a.constructor===Number){let l=rne(r);o>0||l.length>0?(t.push("%c"+a),n.push(l)):t.push(a)}else break}for(o>0&&(i=n,i.unshift(t.join("")));o<e.length;o++){let a=e[o];a instanceof Symbol||i.push(a)}return i},Z9=Zte?fne:cne,hne=(...e)=>{console.log(...Z9(e)),eN.forEach(t=>t.print(e))},pne=(...e)=>{console.warn(...Z9(e)),e.unshift(cT),eN.forEach(t=>t.print(e))},eN=Hl(),tN=e=>({[Symbol.iterator](){return this},next:e}),mne=(e,t)=>tN(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),P3=(e,t)=>tN(()=>{let{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});var dT=class{constructor(e,t){this.clock=e,this.len=t}},rp=class{constructor(){this.clients=new Map}},$l=(e,t,n)=>t.clients.forEach((r,i)=>{let o=e.doc.store.clients.get(i);for(let a=0;a<r.length;a++){let s=r[a];gN(e,o,s.clock,s.len,n)}}),gne=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){let i=Bs((n+r)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;n=i+1}else r=i-1}return null},qd=(e,t)=>{let n=e.clients.get(t.client);return n!==void 0&&gne(n,t.clock)!==null},fT=e=>{e.clients.forEach(t=>{t.sort((i,o)=>i.clock-o.clock);let n,r;for(n=1,r=1;n<t.length;n++){let i=t[r-1],o=t[n];i.clock+i.len>=o.clock?i.len=Va(i.len,o.clock+o.len-i.clock):(r<n&&(t[r]=o),r++)}t.length=r})},q3=e=>{let t=new rp;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,i)=>{if(!t.clients.has(i)){let o=r.slice();for(let a=n+1;a<e.length;a++)b9(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}});return fT(t),t},Dg=(e,t,n,r)=>{vc(e.clients,t,()=>[]).push(new dT(n,r))},Aw=()=>new rp,nN=e=>{let t=Aw();return e.clients.forEach((n,r)=>{let i=[];for(let o=0;o<n.length;o++){let a=n[o];if(a.deleted){let s=a.id.clock,l=a.length;if(o+1<n.length)for(let u=n[o+1];o+1<n.length&&u.deleted;u=n[++o+1])l+=u.length;i.push(new dT(s,l))}}i.length>0&&t.clients.set(r,i)}),t},ip=(e,t)=>{ct(e.restEncoder,t.clients.size),Vl(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),ct(e.restEncoder,n);let i=r.length;ct(e.restEncoder,i);for(let o=0;o<i;o++){let a=r[o];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},hT=e=>{let t=new rp,n=et(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();let i=et(e.restDecoder),o=et(e.restDecoder);if(o>0){let a=vc(t.clients,i,()=>[]);for(let s=0;s<o;s++)a.push(new dT(e.readDsClock(),e.readDsLen()))}}return t},R9=(e,t,n)=>{let r=new rp,i=et(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();let a=et(e.restDecoder),s=et(e.restDecoder),l=n.clients.get(a)||[],u=Gn(n,a);for(let c=0;c<s;c++){let d=e.readDsClock(),f=d+e.readDsLen();if(d<u){u<f&&Dg(r,a,u,f-u);let h=Is(l,d),p=l[h];for(!p.deleted&&p.id.clock<d&&(l.splice(h+1,0,Sw(t,p,d-p.id.clock)),h++);h<l.length&&(p=l[h++],p.id.clock<f);)p.deleted||(f<p.id.clock+p.length&&l.splice(h,0,Sw(t,p,f-p.id.clock)),p.delete(t))}else Dg(r,a,d,f-d)}}if(r.clients.size>0){let o=new $d;return ct(o.restEncoder,0),ip(o,r),o.toUint8Array()}return null};var rN=q9,ja=class iN extends $9{constructor({guid:t=zte(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:a=!1,shouldLoad:s=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=rN(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new pN,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=s,this.autoLoad=a,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=T9(u=>{this.on("load",()=>{this.isLoaded=!0,u(this)})});let l=()=>T9(u=>{let c=d=>{(d===void 0||d===!0)&&(this.off("sync",c),u())};this.on("sync",c)});this.on("sync",u=>{u===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=u===void 0||u===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[])}),this.whenSynced=l()}load(){let t=this._item;t!==null&&!this.shouldLoad&&Yt(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Vl(this.subdocs).map(t=>t.guid))}transact(t,n=null){return Yt(this,t,n)}get(t,n=Ur){let r=vc(this.share,t,()=>{let o=new n;return o._integrate(this,null),o}),i=r.constructor;if(n!==Ur&&i!==n)if(i===Ur){let o=new n;o._map=r._map,r._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=o}),o._start=r._start;for(let a=o._start;a!==null;a=a.right)a.parent=o;return o._length=r._length,this.share.set(t,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,RN)}getText(t=""){return this.get(t,yc)}getMap(t=""){return this.get(t,$a)}getXmlFragment(t=""){return this.get(t,sp)}toJSON(){let t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){Vl(this.subdocs).forEach(n=>n.destroy());let t=this._item;if(t!==null){this._item=null;let n=t.content;n.doc=new iN({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,Yt(t.parent.doc,r=>{let i=n.doc;t.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,n){super.on(t,n)}off(t,n){super.off(t,n)}},oN=class{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return et(this.restDecoder)}readDsLen(){return et(this.restDecoder)}},vne=class extends oN{readLeftID(){return Ke(et(this.restDecoder),et(this.restDecoder))}readRightID(){return Ke(et(this.restDecoder),et(this.restDecoder))}readClient(){return et(this.restDecoder)}readInfo(){return Vd(this.restDecoder)}readString(){return fc(this.restDecoder)}readParentInfo(){return et(this.restDecoder)===1}readTypeRef(){return et(this.restDecoder)}readLen(){return et(this.restDecoder)}readAny(){return Jh(this.restDecoder)}readBuf(){return tne(Ti(this.restDecoder))}readJSON(){return JSON.parse(fc(this.restDecoder))}readKey(){return fc(this.restDecoder)}},yne=class{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=et(this.restDecoder),this.dsCurrVal}readDsLen(){let e=et(this.restDecoder)+1;return this.dsCurrVal+=e,e}},tp=class extends yne{constructor(e){super(e),this.keys=[],et(e),this.keyClockDecoder=new dw(Ti(e)),this.clientDecoder=new kg(Ti(e)),this.leftClockDecoder=new dw(Ti(e)),this.rightClockDecoder=new dw(Ti(e)),this.infoDecoder=new z3(Ti(e),Vd),this.stringDecoder=new A9(Ti(e)),this.parentInfoDecoder=new z3(Ti(e),Vd),this.typeRefDecoder=new kg(Ti(e)),this.lenDecoder=new kg(Ti(e))}readLeftID(){return new Zh(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Zh(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Jh(this.restDecoder)}readBuf(){return Ti(this.restDecoder)}readJSON(){return Jh(this.restDecoder)}readKey(){let e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{let t=this.stringDecoder.read();return this.keys.push(t),t}}},aN=class{constructor(){this.restEncoder=Ud()}toUint8Array(){return _o(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){ct(this.restEncoder,e)}writeDsLen(e){ct(this.restEncoder,e)}},Og=class extends aN{writeLeftID(e){ct(this.restEncoder,e.client),ct(this.restEncoder,e.clock)}writeRightID(e){ct(this.restEncoder,e.client),ct(this.restEncoder,e.clock)}writeClient(e){ct(this.restEncoder,e)}writeInfo(e){aw(this.restEncoder,e)}writeString(e){fa(this.restEncoder,e)}writeParentInfo(e){ct(this.restEncoder,e?1:0)}writeTypeRef(e){ct(this.restEncoder,e)}writeLen(e){ct(this.restEncoder,e)}writeAny(e){Qh(this.restEncoder,e)}writeBuf(e){si(this.restEncoder,e)}writeJSON(e){fa(this.restEncoder,JSON.stringify(e))}writeKey(e){fa(this.restEncoder,e)}},sN=class{constructor(){this.restEncoder=Ud(),this.dsCurrVal=0}toUint8Array(){return _o(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){let t=e-this.dsCurrVal;this.dsCurrVal=e,ct(this.restEncoder,t)}writeDsLen(e){e===0&&Ai(),ct(this.restEncoder,e-1),this.dsCurrVal+=e}},$d=class extends sN{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new lw,this.clientEncoder=new Tg,this.leftClockEncoder=new lw,this.rightClockEncoder=new lw,this.infoEncoder=new N3(aw),this.stringEncoder=new x9,this.parentInfoEncoder=new N3(aw),this.typeRefEncoder=new Tg,this.lenEncoder=new Tg}toUint8Array(){let e=Ud();return ct(e,0),si(e,this.keyClockEncoder.toUint8Array()),si(e,this.clientEncoder.toUint8Array()),si(e,this.leftClockEncoder.toUint8Array()),si(e,this.rightClockEncoder.toUint8Array()),si(e,_o(this.infoEncoder)),si(e,this.stringEncoder.toUint8Array()),si(e,_o(this.parentInfoEncoder)),si(e,this.typeRefEncoder.toUint8Array()),si(e,this.lenEncoder.toUint8Array()),Ag(e,_o(this.restEncoder)),_o(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Qh(this.restEncoder,e)}writeBuf(e){si(this.restEncoder,e)}writeJSON(e){Qh(this.restEncoder,e)}writeKey(e){let t=this.keyMap.get(e);t===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}},bne=(e,t,n,r)=>{r=Va(r,t[0].id.clock);let i=Is(t,r);ct(e.restEncoder,t.length-i),e.writeClient(n),ct(e.restEncoder,r);let o=t[i];o.write(e,r-o.id.clock);for(let a=i+1;a<t.length;a++)t[a].write(e,0)},pT=(e,t,n)=>{let r=new Map;n.forEach((i,o)=>{Gn(t,o)>i&&r.set(o,i)}),_g(t).forEach((i,o)=>{n.has(o)||r.set(o,0)}),ct(e.restEncoder,r.size),Vl(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{bne(e,t.clients.get(i),i,o)})},wne=(e,t)=>{let n=Ua(),r=et(e.restDecoder);for(let i=0;i<r;i++){let o=et(e.restDecoder),a=new Array(o),s=e.readClient(),l=et(e.restDecoder);n.set(s,{i:0,refs:a});for(let u=0;u<o;u++){let c=e.readInfo();switch(Sg&c){case 0:{let d=e.readLen();a[u]=new ha(Ke(s,l),d),l+=d;break}case 10:{let d=et(e.restDecoder);a[u]=new pa(Ke(s,l),d),l+=d;break}default:{let d=(c&(_s|io))===0,f=new Wt(Ke(s,l),null,(c&io)===io?e.readLeftID():null,null,(c&_s)===_s?e.readRightID():null,d?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,d&&(c&Xh)===Xh?e.readString():null,jN(e,c));a[u]=f,l+=f.length}}}}return n},xne=(e,t,n)=>{let r=[],i=Vl(n.keys()).sort((h,p)=>h-p);if(i.length===0)return null;let o=()=>{if(i.length===0)return null;let h=n.get(i[i.length-1]);for(;h.refs.length===h.i;)if(i.pop(),i.length>0)h=n.get(i[i.length-1]);else return null;return h},a=o();if(a===null)return null;let s=new pN,l=new Map,u=(h,p)=>{let m=l.get(h);(m==null||m>p)&&l.set(h,p)},c=a.refs[a.i++],d=new Map,f=()=>{for(let h of r){let p=h.id.client,m=n.get(p);m?(m.i--,s.clients.set(p,m.refs.slice(m.i)),n.delete(p),m.i=0,m.refs=[]):s.clients.set(p,[h]),i=i.filter(v=>v!==p)}r.length=0};for(;;){if(c.constructor!==pa){let p=vc(d,c.id.client,()=>Gn(t,c.id.client))-c.id.clock;if(p<0)r.push(c),u(c.id.client,c.id.clock-1),f();else{let m=c.getMissing(e,t);if(m!==null){r.push(c);let v=n.get(m)||{refs:[],i:0};if(v.refs.length===v.i)u(m,Gn(t,m)),f();else{c=v.refs[v.i++];continue}}else(p===0||p<c.length)&&(c.integrate(e,p),d.set(c.id.client,c.id.clock+c.length))}}if(r.length>0)c=r.pop();else if(a!==null&&a.i<a.refs.length)c=a.refs[a.i++];else{if(a=o(),a===null)break;c=a.refs[a.i++]}}if(s.clients.size>0){let h=new $d;return pT(h,s,new Map),ct(h.restEncoder,0),{missing:l,update:h.toUint8Array()}}return null},Ene=(e,t)=>pT(e,t.doc.store,t.beforeState),Sne=(e,t,n,r=new tp(e))=>Yt(t,i=>{i.local=!1;let o=!1,a=i.doc,s=a.store,l=wne(r,a),u=xne(i,s,l),c=s.pendingStructs;if(c){for(let[f,h]of c.missing)if(h<Gn(s,f)){o=!0;break}if(u){for(let[f,h]of u.missing){let p=c.missing.get(f);(p==null||p>h)&&c.missing.set(f,h)}c.update=bw([c.update,u.update])}}else s.pendingStructs=u;let d=R9(r,i,s);if(s.pendingDs){let f=new tp(pc(s.pendingDs));et(f.restDecoder);let h=R9(f,i,s);d&&h?s.pendingDs=bw([d,h]):s.pendingDs=d||h}else s.pendingDs=d;if(o){let f=s.pendingStructs.update;s.pendingStructs=null,Tw(i.doc,f)}},n,!1);var Tw=(e,t,n,r=tp)=>{let i=pc(t);Sne(i,e,n,new r(i))};var Cne=(e,t,n=new Map)=>{pT(e,t.store,n),ip(e,nN(t.store))},Ane=(e,t=new Uint8Array([0]),n=new $d)=>{let r=uN(t);Cne(n,e,r);let i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(Vne(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===Og)return Pne(i.map((o,a)=>a===0?o:jne(o)));if(n.constructor===$d)return bw(i)}return i[0]},lN=(e,t)=>Ane(e,t,new Og),Tne=e=>{let t=new Map,n=et(e.restDecoder);for(let r=0;r<n;r++){let i=et(e.restDecoder),o=et(e.restDecoder);t.set(i,o)}return t},uN=e=>Tne(new oN(pc(e))),cN=(e,t)=>(ct(e.restEncoder,t.size),Vl(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{ct(e.restEncoder,n),ct(e.restEncoder,r)}),e),kne=(e,t)=>cN(e,_g(t.store)),Dne=(e,t=new sN)=>(e instanceof Map?cN(t,e):kne(t,e),t.toUint8Array()),dN=e=>Dne(e,new aN),Mne=class{constructor(){this.l=[]}},O9=()=>new Mne,B9=(e,t)=>e.l.push(t),_9=(e,t)=>{let n=e.l,r=n.length;e.l=n.filter(i=>t!==i),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},fN=(e,t,n)=>lT(e.l,[t,n]),Zh=class{constructor(e,t){this.client=e,this.clock=t}},fw=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,Ke=(e,t)=>new Zh(e,t);var op=e=>{for(let[t,n]of e.doc.share.entries())if(n===e)return t;throw Ai()},np=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1};var Bg=class{constructor(e,t,n,r=0){this.type=e,this.tname=t,this.item=n,this.assoc=r}};var Rne=class{constructor(e,t,n=0){this.type=e,this.index=t,this.assoc=n}},One=(e,t,n=0)=>new Rne(e,t,n),hw=(e,t,n)=>{let r=null,i=null;return e._item===null?i=op(e):r=Ke(e._item.id.client,e._item.id.clock),new Bg(r,i,t,n)},kw=(e,t,n=0)=>{let r=e._start;if(n<0){if(t===0)return hw(e,null,n);t--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>t)return hw(e,Ke(r.id.client,r.id.clock+t),n);t-=r.length}if(r.right===null&&n<0)return hw(e,r.lastId,n);r=r.right}return hw(e,null,n)};var hN=(e,t)=>{let n=t.store,r=e.item,i=e.type,o=e.tname,a=e.assoc,s=null,l=0;if(r!==null){if(Gn(n,r.client)<=r.clock)return null;let u=oT(n,r),c=u.item;if(!(c instanceof Wt))return null;if(s=c.parent,s._item===null||!s._item.deleted){l=c.deleted||!c.countable?0:u.diff+(a>=0?0:1);let d=c.left;for(;d!==null;)!d.deleted&&d.countable&&(l+=d.length),d=d.left}}else{if(o!==null)s=t.get(o);else if(i!==null){if(Gn(n,i.client)<=i.clock)return null;let{item:u}=oT(n,i);if(u instanceof Wt&&u.content instanceof Ns)s=u.content.type;else return null}else throw Ai();a>=0?l=s._length:l=0}return One(s,l,e.assoc)};var Dw=class{constructor(e,t){this.ds=e,this.sv=t}};var Mw=(e,t)=>new Dw(e,t),W3e=Mw(Aw(),new Map),Rw=e=>Mw(nN(e.store),_g(e.store)),jd=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!qd(t.ds,e.id),K3=(e,t)=>{let n=vc(e.meta,K3,Hl),r=e.doc.store;n.has(t)||(t.sv.forEach((i,o)=>{i<Gn(r,o)&&oo(e,Ke(o,i))}),$l(e,t.ds,i=>{}),n.add(t))};var pN=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},_g=e=>{let t=new Map;return e.clients.forEach((n,r)=>{let i=n[n.length-1];t.set(r,i.id.clock+i.length)}),t},Gn=(e,t)=>{let n=e.clients.get(t);if(n===void 0)return 0;let r=n[n.length-1];return r.id.clock+r.length},mN=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{let r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw Ai()}n.push(t)},Is=(e,t)=>{let n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;let a=Bs(t/(o+i.length-1)*r);for(;n<=r;){if(i=e[a],o=i.id.clock,o<=t){if(t<o+i.length)return a;n=a+1}else r=a-1;a=Bs((n+r)/2)}throw Ai()},Bne=(e,t)=>{let n=e.clients.get(t.client);return n[Is(n,t.clock)]},gw=Bne,Y3=(e,t,n)=>{let r=Is(t,n),i=t[r];return i.id.clock<n&&i instanceof Wt?(t.splice(r+1,0,Sw(e,i,n-i.id.clock)),r+1):r},oo=(e,t)=>{let n=e.doc.store.clients.get(t.client);return n[Y3(e,n,t.clock)]},F9=(e,t,n)=>{let r=t.clients.get(n.client),i=Is(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==ha&&r.splice(i+1,0,Sw(e,o,n.clock-o.id.clock+1)),o},_ne=(e,t,n)=>{let r=e.clients.get(t.id.client);r[Is(r,t.id.clock)]=n},gN=(e,t,n,r,i)=>{if(r===0)return;let o=n+r,a=Y3(e,t,n),s;do s=t[a++],o<s.id.clock+s.length&&Y3(e,t,o),i(s);while(a<t.length&&t[a].id.clock<o)},Fne=class{constructor(e,t,n){this.doc=e,this.deleteSet=new rp,this.beforeState=_g(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},I9=(e,t)=>t.deleteSet.clients.size===0&&!Fte(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(fT(t.deleteSet),Ene(e,t),ip(e,t.deleteSet),!0),N9=(e,t,n)=>{let r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&vc(e.changed,t,Hl).add(n)},vw=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0;n=r,r=e[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Wt&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}let o=t-i;return o&&e.splice(t+1-o,o),o},Ine=(e,t,n)=>{for(let[r,i]of e.clients.entries()){let o=t.clients.get(r);for(let a=i.length-1;a>=0;a--){let s=i[a],l=s.clock+s.len;for(let u=Is(o,s.clock),c=o[u];u<o.length&&c.id.clock<l;c=o[++u]){let d=o[u];if(s.clock+s.len<=d.id.clock)break;d instanceof Wt&&d.deleted&&!d.keep&&n(d)&&d.gc(t,!1)}}}},Nne=(e,t)=>{e.clients.forEach((n,r)=>{let i=t.clients.get(r);for(let o=n.length-1;o>=0;o--){let a=n[o],s=hc(i.length-1,1+Is(i,a.clock+a.len-1));for(let l=s,u=i[l];l>0&&u.id.clock>=a.clock;u=i[l])l-=1+vw(i,l)}})};var vN=(e,t)=>{if(t<e.length){let n=e[t],r=n.doc,i=r.store,o=n.deleteSet,a=n._mergeStructs;try{fT(o),n.afterState=_g(n.doc.store),r.emit("beforeObserverCalls",[n,r]);let s=[];n.changed.forEach((l,u)=>s.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(n,l)})),s.push(()=>{n.changedParentTypes.forEach((l,u)=>{u._dEH.l.length>0&&(u._item===null||!u._item.deleted)&&(l=l.filter(c=>c.target._item===null||!c.target._item.deleted),l.forEach(c=>{c.currentTarget=u,c._path=null}),l.sort((c,d)=>c.path.length-d.path.length),fN(u._dEH,l,n))})}),s.push(()=>r.emit("afterTransaction",[n,r])),lT(s,[]),n._needFormattingCleanup&&nre(n)}finally{r.gc&&Ine(o,i,r.gcFilter),Nne(o,i),n.afterState.forEach((c,d)=>{let f=n.beforeState.get(d)||0;if(f!==c){let h=i.clients.get(d),p=Va(Is(h,f),1);for(let m=h.length-1;m>=p;)m-=1+vw(h,m)}});for(let c=a.length-1;c>=0;c--){let{client:d,clock:f}=a[c].id,h=i.clients.get(d),p=Is(h,f);p+1<h.length&&vw(h,p+1)>1||p>0&&vw(h,p)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(hne(cT,Q9,"[yjs] ",J9,X9,"Changed the client-id because another client seems to be using it."),r.clientID=rN()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){let c=new Og;I9(c,n)&&r.emit("update",[c.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){let c=new $d;I9(c,n)&&r.emit("updateV2",[c.toUint8Array(),n.origin,r,n])}let{subdocsAdded:s,subdocsLoaded:l,subdocsRemoved:u}=n;(s.size>0||u.size>0||l.size>0)&&(s.forEach(c=>{c.clientID=r.clientID,c.collectionid==null&&(c.collectionid=r.collectionid),r.subdocs.add(c)}),u.forEach(c=>r.subdocs.delete(c)),r.emit("subdocs",[{loaded:l,added:s,removed:u},r,n]),u.forEach(c=>c.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):vN(e,t+1)}}},Yt=(e,t,n=null,r=!0)=>{let i=e._transactionCleanups,o=!1,a=null;e._transaction===null&&(o=!0,e._transaction=new Fne(e,n,r),i.push(e._transaction),i.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(o){let s=e._transaction===i[0];e._transaction=null,s&&vN(i,0)}}return a},Lne=class{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}},L9=(e,t,n)=>{$l(e,n.deletions,r=>{r instanceof Wt&&t.scope.some(i=>np(i,r))&&DT(r,!1)})},z9=(e,t,n)=>{let r=null,i=null,o=e.doc,a=e.scope;if(Yt(o,s=>{for(;t.length>0&&r===null;){let l=o.store,u=t.pop(),c=new Set,d=[],f=!1;$l(s,u.insertions,h=>{if(h instanceof Wt){if(h.redone!==null){let{item:p,diff:m}=oT(l,h.id);m>0&&(p=oo(s,Ke(p.id.client,p.id.clock+m))),h=p}!h.deleted&&a.some(p=>np(p,h))&&d.push(h)}}),$l(s,u.deletions,h=>{h instanceof Wt&&a.some(p=>np(p,h))&&!qd(u.insertions,h.id)&&c.add(h)}),c.forEach(h=>{f=UN(s,h,c,u.insertions,e.ignoreRemoteMapChanges,e)!==null||f});for(let h=d.length-1;h>=0;h--){let p=d[h];e.deleteFilter(p)&&(p.delete(s),f=!0)}r=f?u:null}s.changed.forEach((l,u)=>{l.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),i=s},e),r!=null){let s=i.changedParentTypes;e.emit("stack-item-popped",[{stackItem:r,type:n,changedParentTypes:s},e])}return r},mT=class extends $9{constructor(e,{captureTimeout:t=500,captureTransaction:n=s=>!0,deleteFilter:r=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=ow(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=r,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=t,this.afterTransactionHandler=s=>{if(!this.captureTransaction(s)||!this.scope.some(m=>s.changedParentTypes.has(m))||!this.trackedOrigins.has(s.origin)&&(!s.origin||!this.trackedOrigins.has(s.origin.constructor)))return;let l=this.undoing,u=this.redoing,c=l?this.redoStack:this.undoStack;l?this.stopCapturing():u||this.clear(!1,!0);let d=new rp;s.afterState.forEach((m,v)=>{let g=s.beforeState.get(v)||0,y=m-g;y>0&&Dg(d,v,g,y)});let f=Y9(),h=!1;if(this.lastChange>0&&f-this.lastChange<this.captureTimeout&&c.length>0&&!l&&!u){let m=c[c.length-1];m.deletions=q3([m.deletions,s.deleteSet]),m.insertions=q3([m.insertions,d])}else c.push(new Lne(s.deleteSet,d)),h=!0;!l&&!u&&(this.lastChange=f),$l(s,s.deleteSet,m=>{m instanceof Wt&&this.scope.some(v=>np(v,m))&&DT(m,!0)});let p=[{stackItem:c[c.length-1],origin:s.origin,type:l?"redo":"undo",changedParentTypes:s.changedParentTypes},this];h?this.emit("stack-item-added",p):this.emit("stack-item-updated",p)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=ow(e)?e:[e],e.forEach(t=>{this.scope.every(n=>n!==t)&&(t.doc!==this.doc&&pne("[yjs#509] Not same Y.Doc"),this.scope.push(t))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,t=!0){(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(r=>L9(n,this,r)),this.undoStack=[]),t&&(this.redoStack.forEach(r=>L9(n,this,r)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=z9(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=z9(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}};function*zne(e){let t=et(e.restDecoder);for(let n=0;n<t;n++){let r=et(e.restDecoder),i=e.readClient(),o=et(e.restDecoder);for(let a=0;a<r;a++){let s=e.readInfo();if(s===10){let l=et(e.restDecoder);yield new pa(Ke(i,o),l),o+=l}else if((Sg&s)!==0){let l=(s&(_s|io))===0,u=new Wt(Ke(i,o),null,(s&io)===io?e.readLeftID():null,null,(s&_s)===_s?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&(s&Xh)===Xh?e.readString():null,jN(e,s));yield u,o+=u.length}else{let l=e.readLen();yield new ha(Ke(i,o),l),o+=l}}}}var gT=class{constructor(e,t){this.gen=zne(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===pa);return this.curr}};var vT=class{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}},Pne=e=>bw(e,vne,Og);var Hne=(e,t)=>{if(e.constructor===ha){let{client:n,clock:r}=e.id;return new ha(Ke(n,r+t),e.length-t)}else if(e.constructor===pa){let{client:n,clock:r}=e.id;return new pa(Ke(n,r+t),e.length-t)}else{let n=e,{client:r,clock:i}=n.id;return new Wt(Ke(r,i+t),null,Ke(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},bw=(e,t=tp,n=$d)=>{if(e.length===1)return e[0];let r=e.map(c=>new t(pc(c))),i=r.map(c=>new gT(c,!0)),o=null,a=new n,s=new vT(a);for(;i=i.filter(f=>f.curr!==null),i.sort((f,h)=>{if(f.curr.id.client===h.curr.id.client){let p=f.curr.id.clock-h.curr.id.clock;return p===0?f.curr.constructor===h.curr.constructor?0:f.curr.constructor===pa?1:-1:p}else return h.curr.id.client-f.curr.id.client}),i.length!==0;){let c=i[0],d=c.curr.id.client;if(o!==null){let f=c.curr,h=!1;for(;f!==null&&f.id.clock+f.length<=o.struct.id.clock+o.struct.length&&f.id.client>=o.struct.id.client;)f=c.next(),h=!0;if(f===null||f.id.client!==d||h&&f.id.clock>o.struct.id.clock+o.struct.length)continue;if(d!==o.struct.id.client)mc(s,o.struct,o.offset),o={struct:f,offset:0},c.next();else if(o.struct.id.clock+o.struct.length<f.id.clock)if(o.struct.constructor===pa)o.struct.length=f.id.clock+f.length-o.struct.id.clock;else{mc(s,o.struct,o.offset);let p=f.id.clock-o.struct.id.clock-o.struct.length;o={struct:new pa(Ke(d,o.struct.id.clock+o.struct.length),p),offset:0}}else{let p=o.struct.id.clock+o.struct.length-f.id.clock;p>0&&(o.struct.constructor===pa?o.struct.length-=p:f=Hne(f,p)),o.struct.mergeWith(f)||(mc(s,o.struct,o.offset),o={struct:f,offset:0},c.next())}}else o={struct:c.curr,offset:0},c.next();for(let f=c.curr;f!==null&&f.id.client===d&&f.id.clock===o.struct.id.clock+o.struct.length&&f.constructor!==pa;f=c.next())mc(s,o.struct,o.offset),o={struct:f,offset:0}}o!==null&&(mc(s,o.struct,o.offset),o=null),yT(s);let l=r.map(c=>hT(c)),u=q3(l);return ip(a,u),a.toUint8Array()},Vne=(e,t,n=tp,r=$d)=>{let i=uN(t),o=new r,a=new vT(o),s=new n(pc(e)),l=new gT(s,!1);for(;l.curr;){let c=l.curr,d=c.id.client,f=i.get(d)||0;if(l.curr.constructor===pa){l.next();continue}if(c.id.clock+c.length>f)for(mc(a,c,Va(f-c.id.clock,0)),l.next();l.curr&&l.curr.id.client===d;)mc(a,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===d&&l.curr.id.clock+l.curr.length<=f;)l.next()}yT(a);let u=hT(s);return ip(o,u),o.toUint8Array()};var yN=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:_o(e.encoder.restEncoder)}),e.encoder.restEncoder=Ud(),e.written=0)},mc=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&yN(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),ct(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},yT=e=>{yN(e);let t=e.encoder.restEncoder;ct(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){let r=e.clientStructs[n];ct(t,r.written),Ag(t,r.restEncoder)}},Une=(e,t,n,r)=>{let i=new n(pc(e)),o=new gT(i,!1),a=new r,s=new vT(a);for(let u=o.curr;u!==null;u=o.next())mc(s,t(u),0);yT(s);let l=hT(i);return ip(a,l),a.toUint8Array()};var jne=e=>Une(e,Wte,tp,Og),P9="You must not compute changes after the event-handler fired.",Ow=class{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=$ne(this.currentTarget,this.target))}deletes(e){return qd(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ul(P9);let e=new Map,t=this.target;this.transaction.changed.get(t).forEach(r=>{if(r!==null){let i=t._map.get(r),o,a;if(this.adds(i)){let s=i.left;for(;s!==null&&this.adds(s);)s=s.left;if(this.deletes(i))if(s!==null&&this.deletes(s))o="delete",a=iw(s.content.getContent());else return;else s!==null&&this.deletes(s)?(o="update",a=iw(s.content.getContent())):(o="add",a=void 0)}else if(this.deletes(i))o="delete",a=iw(i.content.getContent());else return;e.set(r,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ul(P9);let t=this.target,n=Hl(),r=Hl(),i=[];if(e={added:n,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){let a=null,s=()=>{a&&i.push(a)};for(let l=t._start;l!==null;l=l.right)l.deleted?this.deletes(l)&&!this.adds(l)&&((a===null||a.delete===void 0)&&(s(),a={delete:0}),a.delete+=l.length,r.add(l)):this.adds(l)?((a===null||a.insert===void 0)&&(s(),a={insert:[]}),a.insert=a.insert.concat(l.content.getContent()),n.add(l)):((a===null||a.retain===void 0)&&(s(),a={retain:0}),a.retain+=l.length);a!==null&&a.retain===void 0&&s()}this._changes=e}return e}},$ne=(e,t)=>{let n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,i=t._item.parent._start;for(;i!==t._item&&i!==null;)i.deleted||r++,i=i.right;n.unshift(r)}t=t._item.parent}return n},bN=80,bT=0,qne=class{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=bT++}},Kne=e=>{e.timestamp=bT++},wN=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=bT++},Yne=(e,t,n)=>{if(e.length>=bN){let r=e.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return wN(r,t,n),r}else{let r=new qne(t,n);return e.push(r),r}},Bw=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;let n=e._searchMarker.length===0?null:e._searchMarker.reduce((o,a)=>Eg(t-o.index)<Eg(t-a.index)?o:a),r=e._start,i=0;for(n!==null&&(r=n.p,i=n.index,Kne(n));r.right!==null&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&Eg(n.index-i)<r.parent.length/bN?(wN(n,r,i),n):Yne(e._searchMarker,r,i)},Mg=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){let i=e[r];if(n>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=Va(t,i.index+n))}};var _w=(e,t,n)=>{let r=e,i=t.changedParentTypes;for(;vc(i,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;fN(r._eH,n,t)},Ur=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=O9(),this._dEH=O9(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw Fo()}clone(){throw Fo()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){B9(this._eH,e)}observeDeep(e){B9(this._dEH,e)}unobserve(e){_9(this._eH,e)}unobserveDeep(e){_9(this._dEH,e)}toJSON(){}},xN=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t,i=[],o=e._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){let a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(let s=t;s<a.length&&r>0;s++)i.push(a[s]),r--;t=0}}o=o.right}return i},EN=e=>{let t=[],n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){let r=n.content.getContent();for(let i=0;i<r.length;i++)t.push(r[i])}n=n.right}return t},wT=(e,t)=>{let n=[],r=e._start;for(;r!==null;){if(r.countable&&jd(r,t)){let i=r.content.getContent();for(let o=0;o<i.length;o++)n.push(i[o])}r=r.right}return n},Rg=(e,t)=>{let n=0,r=e._start;for(;r!==null;){if(r.countable&&!r.deleted){let i=r.content.getContent();for(let o=0;o<i.length;o++)t(i[o],n++,e)}r=r.right}},SN=(e,t)=>{let n=[];return Rg(e,(r,i)=>{n.push(t(r,i,e))}),n},Wne=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}let i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},CN=(e,t)=>{let n=Bw(e,t),r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},ww=(e,t,n,r)=>{let i=n,o=e.doc,a=o.clientID,s=o.store,l=n===null?t._start:n.right,u=[],c=()=>{u.length>0&&(i=new Wt(Ke(a,Gn(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new Ew(u)),i.integrate(e,0),u=[])};r.forEach(d=>{if(d===null)u.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(d);break;default:switch(c(),d.constructor){case Uint8Array:case ArrayBuffer:i=new Wt(Ke(a,Gn(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new TT(new Uint8Array(d))),i.integrate(e,0);break;case ja:i=new Wt(Ke(a,Gn(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new kT(d)),i.integrate(e,0);break;default:if(d instanceof Ur)i=new Wt(Ke(a,Gn(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new Ns(d)),i.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),c()},AN=()=>Ul("Length exceeded!"),TN=(e,t,n,r)=>{if(n>t._length)throw AN();if(n===0)return t._searchMarker&&Mg(t._searchMarker,n,r.length),ww(e,t,null,r);let i=n,o=Bw(t,n),a=t._start;for(o!==null&&(a=o.p,n-=o.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&oo(e,Ke(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&Mg(t._searchMarker,i,r.length),ww(e,t,a,r)},Gne=(e,t,n)=>{let i=(t._searchMarker||[]).reduce((o,a)=>a.index>o.index?a:o,{index:0,p:t._start}).p;if(i)for(;i.right;)i=i.right;return ww(e,t,i,n)},kN=(e,t,n,r)=>{if(r===0)return;let i=n,o=r,a=Bw(t,n),s=t._start;for(a!==null&&(s=a.p,n-=a.index);s!==null&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&oo(e,Ke(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&s!==null;)s.deleted||(r<s.length&&oo(e,Ke(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw AN();t._searchMarker&&Mg(t._searchMarker,i,-o+r)},xw=(e,t,n)=>{let r=t._map.get(n);r!==void 0&&r.delete(e)},xT=(e,t,n,r)=>{let i=t._map.get(n)||null,o=e.doc,a=o.clientID,s;if(r==null)s=new Ew([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:s=new Ew([r]);break;case Uint8Array:s=new TT(r);break;case ja:s=new kT(r);break;default:if(r instanceof Ur)s=new Ns(r);else throw new Error("Unexpected content type")}new Wt(Ke(a,Gn(o.store,a)),i,i&&i.lastId,null,null,t,n,s).integrate(e,0)},ET=(e,t)=>{let n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},DN=e=>{let t={};return e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},MN=(e,t)=>{let n=e._map.get(t);return n!==void 0&&!n.deleted};var Qne=(e,t)=>{let n={};return e._map.forEach((r,i)=>{let o=r;for(;o!==null&&(!t.sv.has(o.id.client)||o.id.clock>=(t.sv.get(o.id.client)||0));)o=o.left;o!==null&&jd(o,t)&&(n[i]=o.content.getContent()[o.length-1])}),n},pw=e=>mne(e.entries(),t=>!t[1].deleted),Jne=class extends Ow{constructor(e,t){super(e,t),this._transaction=t}},RN=class yw extends Ur{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){let n=new yw;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new yw}clone(){let t=new yw;return t.insert(0,this.toArray().map(n=>n instanceof Ur?n.clone():n)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(t,n){super._callObserver(t,n),_w(this,t,new Jne(this,t))}insert(t,n){this.doc!==null?Yt(this.doc,r=>{TN(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?Yt(this.doc,n=>{Gne(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?Yt(this.doc,r=>{kN(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return CN(this,t)}toArray(){return EN(this)}slice(t=0,n=this.length){return xN(this,t,n)}toJSON(){return this.map(t=>t instanceof Ur?t.toJSON():t)}map(t){return SN(this,t)}forEach(t){Rg(this,t)}[Symbol.iterator](){return Wne(this)}_write(t){t.writeTypeRef(xre)}},Xne=e=>new RN,ST=class extends Ow{constructor(e,t,n){super(e,t),this.keysChanged=n}},$a=class W3 extends Ur{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new W3}clone(){let t=new W3;return this.forEach((n,r)=>{t.set(r,n instanceof Ur?n.clone():n)}),t}_callObserver(t,n){_w(this,t,new ST(this,t,n))}toJSON(){let t={};return this._map.forEach((n,r)=>{if(!n.deleted){let i=n.content.getContent()[n.length-1];t[r]=i instanceof Ur?i.toJSON():i}}),t}get size(){return[...pw(this._map)].length}keys(){return P3(pw(this._map),t=>t[0])}values(){return P3(pw(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return P3(pw(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Yt(this.doc,n=>{xw(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?Yt(this.doc,r=>{xT(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return ET(this,t)}has(t){return MN(this,t)}clear(){this.doc!==null?Yt(this.doc,t=>{this.forEach(function(n,r,i){xw(t,i,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(Ere)}},Zne=e=>new $a,gc=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&Yte(e,t),G3=class{constructor(e,t,n,r){this.left=e,this.right=t,this.index=n,this.currentAttributes=r}forward(){switch(this.right===null&&Ai(),this.right.content.constructor){case dr:this.right.deleted||ap(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}},H9=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case dr:t.right.deleted||ap(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&oo(e,Ke(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},mw=(e,t,n,r)=>{let i=new Map,o=r?Bw(t,n):null;if(o){let a=new G3(o.p.left,o.p,o.index,i);return H9(e,a,n-o.index)}else{let a=new G3(null,t._start,0,i);return H9(e,a,n)}},ON=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===dr&&gc(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();let i=e.doc,o=i.clientID;r.forEach((a,s)=>{let l=n.left,u=n.right,c=new Wt(Ke(o,Gn(i.store,o)),l,l&&l.lastId,u,u&&u.id,t,null,new dr(s,a));c.integrate(e,0),n.right=c,n.forward()})},ap=(e,t)=>{let{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},BN=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===dr&&gc(t[e.right.content.key]||null,e.right.content.value)))break;e.forward()}},_N=(e,t,n,r)=>{let i=e.doc,o=i.clientID,a=new Map;for(let s in r){let l=r[s],u=n.currentAttributes.get(s)||null;if(!gc(u,l)){a.set(s,u);let{left:c,right:d}=n;n.right=new Wt(Ke(o,Gn(i.store,o)),c,c&&c.lastId,d,d&&d.id,t,null,new dr(s,l)),n.right.integrate(e,0),n.forward()}}return a},H3=(e,t,n,r,i)=>{n.currentAttributes.forEach((f,h)=>{i[h]===void 0&&(i[h]=null)});let o=e.doc,a=o.clientID;BN(n,i);let s=_N(e,t,n,i),l=r.constructor===String?new ql(r):r instanceof Ur?new Ns(r):new Fg(r),{left:u,right:c,index:d}=n;t._searchMarker&&Mg(t._searchMarker,n.index,l.getLength()),c=new Wt(Ke(a,Gn(o.store,a)),u,u&&u.lastId,c,c&&c.id,t,null,l),c.integrate(e,0),n.right=c,n.index=d,n.forward(),ON(e,t,n,s)},V9=(e,t,n,r,i)=>{let o=e.doc,a=o.clientID;BN(n,i);let s=_N(e,t,n,i);e:for(;n.right!==null&&(r>0||s.size>0&&(n.right.deleted||n.right.content.constructor===dr));){if(!n.right.deleted)switch(n.right.content.constructor){case dr:{let{key:l,value:u}=n.right.content,c=i[l];if(c!==void 0){if(gc(c,u))s.delete(l);else{if(r===0)break e;s.set(l,u)}n.right.delete(e)}else n.currentAttributes.set(l,u);break}default:r<n.right.length&&oo(e,Ke(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new Wt(Ke(a,Gn(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new ql(l)),n.right.integrate(e,0),n.forward()}ON(e,t,n,s)},FN=(e,t,n,r,i)=>{let o=t,a=Ua();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===dr){let u=o.content;a.set(u.key,u)}o=o.right}let s=0,l=!1;for(;t!==o;){if(n===t&&(l=!0),!t.deleted){let u=t.content;switch(u.constructor){case dr:{let{key:c,value:d}=u,f=r.get(c)||null;(a.get(c)!==u||f===d)&&(t.delete(e),s++,!l&&(i.get(c)||null)===d&&f!==d&&(f===null?i.delete(c):i.set(c,f))),!l&&!t.deleted&&ap(i,u);break}}}t=t.right}return s},ere=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;let n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===dr){let r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},tre=e=>{let t=0;return Yt(e.doc,n=>{let r=e._start,i=e._start,o=Ua(),a=U3(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case dr:ap(a,i.content);break;default:t+=FN(n,r,i,o,a),o=U3(a),r=i;break}i=i.right}}),t},nre=e=>{let t=new Set,n=e.doc;for(let[r,i]of e.afterState.entries()){let o=e.beforeState.get(r)||0;i!==o&&gN(e,n.store.clients.get(r),o,i,a=>{!a.deleted&&a.content.constructor===dr&&a.constructor!==ha&&t.add(a.parent)})}Yt(n,r=>{$l(e,e.deleteSet,i=>{if(i instanceof ha||!i.parent._hasFormatting||t.has(i.parent))return;let o=i.parent;i.content.constructor===dr?t.add(o):ere(r,i)});for(let i of t)tre(i)})},U9=(e,t,n)=>{let r=n,i=U3(t.currentAttributes),o=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case Ns:case Fg:case ql:n<t.right.length&&oo(e,Ke(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}o&&FN(e,o,t.right,i,t.currentAttributes);let a=(t.left||t.right).parent;return a._searchMarker&&Mg(a._searchMarker,t.index,-r+n),t},rre=class extends Ow{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){let e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){let e=this.target.doc,t=[];Yt(e,n=>{let r=new Map,i=new Map,o=this.target._start,a=null,s={},l="",u=0,c=0,d=()=>{if(a!==null){let f=null;switch(a){case"delete":c>0&&(f={delete:c}),c=0;break;case"insert":(typeof l=="object"||l.length>0)&&(f={insert:l},r.size>0&&(f.attributes={},r.forEach((h,p)=>{h!==null&&(f.attributes[p]=h)}))),l="";break;case"retain":u>0&&(f={retain:u},$te(s)||(f.attributes=Ute({},s))),u=0;break}f&&t.push(f),a=null}};for(;o!==null;){switch(o.content.constructor){case Ns:case Fg:this.adds(o)?this.deletes(o)||(d(),a="insert",l=o.content.getContent()[0],d()):this.deletes(o)?(a!=="delete"&&(d(),a="delete"),c+=1):o.deleted||(a!=="retain"&&(d(),a="retain"),u+=1);break;case ql:this.adds(o)?this.deletes(o)||(a!=="insert"&&(d(),a="insert"),l+=o.content.str):this.deletes(o)?(a!=="delete"&&(d(),a="delete"),c+=o.length):o.deleted||(a!=="retain"&&(d(),a="retain"),u+=o.length);break;case dr:{let{key:f,value:h}=o.content;if(this.adds(o)){if(!this.deletes(o)){let p=r.get(f)||null;gc(p,h)?h!==null&&o.delete(n):(a==="retain"&&d(),gc(h,i.get(f)||null)?delete s[f]:s[f]=h)}}else if(this.deletes(o)){i.set(f,h);let p=r.get(f)||null;gc(p,h)||(a==="retain"&&d(),s[f]=p)}else if(!o.deleted){i.set(f,h);let p=s[f];p!==void 0&&(gc(p,h)?p!==null&&o.delete(n):(a==="retain"&&d(),h===null?delete s[f]:s[f]=h))}o.deleted||(a==="insert"&&d(),ap(r,o.content));break}}o=o.right}for(d();t.length>0;){let f=t[t.length-1];if(f.retain!==void 0&&f.attributes===void 0)t.pop();else break}}),this._delta=t}return this._delta}},yc=class Q3 extends Ur{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Q3}clone(){let t=new Q3;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);let r=new rre(this,t,n);_w(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===ql&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?Yt(this.doc,r=>{let i=new G3(null,this._start,0,new Map);for(let o=0;o<t.length;o++){let a=t[o];if(a.insert!==void 0){let s=!n&&typeof a.insert=="string"&&o===t.length-1&&i.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof s!="string"||s.length>0)&&H3(r,this,i,s,a.attributes||{})}else a.retain!==void 0?V9(r,this,i,a.retain,a.attributes||{}):a.delete!==void 0&&U9(r,i,a.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){let i=[],o=new Map,a=this.doc,s="",l=this._start;function u(){if(s.length>0){let d={},f=!1;o.forEach((p,m)=>{f=!0,d[m]=p});let h={insert:s};f&&(h.attributes=d),i.push(h),s=""}}let c=()=>{for(;l!==null;){if(jd(l,t)||n!==void 0&&jd(l,n))switch(l.content.constructor){case ql:{let d=o.get("ychange");t!==void 0&&!jd(l,t)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(u(),o.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!jd(l,n)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(u(),o.set("ychange",r?r("added",l.id):{type:"added"})):d!==void 0&&(u(),o.delete("ychange")),s+=l.content.str;break}case Ns:case Fg:{u();let d={insert:l.content.getContent()[0]};if(o.size>0){let f={};d.attributes=f,o.forEach((h,p)=>{f[p]=h})}i.push(d);break}case dr:jd(l,t)&&(u(),ap(o,l.content));break}l=l.right}u()};return t||n?Yt(a,d=>{t&&K3(d,t),n&&K3(d,n),c()},"cleanup"):c(),i}insert(t,n,r){if(n.length<=0)return;let i=this.doc;i!==null?Yt(i,o=>{let a=mw(o,this,t,!r);r||(r={},a.currentAttributes.forEach((s,l)=>{r[l]=s})),H3(o,this,a,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){let i=this.doc;i!==null?Yt(i,o=>{let a=mw(o,this,t,!r);H3(o,this,a,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(n===0)return;let r=this.doc;r!==null?Yt(r,i=>{U9(i,mw(i,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;let i=this.doc;i!==null?Yt(i,o=>{let a=mw(o,this,t,!1);a.right!==null&&V9(o,this,a,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?Yt(this.doc,n=>{xw(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?Yt(this.doc,r=>{xT(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return ET(this,t)}getAttributes(){return DN(this)}_write(t){t.writeTypeRef(Sre)}},ire=e=>new yc,V3=class{constructor(e,t=()=>!0){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(t)))do if(t=e.content.type,!e.deleted&&(t.constructor===ki||t.constructor===sp)&&t._start!==null)e=t._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}},sp=class J3 extends Ur{constructor(){super(),this._prelimContent=[]}get firstChild(){let t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new J3}clone(){let t=new J3;return t.insert(0,this.toArray().map(n=>n instanceof Ur?n.clone():n)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new V3(this,t)}querySelector(t){t=t.toUpperCase();let r=new V3(this,i=>i.nodeName&&i.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),Vl(new V3(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){_w(this,t,new sre(this,n,t))}toString(){return SN(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){let i=t.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),Rg(this,o=>{i.insertBefore(o.toDOM(t,n,r),null)}),i}insert(t,n){this.doc!==null?Yt(this.doc,r=>{TN(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)Yt(this.doc,r=>{let i=t&&t instanceof Ur?t._item:t;ww(r,this,i,n)});else{let r=this._prelimContent,i=t===null?0:r.findIndex(o=>o===t)+1;if(i===0&&t!==null)throw Ul("Reference item not found");r.splice(i,0,...n)}}delete(t,n=1){this.doc!==null?Yt(this.doc,r=>{kN(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return EN(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return CN(this,t)}slice(t=0,n=this.length){return xN(this,t,n)}forEach(t){Rg(this,t)}_write(t){t.writeTypeRef(Are)}},ore=e=>new sp,ki=class X3 extends sp{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){let t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){let t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new X3(this.nodeName)}clone(){let t=new X3(this.nodeName),n=this.getAttributes();return jte(n,(r,i)=>{typeof r=="string"&&t.setAttribute(i,r)}),t.insert(0,this.toArray().map(r=>r instanceof Ur?r.clone():r)),t}toString(){let t=this.getAttributes(),n=[],r=[];for(let s in t)r.push(s);r.sort();let i=r.length;for(let s=0;s<i;s++){let l=r[s];n.push(l+'="'+t[l]+'"')}let o=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${o}${a}>${super.toString()}</${o}>`}removeAttribute(t){this.doc!==null?Yt(this.doc,n=>{xw(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?Yt(this.doc,r=>{xT(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return ET(this,t)}hasAttribute(t){return MN(this,t)}getAttributes(t){return t?Qne(this,t):DN(this)}toDOM(t=document,n={},r){let i=t.createElement(this.nodeName),o=this.getAttributes();for(let a in o){let s=o[a];typeof s=="string"&&i.setAttribute(a,s)}return Rg(this,a=>{i.appendChild(a.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(Cre),t.writeKey(this.nodeName)}},are=e=>new ki(e.readKey()),sre=class extends Ow{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}},CT=class Z3 extends $a{constructor(t){super(),this.hookName=t}_copy(){return new Z3(this.hookName)}clone(){let t=new Z3(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){let i=n[this.hookName],o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(Tre),t.writeKey(this.hookName)}},lre=e=>new CT(e.readKey()),Di=class eT extends yc{get nextSibling(){let t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){let t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new eT}clone(){let t=new eT;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){let i=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(t=>{let n=[];for(let i in t.attributes){let o=[];for(let a in t.attributes[i])o.push({key:a,value:t.attributes[i][a]});o.sort((a,s)=>a.key<s.key?-1:1),n.push({nodeName:i,attrs:o})}n.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){let o=n[i];r+=`<${o.nodeName}`;for(let a=0;a<o.attrs.length;a++){let s=o.attrs[a];r+=` ${s.key}="${s.value}"`}r+=">"}r+=t.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(kre)}},ure=e=>new Di,AT=class{constructor(e,t){this.id=e,this.length=t}get deleted(){throw Fo()}mergeWith(e){return!1}write(e,t,n){throw Fo()}integrate(e,t){throw Fo()}},cre=0,ha=class extends AT{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),mN(e.doc.store,this)}write(e,t){e.writeInfo(cre),e.writeLen(this.length-t)}getMissing(e,t){return null}},TT=class IN{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new IN(this.content)}splice(t){throw Fo()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}},dre=e=>new TT(e.readBuf()),NN=class tT{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new tT(this.len)}splice(t){let n=new tT(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){Dg(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}},fre=e=>new NN(e.readLen()),LN=(e,t)=>new ja({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1}),kT=class zN{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;let n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new zN(LN(this.doc.guid,this.opts))}splice(t){throw Fo()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}},hre=e=>new kT(LN(e.readString(),e.readAny())),Fg=class PN{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new PN(this.embed)}splice(t){throw Fo()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}},pre=e=>new Fg(e.readJSON()),dr=class HN{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new HN(this.key,this.value)}splice(t){throw Fo()}mergeWith(t){return!1}integrate(t,n){let r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}},mre=e=>new dr(e.readKey(),e.readJSON()),gre=class nT{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new nT(this.arr)}splice(t){let n=new nT(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){let r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){let o=this.arr[i];t.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}},vre=e=>{let t=e.readLen(),n=[];for(let r=0;r<t;r++){let i=e.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new gre(n)},Ew=class rT{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new rT(this.arr)}splice(t){let n=new rT(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){let r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){let o=this.arr[i];t.writeAny(o)}}getRef(){return 8}},yre=e=>{let t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new Ew(n)},ql=class iT{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new iT(this.str)}splice(t){let n=new iT(this.str.slice(t));this.str=this.str.slice(0,t);let r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"\uFFFD",n.str="\uFFFD"+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}},bre=e=>new ql(e.readString()),wre=[Xne,Zne,ire,are,ore,lre,ure],xre=0,Ere=1,Sre=2,Cre=3,Are=4,Tre=5,kre=6,Ns=class VN{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new VN(this.type._copy())}splice(t){throw Fo()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}},Dre=e=>new Ns(wre[e.readTypeRef()](e)),oT=(e,t)=>{let n=t,r=0,i;do r>0&&(n=Ke(n.client,n.clock+r)),i=gw(e,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof Wt);return{item:i,diff:r}},DT=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},Sw=(e,t,n)=>{let{client:r,clock:i}=t.id,o=new Wt(Ke(r,i+n),t,Ke(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),t.redone!==null&&(o.redone=Ke(t.redone.client,t.redone.clock+n)),t.right=o,o.right!==null&&(o.right.left=o),e._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),t.length=n,o},j9=(e,t)=>w9(e,n=>qd(n.deletions,t)),UN=(e,t,n,r,i,o)=>{let a=e.doc,s=a.store,l=a.clientID,u=t.redone;if(u!==null)return oo(e,u);let c=t.parent._item,d=null,f;if(c!==null&&c.deleted===!0){if(c.redone===null&&(!n.has(c)||UN(e,c,n,r,i,o)===null))return null;for(;c.redone!==null;)c=oo(e,c.redone)}let h=c===null?t.parent:c.content.type;if(t.parentSub===null){for(d=t.left,f=t;d!==null;){let g=d;for(;g!==null&&g.parent._item!==c;)g=g.redone===null?null:oo(e,g.redone);if(g!==null&&g.parent._item===c){d=g;break}d=d.left}for(;f!==null;){let g=f;for(;g!==null&&g.parent._item!==c;)g=g.redone===null?null:oo(e,g.redone);if(g!==null&&g.parent._item===c){f=g;break}f=f.right}}else if(f=null,t.right&&!i){for(d=t;d!==null&&d.right!==null&&(d.right.redone||qd(r,d.right.id)||j9(o.undoStack,d.right.id)||j9(o.redoStack,d.right.id));)for(d=d.right;d.redone;)d=oo(e,d.redone);if(d&&d.right!==null)return null}else d=h._map.get(t.parentSub)||null;let p=Gn(s,l),m=Ke(l,p),v=new Wt(m,d,d&&d.lastId,f,f&&f.id,h,t.parentSub,t.content.copy());return t.redone=m,DT(v,!0),v.integrate(e,0),v},Wt=class aT extends AT{constructor(t,n,r,i,o,a,s,l){super(t,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=o,this.parent=a,this.parentSub=s,this.redone=null,this.content=l,this.info=this.content.isCountable()?_3:0}set marker(t){(this.info&rw)>0!==t&&(this.info^=rw)}get marker(){return(this.info&rw)>0}get keep(){return(this.info&B3)>0}set keep(t){this.keep!==t&&(this.info^=B3)}get countable(){return(this.info&_3)>0}get deleted(){return(this.info&nw)>0}set deleted(t){this.deleted!==t&&(this.info^=nw)}markDeleted(){this.info|=nw}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Gn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Gn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Zh&&this.id.client!==this.parent.client&&this.parent.clock>=Gn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=F9(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=oo(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===ha||this.right&&this.right.constructor===ha)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===aT&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===aT&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Zh){let r=gw(n,this.parent);r.constructor===ha?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=F9(t,t.doc.store,Ke(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;let o=new Set,a=new Set;for(;i!==null&&i!==this.right;){if(a.add(i),o.add(i),fw(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(fw(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&a.has(gw(t.doc.store,i.origin)))o.has(gw(t.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){let r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),mN(t.doc.store,this),this.content.integrate(t,this),N9(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new ha(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:Ke(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&fw(t.origin,this.lastId)&&this.right===t&&fw(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){let n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){let n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Dg(t.deleteSet,this.id.client,this.id.clock,this.length),N9(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw Ai();this.content.gc(t),n?_ne(t,this,new ha(this.id,this.length)):this.content=new NN(this.length)}write(t,n){let r=n>0?Ke(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,o=this.parentSub,a=this.content.getRef()&Sg|(r===null?0:io)|(i===null?0:_s)|(o===null?0:Xh);if(t.writeInfo(a),r!==null&&t.writeLeftID(r),i!==null&&t.writeRightID(i),r===null&&i===null){let s=this.parent;if(s._item!==void 0){let l=s._item;if(l===null){let u=op(s);t.writeParentInfo(!0),t.writeString(u)}else t.writeParentInfo(!1),t.writeLeftID(l.id)}else s.constructor===String?(t.writeParentInfo(!0),t.writeString(s)):s.constructor===Zh?(t.writeParentInfo(!1),t.writeLeftID(s)):Ai();o!==null&&t.writeString(o)}this.content.write(t,n)}},jN=(e,t)=>Mre[t&Sg](e),Mre=[()=>{Ai()},fre,vre,dre,bre,pre,mre,Dre,yre,hre,()=>{Ai()}],Rre=10,pa=class extends AT{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,t){Ai()}write(e,t){e.writeInfo(Rre),ct(e.restEncoder,this.length-t)}getMissing(e,t){return null}},$N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},qN="__ $YJS$ __";$N[qN]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");$N[qN]=!0;var Ore=globalThis,Bre="__ $YJS$ __";delete Ore[Bre];var ao=class KN{constructor(t,n,r){this.label=t,this.shapes=n,this.initialValue=r}concat(t){return t?new KN(t.label,{...this.shapes,...t.shapes}):this}create(){return this.initialValue??Object.fromEntries(Object.entries(this.shapes).map(([t,n])=>[t,n.create()]))}toY(t){let n=t||{},r=new $a;for(let i of It(this.shapes))r.set(i,this.shapes[i].toY(n[i]));return r}fromY(t){let n={};for(let r of It(this.shapes))n[r]=this.shapes[r].fromY(t?.get(r));return n}applyY(t,n,r){let i="getMap"in n?n.getMap(r):n.get(r);if(!i)return void n.set(r,this.toY(t));let o=t??{};for(let a of It(this.shapes))this.shapes[a].init(i,a),a in o&&this.shapes[a].applyY(o[a],i,a)}init(t,n){t.has(n)||t.set(n,this.toY(this.create()))}watch(t,n){return r=>{let i=n?t.get(n):t;return i.observe(r),()=>i.unobserve(r)}}mutator(t,n){return{set:(r,i)=>{let o=t.get(n),a=this.shapes[r];o.set(r,a.toY(i))}}}async applyLinks(t,n){let r=t||{},i=[];for(let[o,a]of le(this.shapes))i.push(a.applyLinks(r[o],n));await Promise.all(i)}toV1(t){let n=t||{},r={};for(let i of It(this.shapes)){let a=i.startsWith("_")?n[i.slice(1)]:n[i],s=n[i]??a;s!==void 0&&(r[i]=this.shapes[i].toV1(s))}return r}searchableText(t){let n="",r=t||{};for(let i of It(this.shapes))n+=this.shapes[i].searchableText(r[i]);return n}};b();var _re=/^[A-Za-z][A-Za-z0-9_]*$/;function bc(e){return _re.test(e)}var he;(e=>{function t(y){return rt(y).label}e.label=t;function n(y){return rt(y).contains??[]}e.contains=n;function r(y){return rt(y).insertOrder??"free"}e.insertOrder=r;function i(y){return!!rt(y).hidden}e.isHidden=i;function o(y){return rt(y).shape}e.shape=o;function a(y,w){return o(y).searchableText(w).trim()}e.searchableText=a;function s(y){return rt(y).allFields}function l(y){return rt(y).sections}e.sections=l;function u(y){return!!rt(y).contains}e.isContainer=u;function c(y,w){return rt(y).allFields[w]}e.field=c;function d(y){return!!(y&&n8(y))}e.isType=d;function f(y,w){let x={};for(let[S,E]of le(s(y)))He.options(E).shared&&(x[S]=w[S]);if(It(x).length!==0)return x}e.sharedData=f;function h(y){let w={};for(let[x,S]of le(s(y)))w[x]=He.initialValue(S);return w}e.initialValue=h;function p(y){return rt(y).preview}e.preview=p;let m=dc({view:cc.optional,summaryRow:cc.optional,summaryThumb:cc.optional});function v(y){m(rt(y));for(let[w,x]of le(s(y)))if(!bc(w))throw new Error(`Invalid field name "${w}" in Type "${t(y)}", must match [A-Za-z][A-Za-z0-9_]*`)}e.validate=v;function g(y){let{view:w,summaryRow:x,summaryThumb:S}=rt(y);return[w,x,S,...YN(rt(y).fields)].filter(E=>typeof E=="string")}e.referencedViews=g})(he||(he={}));function YN(e){return Fa(e).flatMap(t=>He.isField(t)?He.referencedViews(t):xn.isSection(t)?xn.referencedViews(t).concat(YN(xn.fields(t))):[])}function Fre(e){return le(e).flatMap(([t,n])=>He.isField(n)?[[t,n]]:xn.isSection(n)?le(xn.fields(n)):[])}function Tn(e,t){let n=[],r={},i=()=>{It(r).length>0&&n.push(Gh({definition:r})),r={}},o=[];if(typeof t.fields!="object")throw new Error("Type fields must be an object");for(let[l,u]of le(t.fields))if(He.isField(u))r[l]=u,o.push([l,u]);else if(xn.isSection(u)){i(),n.push(u);for(let[c,d]of le(xn.fields(u)))o.push([c,d])}i();let a=Rt(o),s={...a,[K1]:{...t,allFields:a,sections:n,shape:new ao(e,Rt(Fre(t.fields).map(([l,u])=>[l,He.shape(u)]))),label:e}};return he.validate(s),s}var MT=Tn("Media directory",{view:Je.MediaExplorer,icon:tw,contains:["MediaLibrary"],fields:{title:Ci("Title"),path:Ci("Path")}}),an=Tn("Media file",{view:Je.MediaFile,summaryRow:Je.FileSummaryRow,summaryThumb:Je.FileSummaryThumb,hidden:!0,fields:{title:cr("Title"),path:Ci("Path"),location:Ci("Location"),previewUrl:Ci("Preview URL"),extension:Ci("Extension"),size:Ci("File size"),hash:Ci("Hash"),width:Ci("Image width"),height:Ci("Image height"),preview:Ci("Preview"),averageColor:Ci("Average color"),focus:Ci("Focus"),thumbHash:Ci("Blur hash")}});b();b();var RT=new WeakMap,kn;(e=>{function t(a){return Fa(a).flatMap(s=>he.referencedViews(s))}e.referencedViews=t;function n(a){let s=i(a);for(let[l,u]of le(a))switch(l){case"Entry":throw new Error(`${l} is a reserved Type name`);default:{if(!bc(l))throw new Error(`Invalid Type name "${l}", use only a-z, A-Z, 0-9, and _`);let{contains:c}=rt(u);if(c){for(let d of c)if(typeof d=="string"){if(!a[d])throw new Error(`Type "${l}" contains "${d}", but that Type does not exist`)}else if(!s.has(d))throw new Error(`Type "${l}" contains "${he.label(d)}", but that Type does not exist`)}}}}e.validate=n;function r(a){return RT.has(a)||RT.set(a,Rt(le(a).map(([s,l])=>[s,he.shape(l)]))),RT.get(a)}e.shapes=r;function i(a){return new Map(le(a).map(([s,l])=>[l,s]))}e.typeNames=i;function o(a,s){let l=i(a);return s.map(u=>typeof u=="string"?u:l.get(u))}e.contained=o})(kn||(kn={}));function WN(e){return e.types??e}var Dn;(e=>{function t(d){return br(d).label}e.label=t;function n(d){return br(d).contains??[]}e.contains=n;function r(d){return br(d)}e.data=r;function i(d){return br(d).preview}e.preview=i;function o(d){return br(d).i18n?.locales[0]}e.defaultLocale=o;function a(d){return!!(d&&q1(d))}e.isRoot=a;function s(d){return!!br(d).isMediaRoot}e.isMediaRoot=s;let l=dc({label:cc,i18n:dc({locales:bg(cc)}).optional,view:cc.optional,isMediaRoot:f9.optional});function u(d,f,h){let{contains:p}=br(d),m=kn.typeNames(h);if(p){for(let v of p)if(typeof v=="string"){if(!h[v])throw new Error(`Root "${t(d)}" in workspace "${f}" contains "${v}", but that Type does not exist`)}else if(!m.has(v))throw new Error(`Root "${t(d)}" in workspace "${f}" contains "${he.label(v)}", but that Type does not exist`)}}e.validate=u;function c(d){let{view:f}=r(d);return typeof f=="string"?[f]:[]}e.referencedViews=c})(Dn||(Dn={}));function Fw(e,t={}){return{...t.children,[$1]:{...t,label:e}}}b();b();var GN=["#EA9280","#EB9091","#E58FB1","#E38EC3","#CF91D8","#AA99EC","#5EB0EF","#3DB9CF","#53B9AB","#5BB98C","#65BA75","#D09E72","#FA934E","#2EBDE5","#40C4AA","#94BA2C","#EBBC00","#EE9D2B","#B8A383"];function Iw(e){let t=0;for(let n=e.length-1;n>=0;n--){let r=e.charCodeAt(n),i=n%8;t^=(r<<i)+(r>>8-i)}return GN[t%GN.length]}var Gt;(e=>{function t(c){return $i(c)}e.data=t;function n(c){return $i(c).roots}e.roots=n;function r(c){return $i(c).label}e.label=r;function i(c){return $i(c).preview}e.preview=i;function o(c){return!!(c&&G1(c))}e.isWorkspace=o;function a(c){let{roots:d}=$i(c);for(let[f,h]of le(d))if(Dn.isMediaRoot(h))return f;throw new Error("Workspace has no media root")}e.defaultMediaRoot=a;function s(c){return Object.keys($i(c).roots)[0]}e.defaultRoot=s;function l(c,d){for(let[f,h]of le(c)){if(!bc(f))throw new Error(`Invalid Root name "${f}" in workspace "${r(c)}", use only a-z, A-Z, 0-9, and _`);Dn.validate(h,r(c),d)}}e.validate=l;function u(c){return Fa(n(c)).flatMap(Dn.referencedViews)}e.referencedViews=u})(Gt||(Gt={}));function QN(e,t){return{...t.roots,[W1]:{...t,label:e,color:t.color??Iw(JSON.stringify(e))}}}b();var Ire=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function OT(e){return Ire.exec(e).slice(1)}function Nre(e,t){let n=[];for(let r=0;r<e.length;r++){let i=e[r];!i||i==="."||(i===".."?n.length&&n[n.length-1]!==".."?n.pop():t&&n.push(".."):n.push(i))}return n}function Lre(e){return e.charAt(0)==="/"}function BT(e){e=e.replace(/\\/g,"/");let t=Lre(e),n=e&&e[e.length-1]==="/";return e=Nre(e.split("/"),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Kd(e){let t=OT(e),n=t[0],r=t[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)}function Yd(e,t){let n=OT(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function Pn(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];typeof r=="string"&&r&&(t?t+=`/${r}`:t+=r)}return BT(t)}function Nw(e){return OT(e)[3]}var Mn;(e=>{function t(f,h="production"){let p=typeof f.baseUrl=="object"?f.baseUrl[h]:f.baseUrl;return!p||p.includes("://")?p:`https://${p}`}e.baseUrl=t;function n(f){let h=Object.keys(f.workspaces)[0];return $i(f.workspaces[h])}e.mainWorkspace=n;function r(f,h){return f.schema[h]}e.type=r;function i(f,h,p){let m=Dn.contains(h);if(m.length===0)return!1;let v=wo(f),g=v.nameOf(p);for(let y of m)if(typeof y=="string"){if(y===g)return!0}else if(v.nameOf(y)===g)return!0;return!1}e.rootContains=i;function o(f,h,p){let m=he.contains(h);if(m.length===0)return!1;let v=wo(f),g=v.nameOf(p);for(let y of m)if(typeof y=="string"){if(y===g)return!0}else if(v.nameOf(y)===g)return!0;return!1}e.typeContains=o;function a(f){return!!f.auth}e.hasAuth=a;function s(f){return Object.keys(f.workspaces).length>1}e.multipleWorkspaces=s;function l(f){let h=n(f);return s(f)?Kd(h.source):h.source}e.contentDir=l;function u(f,h,p,m,...v){let g=s(f),y="";return g&&(y=Pn(y,h)),y=Pn(y,p),m&&(y=Pn(y,m.toLowerCase())),Pn(y,...v)}e.filePath=u;function c(f){kn.validate(f.schema);let h=le(f.workspaces),p;for(let[m,v]of h){if(!bc(m))throw new Error(`Invalid Workspace name "${m}", use only a-z, A-Z, 0-9, and _`);if(Gt.validate(v,f.schema),h.length>1){let g=$i(v).source,y=Kd(g),w=Yd(g);if(w!==m)throw new Error(`Workspace "${m}" source directory "${w}" must be named "${m}"`);if(p??=y,p!==y)throw new Error(`Workspaces "${m}" must be a directory of "${p}"`)}}}e.validate=c;function d(f){return kn.referencedViews(f.schema).concat(Fa(f.workspaces).flatMap(Gt.referencedViews))}e.referencedViews=d})(Mn||(Mn={}));var JN=new WeakSet;function zw(e){if(JN.has(e))return e;if(e.schema.MediaFile&&e.schema.MediaFile!==an)throw new Error('"MediaFile" is a reserved Type name');if(e.schema.MediaLibrary&&e.schema.MediaLibrary!==MT)throw new Error('"MediaLibrary" is a reserved Type name');let t={auth:a9,...e,publicDir:e.publicDir??"/public",schema:{...e.schema,MediaLibrary:MT,MediaFile:an}};return Mn.validate(t),JN.add(t),t}b();b();var r7=D($(),1);b();b();function Wd(e,t,n){return Math.min(Math.max(e,n),t)}var Ig=class extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}};function Pw(e){if(typeof e!="string")throw new Ig(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=jre.test(e)?(function(a){let s=a.toLowerCase().trim(),l=zre[(function(u){let c=5381,d=u.length;for(;d;)c=33*c^u.charCodeAt(--d);return(c>>>0)%2341})(s)];if(!l)throw new Ig(a);return`#${l}`})(e):e;let n=Pre.exec(t);if(n){let a=Array.from(n).slice(1);return[...a.slice(0,3).map(s=>parseInt(Ng(s,2),16)),parseInt(Ng(a[3]||"f",2),16)/255]}let r=Hre.exec(t);if(r){let a=Array.from(r).slice(1);return[...a.slice(0,3).map(s=>parseInt(s,16)),parseInt(a[3]||"ff",16)/255]}let i=Vre.exec(t);if(i){let a=Array.from(i).slice(1);return[...a.slice(0,3).map(s=>parseInt(s,10)),parseFloat(a[3]||"1")]}let o=Ure.exec(t);if(o){let[a,s,l,u]=Array.from(o).slice(1).map(parseFloat);if(Wd(0,100,s)!==s)throw new Ig(e);if(Wd(0,100,l)!==l)throw new Ig(e);return[...$re(a,s,l),u||1]}throw new Ig(e)}var XN=e=>parseInt(e.replace(/_/g,""),36),zre="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{let n=XN(t.substring(0,3)),r=XN(t.substring(3)).toString(16),i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]=`${i}${r}`,e},{}),Ng=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),Pre=new RegExp(`^#${Ng("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Hre=new RegExp(`^#${Ng("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Vre=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ng(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Ure=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,jre=/^[a-z]+$/i,ZN=e=>Math.round(255*e),$re=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(ZN);let i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),a=o*(1-Math.abs(i%2-1)),s=0,l=0,u=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,u=a):i>=3&&i<4?(l=a,u=o):i>=4&&i<5?(s=a,u=o):i>=5&&i<6&&(s=o,u=a);let c=r-o/2;return[s+c,l+c,u+c].map(ZN)};function e7(e){let[t,n,r,i]=Pw(e).map((u,c)=>c===3?u:u/255),o=Math.max(t,n,r),a=Math.min(t,n,r),s=(o+a)/2;if(o===a)return[0,0,s,i];let l=o-a;return[60*(t===o?(n-r)/l+(n<r?6:0):n===o?(r-t)/l+2:(t-n)/l+4),s>.5?l/(2-o-a):l/(o+a),s,i]}function t7(e){if(e==="transparent")return 0;function t(o){let a=o/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}let[n,r,i]=Pw(e);return .2126*t(n)+.7152*t(r)+.0722*t(i)}function _T(e,t,n,r){return`rgba(${Wd(0,255,e).toFixed()}, ${Wd(0,255,t).toFixed()}, ${Wd(0,255,n).toFixed()}, ${parseFloat(Wd(0,1,r).toFixed(3))})`}function lp(e,t){let[n,r,i,o]=Pw(e);return _T(n,r,i,o-t)}function n7(e){let[t,n,r,i]=Pw(e),o=a=>{let s=Wd(0,255,a).toString(16);return s.length===1?`0${s}`:s};return`#${o(t)}${o(n)}${o(r)}${i<1?o(Math.round(255*i)):""}`}function up(e){if(e)try{return t7(e)>.5?"#11181c":"white"}catch{return}}function cp(e){if(e)return(0,r7.useMemo)(()=>up(e),[e])}var i7=D(L(),1);function FT({color:e}){let t=cp(e),n=h8(`
    <svg
      width="36"
      height="36"
      view-box="0 0 36 36"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <linearGradient
          id="grad1"
          x1="0%"
          y1="0%"
          x2="100%"
          y2="0%"
          gradient-transform="rotate(65)"
        >
          <stop offset="0%" style="stop-color: ${e}; stop-opacity: 1" />
          <stop
            offset="100%"
            style="stop-color: ${e}; stop-opacity: 1"
          />
        </linearGradient>
      </defs>
      <path
        d="M18 36C25.884 36 29.9427 36 32.8047 33.138C35.6667 30.276 36 25.884 36 18C36 10.116 35.6667 6.05733 32.8047 3.19533C29.9427 0.333333 25.884 0 18 0C10.116 0 6.05733 0.333333 3.19533 3.19533C0.333333 6.05733 0 10.116 0 18C0 25.884 0.333333 29.9427 3.19533 32.8047C6.05733 35.6667 10.116 36 18 36Z"
        fill="url(#grad1)"
      />
      <path 
        fill="${t}" 
        d="M20.8178 10.3977V11.733C19.8978 10.6534 18.5316 10 16.6636 10C13.0112 10 10 13.267 10 17.5C10 21.733 13.0112 25 16.6636 25C18.5316 25 19.8978 24.3466 20.8178 23.267V24.6023H25V10.3977H20.8178ZM17.5 20.9659C15.5762 20.9659 14.1822 19.6307 14.1822 17.5C14.1822 15.3693 15.5762 14.0341 17.5 14.0341C19.4238 14.0341 20.8178 15.3693 20.8178 17.5C20.8178 19.6307 19.4238 20.9659 17.5 20.9659Z"
      />
      </svg>
  `);return(0,i7.jsx)("link",{rel:"icon",type:"image/svg",href:`data:image/svg+xml;base64,${n}`})}b();var IT=D(L(),1);function qa(e){return(0,IT.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,IT.jsx)("path",{fill:"currentColor",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})})}b();var NT=D(L(),1);function dp(e){return(0,NT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,NT.jsx)("path",{fill:"currentColor",d:"M14.59 2.59c-.38-.38-.89-.59-1.42-.59H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.82-4.83zM15 18H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm-2-6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"})})}b();var LT=D(L(),1);function o7(e){return(0,LT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,LT.jsx)("path",{fill:"currentColor",d:"M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6c0 .79-.15 1.56-.44 2.25c-.15.36-.04.77.23 1.04c.51.51 1.37.33 1.64-.34c.37-.91.57-1.91.57-2.95c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6c0-.79.15-1.56.44-2.25c.15-.36.04-.77-.23-1.04c-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79a.5.5 0 0 0-.85.36z"})})}b();var zT=D(L(),1);function PT(e){return(0,zT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,zT.jsx)("path",{fill:"currentColor",d:"M12 11q3.75 0 6.375-1.175T21 7q0-1.65-2.625-2.825T12 3Q8.25 3 5.625 4.175T3 7q0 1.65 2.625 2.825T12 11Zm0 2.5q1.025 0 2.563-.213t2.962-.687q1.425-.475 2.45-1.237T21 9.5V12q0 1.1-1.025 1.863t-2.45 1.237q-1.425.475-2.962.688T12 16q-1.025 0-2.563-.213T6.476 15.1q-1.425-.475-2.45-1.237T3 12V9.5q0 1.1 1.025 1.863t2.45 1.237q1.425.475 2.963.688T12 13.5Zm0 5q1.025 0 2.563-.213t2.962-.687q1.425-.475 2.45-1.238T21 14.5V17q0 1.1-1.025 1.863t-2.45 1.237q-1.425.475-2.962.688T12 21q-1.025 0-2.563-.213T6.476 20.1q-1.425-.475-2.45-1.238T3 17v-2.5q0 1.1 1.025 1.863t2.45 1.237q1.425.475 2.963.688T12 18.5Z"})})}b();b();var Io=D($(),1),s7=D(Ei(),1);b();var a7=D($(),1);function Hw(){let[,e]=(0,a7.useReducer)(t=>t+1,0);return e}var fp=D(L(),1);function wc(){let e=(0,Io.createContext)(void 0);function t({children:a}){let[s,l]=(0,Io.useState)([]);return(0,fp.jsx)(e.Provider,{value:[s,l],children:a})}function n(){let[a,s]=(0,Io.useContext)(e);return{shown:a.length>0}}function r(){let a=(0,Io.useRef)(null),[s,l]=(0,Io.useContext)(e),u=Hw();return(0,Io.useLayoutEffect)(()=>(l(c=>c.concat(a)),()=>l(c=>c.filter(d=>d!==a))),[]),(0,Io.useLayoutEffect)(u,[s]),a}function i({children:a}){let s=r();return s.current?(0,s7.createPortal)(a,s.current):null}function o(a){let[s]=(0,Io.useContext)(e);return(0,fp.jsx)(fp.Fragment,{children:s.map((l,u)=>(0,fp.jsx)("div",{ref:l,...a},u))})}return{Provider:t,Portal:o,Slot:i,useSlots:n}}var Wl=D(L(),1),qre={root:"alinea-Statusbar","root-slots":"alinea-Statusbar-slots",rootSlots:"alinea-Statusbar-slots",status:"alinea-Statusbar-status","is-interactive":"alinea-Statusbar-is-interactive",isInteractive:"alinea-Statusbar-is-interactive"},HT=j(qre),No;(e=>{({Provider:e.Provider,Portal:e.Portal,Slot:e.Slot}=wc());function t({children:r}){return(0,Wl.jsxs)("footer",{className:HT.root(),children:[r,(0,Wl.jsx)("div",{className:HT.root.slots(),children:(0,Wl.jsx)(e.Portal,{})})]})}e.Root=t;function n({children:r,icon:i,onClick:o}){return(0,Wl.jsx)("button",{type:"button",className:HT.status({interactive:!!o}),onClick:o,children:(0,Wl.jsxs)(K,{center:!0,gap:5,children:[(0,Wl.jsx)(te,{icon:i}),(0,Wl.jsx)("span",{children:r})]})})}e.Status=n})(No||(No={}));var fU=D($(),1);b();var u7=D($(),1);var c7=J(e=>{let t=e(da).db,n=J(),r=J(async i=>i(n)??t.sync(),(i,o)=>{let a=s=>{s instanceof en&&s.data.op==="index"&&o(n,s.data.sha),s instanceof en&&s.data.op==="entry"&&o(pp(s.data.id))};return t.events.addEventListener(en.type,a),()=>{t.events.removeEventListener(en.type,a)}});return r.onMount=i=>i(),{db:t,metaAtom:r}}),wt=J(e=>e(c7).db),hp=J(e=>e(e(c7).metaAtom)),l7=J(0),VT=J(e=>e(l7),(e,t)=>{let n=e(wt),r=i=>{if(i instanceof en&&i.data.op==="mutate"){let{data:o}=i;t(l7,a=>{let s=a;return o.status==="pending"?s++:s--,s>0?s:0})}};return n.events.addEventListener(en.type,r),()=>{n.events.removeEventListener(en.type,r)}});VT.onMount=e=>e();var pp=ii(e=>{let t=J(0);return J(n=>n(t),(n,r)=>{let i=n(t);r(t,i+1)})});function d7(e=30){let t=oe(wt);(0,u7.useEffect)(()=>{let n=()=>t.sync(),r=0;return r=setInterval(n,e*1e3),()=>{clearInterval(r)}},[e,t])}b();var f7=J(null),Vw=J(e=>e(f7),(e,t,n,r)=>{t(f7,n),r&&console.error(r)});b();b();function h7(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,a=[],s="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(a.push("wild"),s+="/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}var Uw={get location(){return globalThis?.location??{hash:""}}},Lg=J(Uw.location.hash,(e,t,n)=>{e(Lg)!==n&&(Uw.location.hash=n),t(Lg,n)});Lg.onMount=e=>{let t=()=>e(Uw.location.hash);return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)};var Lo=J(e=>{let n=e(Lg).slice(1)||"/";return new URL(n,Uw.location.href)},(e,t,n)=>{let r=`#${n}`;t(Lg,r)});function Kre(e,t){let n={};if(e.keys)for(let r=0;r<e.keys.length;r++)n[e.keys[r]]=t[r+1];return n}var Gl=ii(({route:e,loose:t})=>{let n,r=h7(e,t);return J(i=>{let o=i(Lo),a=r.pattern.exec(o.pathname);if(a===null)return;let s=Kre(r,a);if(n){let l=Fa(s),u=Fa(n);if(l.every((c,d)=>c===u[d]))return n}return n=s})},(e,t)=>e.route===t.route&&e.loose===t.loose);function Ka(){return oe(Lo)}function fr(){let e=it(Lo);return function(n){e(n)}}function zo(e){return typeof e=="string"?{href:`#${e}`}:{}}b();b();var xc={matchEntry:"/entry/*",matchEntryId:"/:action/:workspace/:root?/:id?",matchWorkspace:"/:action/:workspace",matchRoot:"/:action/:workspace/:root"};function p7(e){function t(a){let s=a?.workspace??e.workspace,l=a?.root??e.root,u="locale"in a?a.locale:e.locale,c=a.id??("id"in a?a.id:e.id),d=u?`${l}:${u}`:l;return!c&&!l?`/${s}`:c?`/${s}/${d}/${c}`:`/${s}/${d}`}function n({id:a,...s}){return r(s)}function r(a){return`/entry${t(a)}`}function i(a){return`${r(a)}?new`}function o(a){return`/draft${t(a)}`}return{root:n,entry:r,draft:o,create:i,...xc}}b();var Cr=Yh("@alinea/preferences",{scheme:void 0,workspace:void 0,size:16,language:void 0}),UT=J(e=>e(Cr).scheme,(e,t,n)=>{t(Cr,{...e(Cr),scheme:n})}),zg=J(null,(e,t)=>{let n=e(UT),i=(n===void 0?window.matchMedia("(prefers-color-scheme: light)").matches:n==="light")?"dark":"light";t(UT,i)}),Gd=J(e=>e(Cr).workspace,(e,t,n)=>{t(Cr,{...e(Cr),workspace:n})}),Pg=J(e=>e(Cr).size,(e,t,n)=>{t(Cr,{...e(Cr),size:n})}),Yre=J(e=>e(Cr).language,(e,t,n)=>{t(Cr,{...e(Cr),language:n})});var Wre=J(e=>{let t=e(oi),n=e(Gl({route:xc.matchWorkspace,loose:!0})),r=e(Gd),o=[(n??{}).workspace,r,It(t.workspaces)[0]];for(let a of o)if(a&&t.workspaces[a])return a;throw new Error("No workspace found")}),ma=J(e=>{let t=e(oi),n=e(Wre);return{name:n,...Gt.data(t.workspaces[n])}});function jT(e){return e.split(":")}var Gre=J(e=>{let t=e(ma),r=e(Gl({route:xc.matchRoot,loose:!0}))??{},o=[r.root?jT(r.root)[0]:void 0,It(t.roots)[0]];for(let a of o)if(a&&t.roots[a])return a;throw new Error("No root found")}),mp=J(e=>{let t=e(oi),n=e(ma),r=e(Gre);if(!n.roots[r])throw new Error("No root found");return{name:r,...Dn.data(t.workspaces[n.name][r])}}),m7=Yh("@alinea/locale",null),Qd=J(e=>{let t=e(ma),n=e(mp),r=e(oi),{i18n:i}=n;if(!i)return null;let a=e(Gl({route:xc.matchRoot,loose:!0}))??{},{root:s}=a;if(s){let u=jT(s)[1];if(u&&i.locales.includes(u))return u}let l=e(m7);return l&&i.locales.includes(l)?l:Dn.defaultLocale(r.workspaces[t.name][n.name])??null}),jw=J(e=>{let t=e(Gl({route:xc.matchEntryId})),[n,r]=jT(t?.root??""),i={...t,locale:r};return n&&(i.root=n),i||void 0}),$w=J(e=>{let{name:t}=e(ma),{name:n}=e(mp),r=e(Qd);return p7({workspace:t,root:n,locale:r})}),g7=()=>Bo(m7);b();var Ec=D($(),1);var gp=D(L(),1),$T=class{constructor(e){this.data=e}get component(){return this.data.component}},v7=class{constructor(e){this.data=e,this.matchers=this.data.routes.map(t=>({route:t,matcher:Gl({route:t.data.path})}))}matchers;matchingRoute=J(e=>{for(let{route:t,matcher:n}of this.matchers){let r=e(n);if(r)return{route:t,params:r}}});matchingRouteWithData=J(async e=>{let t=e(this.matchingRoute);if(!t)return;let{loader:n}=t.route.data,r=n?await e(n(t.params)):{};return{route:t.route,data:r,params:t.params}});currentRoute=J(void 0);prevLocation=J(void 0);blockers=J(new Set);expected;cancelled=J(!1);match=J((e,{setSelf:t})=>{let n=e(this.currentRoute),r=e(this.matchingRouteWithData);return this.expected=r.then(i=>(t(this.expected,i),i)),n??this.expected},(e,t,n,r)=>{if(e(this.cancelled)){t(this.cancelled,!1);return}let o=e(this.blockers);if(n!==this.expected)return;let a=e(Lo),s=e(this.prevLocation),l=()=>{for(let c of o)t(c,void 0);t(this.currentRoute,r),t(this.prevLocation,a)},u=()=>{t(this.cancelled,!0);for(let c of o)t(c,void 0);if(s){let c=s.pathname+s.search;t(Lo,c)}};if(o.size)for(let c of o)t(c,{nextRoute:r,confirm:l,cancel:u});else l()})},y7=(0,Ec.createContext)(void 0);function b7({children:e,router:t}){return(0,gp.jsx)(y7.Provider,{value:t,children:e})}function w7(){let e=(0,Ec.useContext)(y7);if(!e)throw new Error("No router context found");return e}function x7(e,t){let n=w7(),[r]=(0,Ec.useState)(()=>J(void 0)),i=it(n.blockers);(0,Ec.useEffect)(()=>{if(t)return i(a=>new Set(a).add(r)),window.onbeforeunload=()=>!0,()=>{window.onbeforeunload=null,i(a=>{let s=new Set(a);return s.delete(r),s})}},[e,t]);let o=oe(r);return{isBlocking:!!o,...o}}function Qre(){let e=w7();return oe(e.match)}function Jre(){let e=Qre();return e?(0,gp.jsx)(e.route.component,{...e.data}):null}function E7({fallback:e}){let t=Jre();return(0,gp.jsx)(gp.Fragment,{children:t??e??null})}b();b();b();var qT=D($(),1);var Hg=D(L(),1),Xre={root:"alinea-IconButton","is-active":"alinea-IconButton-is-active",isActive:"alinea-IconButton-is-active"},S7=j(Xre),Le=(0,qT.forwardRef)(function({icon:t,active:n,size:r,...i},o){return(0,Hg.jsx)("button",{type:"button",ref:o,...i,style:{...i.style,fontSize:r?Me(r):void 0},className:S7.root.mergeProps(i)({active:n}),children:(0,Hg.jsx)(t,{})})}),qw=(0,qT.forwardRef)(function({icon:t,active:n,...r},i){return(0,Hg.jsx)("a",{ref:i,...r,...zo(r.href),className:S7.root.mergeProps(r)({active:n}),children:(0,Hg.jsx)(t,{})})});b();var KT=D(L(),1);function so(e){return(0,KT.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,KT.jsx)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})})}var C7=D($(),1),A7=D(Ei(),1),Jd=D(L(),1),Zre={root:"alinea-Modal","is-open":"alinea-Modal-is-open",isOpen:"alinea-Modal-is-open","root-background":"alinea-Modal-background",rootBackground:"alinea-Modal-background","root-inner":"alinea-Modal-inner",rootInner:"alinea-Modal-inner","root-inner-close":"alinea-Modal-inner-close",rootInnerClose:"alinea-Modal-inner-close"},Kw=j(Zre),YT=null;function ga({children:e,...t}){let n=(0,C7.useRef)(null);if(!t.open)return null;let r=(0,Jd.jsxs)("div",{...t,ref:n,className:Kw.root({open:t.open}),children:[(0,Jd.jsx)("div",{className:Kw.root.background(),onClick:t.onClose}),(0,Jd.jsxs)("div",{className:Kw.root.inner.mergeProps(t)(),children:[e,(0,Jd.jsx)(Le,{className:Kw.root.inner.close(),size:18,icon:so,onClick:t.onClose})]})]});return YT?(0,A7.createPortal)(r,YT):r}function T7(){return(0,Jd.jsx)("div",{ref:e=>{YT=e}})}var Yw=D(L(),1);function k7(e){let t=e.fullPage!==!1;jI({fullPage:t,...e});let n=oe($I);return(0,Yw.jsxs)(NI,{client:n,children:[e.children,(0,Yw.jsx)(T7,{})]})}b();var vp=()=>oe(jw);b();var Hn=()=>oe(Qd);b();var Vt=()=>oe($w);b();var li=()=>oe(mp);b();var hr=()=>oe(ma);b();b();var WT=Array("draft","published","archived"),D7=["draft","archived"],W={id:new yt({type:"entryField",name:"id"}),status:new yt({type:"entryField",name:"status"}),title:new yt({type:"entryField",name:"title"}),type:new yt({type:"entryField",name:"type"}),seeded:new yt({type:"entryField",name:"seeded"}),workspace:new yt({type:"entryField",name:"workspace"}),root:new yt({type:"entryField",name:"root"}),level:new yt({type:"entryField",name:"level"}),filePath:new yt({type:"entryField",name:"filePath"}),parentDir:new yt({type:"entryField",name:"parentDir"}),childrenDir:new yt({type:"entryField",name:"childrenDir"}),index:new yt({type:"entryField",name:"index"}),parentId:new yt({type:"entryField",name:"parentId"}),parents:new yt({type:"entryField",name:"parents"}),locale:new yt({type:"entryField",name:"locale"}),rowHash:new yt({type:"entryField",name:"rowHash"}),active:new yt({type:"entryField",name:"active"}),main:new yt({type:"entryField",name:"main"}),path:new yt({type:"entryField",name:"path"}),fileHash:new yt({type:"entryField",name:"fileHash"}),url:new yt({type:"entryField",name:"url"}),data:new yt({type:"entryField",name:"data"}),searchableText:new yt({type:"entryField",name:"searchableText"})};var LV=D($(),1);b();b();var Ls="#root";function GT(e,t){let n=new ja({gc:!1});return t&&QT(n,e,t),n}function QT(e,t,n){let r=e.clientID;e.clientID=1,e.transact(()=>{let i=e.getMap(Ls);for(let[o,a]of le(t)){if(o==="path")continue;let s=n.data[o];i.set(o,He.shape(a).toY(s))}}),e.clientID=r}function M7(e,t){let n=t.getMap(Ls),r=he.shape(e).fromY(n);return{path:r.path,title:r.title,data:r}}b();var eie="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function R7(e){if(e.byteLength!==20)throw new Error("incorrect buffer size");let t=new Array(27).fill("0"),n=27,r=new Array(5);r[0]=e.getUint32(0,!1),r[1]=e.getUint32(4,!1),r[2]=e.getUint32(8,!1),r[3]=e.getUint32(12,!1),r[4]=e.getUint32(16,!1);let i=4294967296n,o=62n;for(;r.length!==0;){let a=[],s=0;for(let l of r){let u=BigInt(l)+BigInt(s)*i,c=u/o;s=Number(u%o),(a.length!==0||c!==0n)&&a.push(Number(c))}n--,t[n]=eie.charAt(s),r=a}return t.join("")}function tie(e,t){return t?4294967295-(Math.round(e/1e3)-14e8):Math.round(e/1e3)-14e8}function nie(){return _a.getRandomValues(new Uint8Array(16))}function rie(e=!1,t=Date.now()){let n=new ArrayBuffer(20),r=new DataView(n),i=tie(t,e),o=0;r.setUint32(o,i,!1),o+=4;let a=nie();for(let s of a)r.setUint8(o++,s);return e?`z${R7(r)}`:R7(r)}function Qt(){return rie()}b();function Sc(e,t){return Gt.data(e.workspaces[t])?.mediaDir??""}function Vg(e){let t=D7.find(n=>e.endsWith(`.${n}`));return t?[e.slice(0,-t.length-1),t]:[e,"published"]}function iie(e,t,n){let r=e.workspaces[t.workspace];if(!r)throw new Error(`Workspace "${t.workspace}" does not exist`);let i=Gt.roots(r)[t.root];if(!i)throw new Error(`Root "${t.root}" does not exist`);let o=br(i).i18n,{locale:a,path:s,status:l}=t;if(o&&!a)throw new Error("Entry is missing locale");if(!WT.includes(l))throw new Error(`Entry has unknown phase: ${l}`);return`/${(a?[a.toLowerCase()]:[]).concat(n.concat(s).map(u=>u===""?"index":u)).join("/")}`}function JT(e,t,n){let{status:r}=t;if(!WT.includes(r))throw new Error(`Entry has unknown phase: ${r}`);let i=r==="published"?"":`.${r}`;return`${iie(e,t,n)+i}.json`.toLowerCase()}function O7(e,t,n){let r=e.workspaces[t.workspace];if(!r)throw new Error(`Workspace "${t.workspace}" does not exist`);let{source:i}=Gt.data(r);if(!Gt.roots(r)[t.root])throw new Error(`Root "${t.root}" does not exist`);return Pn(i,t.root,JT(e,t,n))}function Ww(e,t){let{entryUrl:n}=rt(e);return n?n(t):`/${(t.locale?[t.locale.toLowerCase()]:[]).concat(t.parentPaths.concat(t.path).filter(i=>i!=="index"&&i!=="")).join("/")}`}function Ug(e,t){if(t.includes(e)){let n=0;for(;;)if(!t.includes(`${e}-${++n}`))return n}}b();b();var oie=new TextEncoder,aie=new TextDecoder,B7={extension:".json",parse(e,t){return JSON.parse(aie.decode(t))},format(e,t){return oie.encode(JSON.stringify(t,null,"  "))}};b();var va;(e=>{e.id="_id",e.type="_type",e.index="_index",e.root="_root",e.seeded="_seeded"})(va||(va={}));function _7(e){let{[va.id]:t,[va.type]:n,[va.index]:r,_i18nId:i,[va.root]:o,[va.seeded]:a,...s}=e;return{meta:{id:i??t,type:n,index:r,root:o,seeded:a},data:s,v0Id:typeof i=="string"?t:void 0}}function Ya(e,t){let{path:n=e.path,title:r=e.title,...i}=e.data,o=e.id,a={[va.id]:o,[va.type]:e.type,[va.index]:e.index};e.seeded&&(a[va.seeded]=e.seeded),e.parentId||(a[va.root]=e.root);let s={...a,title:r,path:n,...i};return t!=="draft"&&delete s.path,s}b();function sie(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("").slice(0,8)}async function jg(e){let t=await _a.subtle.digest("SHA-256",e);return sie(t)}async function F7(e){let n=new TextEncoder().encode(`entryId ${e.id}status ${e.status}title ${e.title}type ${e.type}seeded ${e.seeded}workspace ${e.workspace}root ${e.root}level ${e.level}filePath ${e.filePath}parentDir ${e.parentDir}childrenDir ${e.childrenDir}index ${e.index}parent ${e.parentId}locale ${e.locale}fileHash ${e.fileHash}active ${e.active}main ${e.main}path ${e.path}url ${e.url}`);return jg(n)}async function I7(e,t,n){let r=Ya(t,n),i=B7.format(e.schema,r),o=await jg(i),a=await F7({...t,fileHash:o}),s=e.schema[t.type],l=he.searchableText(s,t.data);return{...t,searchableText:l,fileHash:o,rowHash:a}}b();var Xd=D($(),1);b();var N7=new Map;function L7(e){return N7.get(He.ref(e))}var z7=new Map;function P7(e){return z7.get(He.ref(e))}var Wa;(e=>{function t(r,i){return N7.set(He.ref(r),i),r}e.options=t;function n(r,i){return z7.set(He.ref(r),i),r}e.value=n})(Wa||(Wa={}));var XT=D(L(),1),Gw=class{constructor(e,t,n="",r={}){this.type=e,this.container=t,this.path=n,this.options=r;let i=r.readOnly,o=i===!0?{readOnly:i}:{};t.doc.transact(()=>{for(let a of he.sections(e))for(let[s,l]of le(xn.fields(a))){let u=He.ref(l),c=He.shape(l),d={...He.options(l),...o},f=L7(l);c.init(t,s);let h=c.mutator(t,s),p=f?Wh(J(y=>{let w=f(this.getter(y));return w instanceof Promise?w.then(x=>({...d,...x,...o})):{...d,...w,...o}}),y=>y??d):J(d),m=P7(l),v=this.valueAtom(l,s,m),g=J(y=>{let{validate:w,required:x}=y(p);if(w){let S=w(y(v));return typeof S=="boolean"?!S:S}if(x){let S=y(v);if(S==null||typeof S=="string"&&S===""||Array.isArray(S)&&S.length===0)return!0}});this.fields.set(u,{key:s,field:l,value:v,mutator:h,error:g,options:p})}},"self")}fields=new Map;errorMap=J(new Map);errors=J(e=>e(this.errorMap),(e,t,n,r,i)=>{let o=e(this.errorMap);if(!i&&!o.has(n))return;let a=new Map(o);i?a.set(n,{field:r,error:i}):a.delete(n),t(this.errorMap,a),this.options.parent&&t(this.options.parent.errors,n,r,i)});hasErrors=J(e=>e(this.errorMap).size>0);data(){return he.shape(this.type).fromY(this.container)}getter=e=>t=>{let n=this.fieldInfo(t);if(!n)throw new Error(`Field not found: ${He.label(t)}`);return e(n.value)};valueAtom(e,t,n){let r=He.shape(e),i=J(0);return i.onMount=o=>{let a=()=>o(l=>l+1),s=r.watch(this.container,t);return a(),s(a)},J(o=>{o(i);let a=r.fromY(this.container.get(t)),s=n?n(this.getter(o)):a;return n&&s!==a&&r.applyY(s,this.container,t),s})}fieldByKey(e){for(let t of this.fields.values())if(t.key===e)return t.field;throw new Error(`Field not found: "${e}"`)}keyOf(e){return this.fieldInfo(e).key}fieldInfo(e){let t=this.fields.get(He.ref(e)),n=He.label(e);if(!t){if(this.options.parent)return this.options.parent.fieldInfo(e);throw new Error(`Field not found: ${n}`)}return t}},H7=(0,Xd.createContext)(void 0);function yp(e,t={}){return(0,Xd.useMemo)(()=>{let n=t.doc??new ja;return t.initialValue&&QT(n,e,{data:t.initialValue}),new Gw(e,n.getMap(Ls))},[e,t.doc])}function Cc(){let e=(0,Xd.useContext)(H7);if(!e)throw new Error("FormAtoms is not provided");return e}function Zd({children:e,form:t}){return(0,XT.jsx)(H7.Provider,{value:t,children:e})}function Ga({children:e,field:t,type:n,rowId:r,readOnly:i}){let o=Cc(),a=(0,Xd.useMemo)(()=>{let s=o.keyOf(t),l=o.container.get(s),u=r?l.get(r):l,c=`${o.path}.${s}${r?`[${r}]`:""}`;return new Gw(n,u,c,{readOnly:i,parent:o})},[o,r,i]);return(0,XT.jsx)(Zd,{form:a,children:e})}b();function V7(e,t={}){let n,r=J(t.initialValue);return Zo(J((i,{setSelf:o})=>{let a=i(e),s=i(r);return n=a.then(l=>((t.compare&&s!==void 0?t.compare(l,s):l===s)||o(n,l),l)),s??n},(i,o,a,s)=>{a===n&&o(r,s)}),{current:r})}b();b();var U7=async(e,t="deflate")=>{let n=new gC([e]),r=t?new pC(n.stream().pipeThrough(new fC(t))):n,i=new Uint8Array(await r.arrayBuffer()),{fromCharCode:o}=String,{length:a}=i,s="",l=2e3;for(let u=0;u<a;u+=l)s+=o(...i.subarray(u,u+l));return btoa(s)};function j7(e){let t=Ud();return fa(t,e.locale??""),fa(t,e.entryId),fa(t,e.contentHash),fa(t,e.status),si(t,e.update),U7(_o(t))}b();function $7(e,t){let n=J(void 0),r;return J((o,a)=>{let s=o(e),l=()=>a.setSelf(s);return clearTimeout(r),r=setTimeout(l,t),o(n)??s},(o,a,s)=>{a(n,s)})}b();b();function $g(e,t){let n=J(0);return n.onMount=r=>{let i=(o,a)=>{a.origin!=="self"&&r(s=>s+1)};return e.observeDeep(i),()=>e.unobserveDeep(i)},J(r=>(r(n),t()))}var lie=class{#e;#t;doc=new ja;sourceVector;sourceUpdate;root=this.doc.getMap(Ls);hasChanges=uie(this.root);resetChanges=J(null,(e,t)=>{this.applyEntryData(this.#t.data),t(this.hasChanges,!1)});yUpdate=$g(this.root,()=>this.getLocalUpdate());constructor(e,t){this.#e=e,this.#t=t,this.applyEntryData(t.data),this.sourceVector=dN(this.doc)}hasData(){return!this.root.keys().next().done}getLocalUpdate(){return lN(this.doc,this.sourceVector)}applyEntryData(e){let t=this.doc.clientID;this.doc.clientID=1,this.doc.transact(()=>{he.shape(this.#e).applyY(e,this.doc,Ls)},"self"),this.doc.clientID=t}getEntryData(e){return he.shape(e).fromY(this.root)}};function uie(e){let t=J(!1);return t.onMount=n=>{let r=(i,o)=>{o.origin!=="self"&&n(!0)};return e.observeDeep(r),()=>e.unobserveDeep(r)},t}var q7=ii(e=>J(t=>{let r=t(oi).schema[e.type];return new lie(r,e)}),(e,t)=>e.id===t.id&&e.locale===t.locale&&e.fileHash===t.fileHash&&e.data.path===t.data.path);var Po=(e=>(e[e.SaveDraft=0]="SaveDraft",e[e.SaveTranslation=1]="SaveTranslation",e[e.PublishEdits=2]="PublishEdits",e[e.RestoreRevision=3]="RestoreRevision",e[e.PublishDraft=4]="PublishDraft",e[e.UnpublishDraft=5]="UnpublishDraft",e[e.DiscardDraft=6]="DiscardDraft",e[e.ArchivePublished=7]="ArchivePublished",e[e.PublishArchived=8]="PublishArchived",e[e.DeleteFile=9]="DeleteFile",e[e.DeleteEntry=10]="DeleteEntry",e))(Po||{}),cie=ii(e=>J(void 0)),Y7=ii(({id:e,locale:t})=>J(async n=>{if(!e)return;n(pp(e));let r=n(oi),i=n(dg),o=n(wt),a=await o.first({select:W,id:e,locale:t,status:"preferDraft"});if(!a){let{searchParams:S}=n(Lo),E=S.get("from");a=await o.first({select:W,locale:E??void 0,id:e,status:"preferDraft"})}if(!a)return;let s=a.id,l=a.locale,u=!!(a.locale&&t!==a.locale),c=n(q7(u?{...a,data:{...a.data,path:void 0}}:a)),d=await o.find({select:{...W,parents:{edge:"parents",select:W.id}},locale:l,id:s,status:"all"}),f=await o.first({select:{parents:{edge:"parents",select:{id:W.id,path:W.path,status:W.status,main:W.main}}},id:s,locale:l,status:"preferDraft"}),h=await o.find({select:{locale:W.locale,entryId:W.id},id:s,filter:{_locale:{isNot:l}},status:"preferDraft"}),p=a.parentId&&await o.first({select:W.id,id:a.parentId,locale:t,status:"preferDraft"}),m=a.parentId?!p:!1,v=f?.parents??[],g=v.every(S=>S.status==="published"),y=!a.seeded;if(d.length===0)return;let w=Rt(d.map(S=>[S.status,S])),x=Array("draft","published","archived").filter(S=>w[S]!==void 0);return die({parents:v,canDelete:y,canPublish:g,translations:h,untranslated:u,parentNeedsTranslation:m,client:i,config:r,entryId:s,versions:d,statuses:w,availableStatuses:x,edits:c})}),(e,t)=>e.locale===t.locale&&e.id===t.id),K7=J(!1);function die(e){let{config:t,availableStatuses:n,edits:r}=e,i=n[0],o=e.statuses[i],a=t.schema[o.type],s=Rt(le(e.statuses).map(([re,ue])=>[re,GT(a,ue)])),l=r.doc,u=r.hasChanges,c=V7($g(r.doc.getMap(Ls),Q)),d=J("editing"),f=rt(a).view,h=J(void 0),p=J(re=>re(K7),(re,ue,Ae)=>{ue(K7,Ae),Ae||ue(h,void 0)}),m=cie(o.id),v=J(re=>{let{search:ue}=re(Lo),Ae=ue.slice(1);if(n.includes(Ae))return Ae}),g=J(re=>re(v)??i);function y(re,ue){return O7(t,re,ue??e.parents.map(Ae=>Ae.path))}let w=J(null,(re,ue,{transition:Ae,result:Xe,errorMessage:Dt,clearChanges:Mt=!1})=>{let An=Date.now();return ue(m,Ae),Xe.then(async()=>{Mt&&ue(u,!1)}).catch(_n=>{ue(Vw,Dt,_n)}).finally(()=>{let _n=Date.now()-An,Fn=Math.max(0,500-_n);setTimeout(()=>{ue(m,void 0)},Fn)})}),x=e.parents.at(-1),S=x?.status==="archived",E=x?.status==="draft"&&x.main,k=J(null,async(re,ue)=>{if(S||E)return ue(M);let Ae=re(wt),Xe=await Q({status:"published",path:o.path});return ue(w,{transition:0,result:Ae.create({type:a,id:Xe.id,locale:Xe.locale,status:"draft",set:Xe.data,overwrite:!0}),errorMessage:"Could not complete draft action, please try again later",clearChanges:!0})}),A=J(null,async(re,ue,Ae)=>{let Xe=re(wt),Dt=o.parentId,Mt=Dt?await Xe.get({select:{entryId:W.id,path:W.path,paths:{edge:"parents",select:W.path}},id:Dt,locale:Ae,status:"preferDraft"}):void 0;if(Dt&&!Mt)throw new Error("Parent not translated");let An=Mt?.paths?Mt.paths.concat(Mt.path):[],_n=await Q({id:o.id,status:"published",parent:Mt?.entryId,parentPaths:An,locale:Ae});return ue(w,{transition:1,result:Xe.create({type:a,id:_n.id,parentId:Dt,locale:Ae,status:t.enableDrafts?"draft":"published",set:_n.data}),errorMessage:"Could not complete translate action, please try again later",clearChanges:!0})}),T=J(re=>re(re(be).errors)),R=J(null,re=>{let ue=re(T);if(ue.size>0){let Ae="";for(let[Dt,{field:Mt,error:An}]of ue.entries()){let _n=He.label(Mt),Fn=typeof An=="string"?`${_n}: ${An}`:_n;Ae+=`
\u2014 ${Fn}`}let Xe=`These fields contains errors, are you sure you want to publish?${Ae}`;return confirm(Xe)}return!0}),M=J(null,async(re,ue)=>{if(!ue(R))return;let Ae=re(wt),Xe=await Q({status:"published"});return ue(w,{transition:2,result:Ae.create({type:a,id:Xe.id,locale:Xe.locale,status:"published",set:Xe.data,overwrite:!0}),errorMessage:"Could not complete publish action, please try again later",clearChanges:!0})}),O=J(null,async(re,ue)=>{let Ae=re(h);if(!Ae)return;let Xe=await re(H(Ae));if(!Xe)return;let Dt=re(wt),{edits:Mt}=e;Mt.applyEntryData(Xe);let An=await Q({status:"published",path:o.path});return ue(w,{transition:3,result:Dt.update({type:a,id:An.id,locale:An.locale,status:"published",set:An.data}),errorMessage:"Could not complete publish action, please try again later",clearChanges:!0})}),B=J(null,async(re,ue)=>{if(!ue(R))return;let Ae=re(wt);return ue(w,{transition:4,result:Ae.publish({id:o.id,locale:o.locale,status:"draft"}),errorMessage:"Could not complete publish action, please try again later"})}),_=J(null,async(re,ue)=>{let Ae=re(wt);return ue(w,{transition:6,result:Ae.discard({id:o.id,locale:o.locale,status:"draft"}),errorMessage:"Could not complete discard action, please try again later"})}),z=J(null,async(re,ue)=>{let Ae=re(wt);return ue(w,{transition:5,result:Ae.unpublish({id:o.id,locale:o.locale}),errorMessage:"Could not complete unpublish action, please try again later"})}),V=J(null,async(re,ue)=>{let Ae=re(wt);return ue(w,{transition:7,result:Ae.archive({id:o.id,locale:o.locale}),errorMessage:"Could not complete archive action, please try again later"})}),P=J(null,async(re,ue)=>{let Ae=re(wt);return ue(w,{transition:8,result:Ae.publish({id:o.id,locale:o.locale,status:"archived"}),errorMessage:"Could not complete publish action, please try again later"})}),F=J(null,async(re,ue)=>{if(!confirm("Are you sure you want to delete this folder and all its files?"))return;let Xe=re(wt);return ue(w,{transition:10,result:Xe.remove(o.id),errorMessage:"Could not complete delete action, please try again later"})}),U=J(null,async(re,ue)=>{if(!confirm("Are you sure you want to delete this file?"))return;let Xe=re(wt);return ue(w,{transition:9,result:Xe.remove(o.id),errorMessage:"Could not complete delete action, please try again later"})}),I=J(null,async(re,ue)=>{let Ae=re(wt);return ue(w,{transition:10,result:Ae.remove(o.id),errorMessage:"Could not complete delete action, please try again later"})});async function Q(re={}){let ue=M7(a,l),Ae=re.status??o.status,Xe=re.locale??o.locale,Dt=re.path??ue.path??o.path,Mt=re.id??o.id,An=re.parent??o.parentId,_n=re.parentPaths??e.parents.map(vr=>vr.path),Fn={...o,...ue,id:Mt,parent:An,locale:Xe,path:Dt,status:Ae},Fr=JT(t,Fn,_n),ml=Kd(Fr),gl=Nw(Fr),Tu=Yd(Fr,gl),[Wf]=Vg(Tu),Jm=Pn(ml,Wf),Zn=Ww(a,{locale:Xe,path:Dt,status:Ae,parentPaths:_n});return I7(t,{...Fn,parentDir:ml,childrenDir:Jm,filePath:Fr,url:Zn},Ae)}let N=J(async re=>{let ue=re(dg),Ae=y(o),Xe=await ue.revisions(Ae);return Xe.sort((Dt,Mt)=>Mt.createdAt-Dt.createdAt),Xe}),H=ii(re=>J(ue=>ue(dg).revisionData(re.file,re.ref)),(re,ue)=>re.file===ue.file&&re.ref===ue.ref),G=ii(re=>J(async ue=>{let Ae=await ue(H(re)),Xe=Ae?{...o,data:Ae}:o;return GT(a,Xe)}),(re,ue)=>re.file===ue.file&&re.ref===ue.ref),Y=J(re=>{let ue=re(g);return ue===i?r.doc:s[ue]}),ne=$g(r.root,()=>r.root.get("title")),ae=J(re=>{let ue=re(h);return ue?re(G(ue)):void 0}),ce=re=>re,Ee=J(re=>re(Wh(ae,ce))??re(Y)),be=J(re=>{let ue=re(Ee),Ae=ue!==r.doc;return new Gw(a,ue.getMap(Ls),"",{readOnly:Ae})}),Se=$7(r.yUpdate,250),pe=J(async re=>{let ue=await re(hp),Ae=re(Se),Xe=re(g);return j7({locale:o.locale,entryId:o.id,contentHash:ue,status:Xe,update:Ae})}),ye=r.resetChanges,Pe=he.preview(a)??Dn.preview(t.workspaces[o.workspace][o.root])??Gt.preview(t.workspaces[o.workspace])??t.preview,nt=J(async re=>re(dg).previewToken({url:o.url}));return{...e,transition:m,revisionId:Qt(),activeStatus:i,statusInUrl:v,selectedStatus:g,entryData:e,editMode:d,activeVersion:o,type:a,previewPayload:pe,activeTitle:ne,hasChanges:u,draftEntry:c,saveDraft:k,publishEdits:M,restoreRevision:O,publishDraft:B,discardDraft:_,unPublish:z,archive:V,publishArchived:P,deleteFile:U,deleteMediaLibrary:F,deleteEntry:I,saveTranslation:A,discardEdits:ye,showHistory:p,revisionsAtom:N,previewToken:nt,previewRevision:h,preview:Pe,form:be,view:f}}b();b();function zs(e,t){return typeof t!="string"?t:e[t]}b();var ZT=D(L(),1);function Qw(e){return(0,ZT.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,ZT.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm4 11h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1z"})})}var qg=Qw;b();var sn=()=>oe(oi);b();var Jw=D($(),1),e4=D(L(),1);function fie({name:e,children:t}){return(0,Jw.useEffect)(()=>{console.info(`SuspenseBoundary ${e} fallback triggered`)},[]),t}function Qa(e){return(0,e4.jsx)(Jw.Suspense,{...e,fallback:(0,e4.jsx)(fie,{name:e.name,children:e.fallback??null})})}b();b();var t4=class{constructor(e){this.types=e,this.definition=Rt(e.flatMap(le)),this.fields=Rt(e.flatMap(le).filter(([t,n])=>He.isField(n))),this.sections=e.flatMap(he.sections)}view=Je.TabsView;definition;fields;sections};function Xw(...e){return Gh(new t4(e))}var Kg=Tn;b();b();b();var W7=D($(),1);function Ut(e){let t=Cc(),n=typeof e=="string"?t.fieldByKey(e):e,r=G7(n),i=hie(n),o=pie(n),a=Ql(n),s=n4(n);return{fieldKey:r,label:a.label,options:a,value:i,mutator:o,error:s}}function G7(e){return Cc().keyOf(e)}function Ql(e){let n=Cc().fieldInfo(e);return oe(n.options)}function n4(e){let t=Cc(),n=t.fieldInfo(e),r=it(t.errors),i=G7(e),o=`${t.path}.${i}`,a=oe(n.error);return(0,W7.useEffect)(()=>(r(o,e,a),()=>r(o,e,void 0)),[r,o,e,a]),a}function hie(e){let n=Cc().fieldInfo(e);return oe(n.value)}function pie(e){return Cc().fieldInfo(e).mutator}b();b();var Zw={root:"alinea-Lift",header:"alinea-Lift-header"};b();var e2=D($(),1),Q7=D(L(),1),J7=(0,e2.createContext)({level:0}),r4=()=>(0,e2.useContext)(J7);function t2({children:e,type:t}){let{level:n}=r4();return(0,Q7.jsx)(J7.Provider,{value:{level:n+1,parent:t},children:e})}var i4=D(L(),1),mie=j(Zw);function Ja(e){return(0,i4.jsx)(t2,{type:"lift",children:(0,i4.jsx)("div",{...e,className:mie.root.mergeProps(e)()})})}b();b();var o4=D(L(),1);function bp(e){return(0,o4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,o4.jsx)("path",{fill:"currentColor",d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h5c.55 0 1-.45 1-1s-.45-1-1-1H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1v5c0 .55-.45 1-1 1zM14 4c0 .55.45 1 1 1h2.59l-9.13 9.13a.996.996 0 1 0 1.41 1.41L19 6.41V9c0 .55.45 1 1 1s1-.45 1-1V4c0-.55-.45-1-1-1h-5c-.55 0-1 .45-1 1z"})})}var s4=D($(),1),Ps=D($(),1);var Vn=D(L(),1),gie=(function(e){var t,n;function r(o){var a;return(a=e.call(this,o)||this).state={hasError:!1,error:null},a}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromError=function(o){return{hasError:!0,error:o}};var i=r.prototype;return i.componentDidCatch=function(o,a){return this.props.onDidCatch(o,a)},i.render=function(){var o=this.state,a=this.props,s=a.render,l=a.children,u=a.renderError;return o.hasError?u?u({error:o.error}):null:s?s():l||null},r})(Ps.PureComponent),vie=function(e,t){switch(t.type){case"catch":return{didCatch:!0,error:t.error};case"reset":return{didCatch:!1,error:null};default:return e}};function yie(e){var t=(0,Ps.useReducer)(vie,{didCatch:!1,error:null}),n=t[0],r=t[1],i=(0,Ps.useRef)(null);function o(){return l=function(u,c){r({type:"catch",error:u}),e&&e.onDidCatch&&e.onDidCatch(u,c)},function(u){return Ps.default.createElement(gie,{onDidCatch:l,children:u.children,render:u.render,renderError:u.renderError})};var l}var a,s=(0,Ps.useCallback)(function(){i.current=o(),r({type:"reset"})},[]);return{ErrorBoundary:(a=i.current,a!==null?a:(i.current=o(),i.current)),didCatch:n.didCatch,error:n.error,reset:s}}var bie=yie,wie={root:"alinea-ErrorBoundary","root-inner":"alinea-ErrorBoundary-inner",rootInner:"alinea-ErrorBoundary-inner","root-mesage":"alinea-ErrorBoundary-mesage",rootMesage:"alinea-ErrorBoundary-mesage"},a4=j(wie);function n2({children:e,dependencies:t}){let{ErrorBoundary:n,didCatch:r,error:i,reset:o}=bie(),a=Ka();return(0,s4.useEffect)(()=>{i&&o()},[a]),(0,s4.useEffect)(()=>{i&&o()},t||[]),(0,Vn.jsx)(Vn.Fragment,{children:r?(0,Vn.jsxs)(Vn.Fragment,{children:[(0,Vn.jsx)(Zi,{children:(0,Vn.jsx)("title",{children:"Error"})}),(0,Vn.jsx)("div",{className:a4.root(),children:(0,Vn.jsxs)(ut,{gap:16,className:a4.root.inner(),children:[(0,Vn.jsxs)(K,{gap:8,center:!0,children:[(0,Vn.jsx)(te,{icon:Zb,size:20}),(0,Vn.jsx)(At.H3,{flat:!0,children:"Oops, something went wrong"})]}),(0,Vn.jsx)("div",{className:a4.root.mesage(),children:i.message}),(0,Vn.jsxs)(K,{gap:16,center:!0,children:[(0,Vn.jsx)(nn,{onClick:o,icon:so,children:"Close error"}),(0,Vn.jsx)(At.Link,{href:"https://github.com/alineacms/alinea/issues",target:"_blank",children:(0,Vn.jsxs)(K,{gap:8,center:!0,children:[(0,Vn.jsx)("span",{children:"Create an issue"}),(0,Vn.jsx)(te,{icon:bp})]})})]})]})})]}):(0,Vn.jsx)(n,{children:e})})}var Ho=D(L(),1);function Qn(e){let{views:t}=ur(),n=e.type??e.form.type,r=(0,Ho.jsx)(ut,{gap:20,children:he.sections(n).map((i,o)=>{let a=xn.view(i),s=a?zs(t,a):void 0;return s?(0,Ho.jsx)(s,{section:i},o):(0,Ho.jsx)("div",{style:{display:"contents"},children:(0,Ho.jsx)(xie,{fields:xn.fields(i),border:e.border})},o)})});return e.form?(0,Ho.jsx)(Zd,{form:e.form,children:r}):r}function xie({fields:e,border:t=!0}){let n=le(e).map(([r,i])=>(0,Ho.jsx)(r2,{field:i},r));return n.length===0?null:t?(0,Ho.jsx)(Ja,{children:n}):(0,Ho.jsx)("div",{children:n})}function Eie({field:e}){return(0,Ho.jsx)(XI,{error:`Missing view for field: ${He.label(e)}`})}function r2({field:e}){let{views:t}=ur(),n=He.view(e),r=Ql(e),i=zs(t,n);return i?r.hidden?null:(0,Ho.jsx)(n2,{children:(0,Ho.jsx)(i,{field:e})}):(0,Ho.jsx)(Eie,{field:e})}b();b();var l4=D(L(),1);function X7(e){return(0,l4.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l4.jsx)("path",{fill:"currentColor",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2z"})})}b();var u4=D(L(),1);function Z7(e){return(0,u4.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,u4.jsx)("path",{fill:"currentColor",d:"M8.12 19.3c.39.39 1.02.39 1.41 0L12 16.83l2.47 2.47a.996.996 0 1 0 1.41-1.41l-3.17-3.17a.996.996 0 0 0-1.41 0l-3.17 3.17c-.4.38-.4 1.02-.01 1.41m7.76-14.6a.996.996 0 0 0-1.41 0L12 7.17L9.53 4.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.03 0 1.42l3.17 3.17c.39.39 1.02.39 1.41 0l3.17-3.17c.4-.39.4-1.03.01-1.42"})})}b();var c4=D(L(),1);function Ar(e){return(0,c4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,c4.jsx)("path",{fill:"currentColor",d:"m12 5.83l2.46 2.46a.996.996 0 1 0 1.41-1.41L12.7 3.7a.996.996 0 0 0-1.41 0L8.12 6.88a.996.996 0 1 0 1.41 1.41L12 5.83zm0 12.34l-2.46-2.46a.996.996 0 1 0-1.41 1.41l3.17 3.18c.39.39 1.02.39 1.41 0l3.17-3.17a.996.996 0 1 0-1.41-1.41L12 18.17z"})})}b();var d4=D(L(),1);function eL(e){return(0,d4.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",...e,children:(0,d4.jsx)("path",{fill:"currentColor",d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm-26.37 144h52.74C149 186.34 140 202.87 128 215.89c-12-13.02-21-29.55-26.37-47.89ZM98 152a145.72 145.72 0 0 1 0-48h60a145.72 145.72 0 0 1 0 48Zm-58-24a87.61 87.61 0 0 1 3.33-24h38.46a161.79 161.79 0 0 0 0 48H43.33A87.61 87.61 0 0 1 40 128Zm114.37-40h-52.74C107 69.66 116 53.13 128 40.11c12 13.02 21 29.55 26.37 47.89Zm19.84 16h38.46a88.15 88.15 0 0 1 0 48h-38.46a161.79 161.79 0 0 0 0-48Zm32.16-16h-35.43a142.39 142.39 0 0 0-20.26-45a88.37 88.37 0 0 1 55.69 45ZM105.32 43a142.39 142.39 0 0 0-20.26 45H49.63a88.37 88.37 0 0 1 55.69-45ZM49.63 168h35.43a142.39 142.39 0 0 0 20.26 45a88.37 88.37 0 0 1-55.69-45Zm101.05 45a142.39 142.39 0 0 0 20.26-45h35.43a88.37 88.37 0 0 1-55.69 45Z"})})}var i2=D($(),1);var Mi=D(L(),1),Sie={root:"alinea-InputLabel","root-inner":"alinea-InputLabel-inner",rootInner:"alinea-InputLabel-inner","is-readOnly":"alinea-InputLabel-is-readOnly",isReadOnly:"alinea-InputLabel-is-readOnly","root-inner-content":"alinea-InputLabel-inner-content",rootInnerContent:"alinea-InputLabel-inner-content",header:"alinea-InputLabel-header","header-title":"alinea-InputLabel-header-title",headerTitle:"alinea-InputLabel-header-title","header-help":"alinea-InputLabel-header-help",headerHelp:"alinea-InputLabel-header-help","is-error":"alinea-InputLabel-is-error",isError:"alinea-InputLabel-is-error","is-large":"alinea-InputLabel-is-large",isLarge:"alinea-InputLabel-is-large","is-focused":"alinea-InputLabel-is-focused",isFocused:"alinea-InputLabel-is-focused","is-nopadding":"alinea-InputLabel-is-nopadding",isNopadding:"alinea-InputLabel-is-nopadding"},ef=j(Sie),f4=(0,i2.memo)(function({label:t,help:n,size:r,focused:i,shared:o,readOnly:a,required:s,error:l,isFolded:u,toggleFold:c}){let d=typeof l=="string";return(0,Mi.jsx)("header",{className:ef.header(r,{focused:i,error:!!l,nopadding:!t}),children:(0,Mi.jsxs)(K,{center:!0,wrap:!0,gap:`${Me(4)} ${Me(8)}`,children:[(0,Mi.jsx)(K,{center:!0,gap:8,className:ef.header.title(),children:(0,Mi.jsxs)("span",{children:[t,s&&" *"]})}),a&&(0,Mi.jsx)(te,{title:"Read-only",icon:X7,style:{opacity:.6}}),o&&(0,Mi.jsx)(eo,{icon:eL,children:"Shared"}),d?(0,Mi.jsx)("div",{className:ef.header.help({error:!0}),children:l}):n&&(0,Mi.jsx)("div",{className:ef.header.help(),children:n}),u!==void 0&&(0,Mi.jsx)(Le,{disabled:!c,title:u?"Expand":"Fold",icon:u?Ar:Z7,size:14,onClick:c})]})})}),We=(0,i2.forwardRef)(function({children:t,label:n,asLabel:r,help:i,width:o=1,inline:a=!1,collection:s=!1,focused:l=!1,size:u,icon:c,empty:d,shared:f,readOnly:h,className:p,error:m,required:v,isFolded:g,toggleFold:y},w){return(0,Mi.jsx)(r?"label":"div",{className:ef.root.with(p)({collection:s,inline:a,focused:l,empty:d,readOnly:h}),style:{width:`${o*100}%`},ref:w,children:(0,Mi.jsxs)("div",{className:ef.root.inner(),children:[!a&&n&&(0,Mi.jsx)(f4,{label:n,help:i,required:v,size:u,focused:l,icon:c,shared:f,readOnly:h,error:m,isFolded:g,toggleFold:y}),(0,Mi.jsx)("div",{className:ef.root.inner.content(),children:t})]})})});b();var Ac=D(L(),1),Cie={root:"alinea-Sink",row:"alinea-Sink-row",header:"alinea-Sink-header",title:"alinea-Sink-title",content:"alinea-Sink-content",options:"alinea-Sink-options"},wp=j(Cie),xt;(e=>{function t(s){return(0,Ac.jsx)(t2,{type:"sink",children:(0,Ac.jsx)("div",{className:wp.root(),...s})})}e.Root=t;function n(s){return(0,Ac.jsx)("div",{...s,className:wp.row(j.merge(s))})}e.Row=n;function r(s){return(0,Ac.jsx)("div",{...s,className:wp.content(j.merge(s))})}e.Content=r;function i(s){return(0,Ac.jsx)("div",{...s,className:wp.options(j.merge(s))})}e.Options=i;function o(s){return(0,Ac.jsx)("header",{...s,className:wp.header(j.merge(s))})}e.Header=o;function a(s){return(0,Ac.jsx)("p",{...s,className:wp.title(j.merge(s))})}e.Title=a})(xt||(xt={}));b();b();b();var Jl=D($(),1),rL=D($(),1),l2=D($(),1),c2=D($(),1),v4=D($(),1),aL=D($(),1),Wg=D($(),1),kc=D($(),1),d2=D($(),1),f2=D($(),1),fL=D($(),1),hL=D($(),1),h2=D($(),1),pr=D($(),1),Rn=D($(),1),p2=D($(),1),gL=D($(),1),a2=!1,h4=0;function g4(){a2=!0,setTimeout(()=>{a2=!1},50)}function tL(e){e.pointerType==="touch"&&g4()}function Aie(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",tL):document.addEventListener("touchend",g4),h4++,()=>{h4--,!(h4>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",tL):document.removeEventListener("touchend",g4))}}function Hs(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,a]=(0,Jl.useState)(!1),s=(0,Jl.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,Jl.useEffect)(Aie,[]);let{hoverProps:l,triggerHoverEnd:u}=(0,Jl.useMemo)(()=>{let c=(h,p)=>{if(s.pointerType=p,i||p==="touch"||s.isHovered||!h.currentTarget.contains(h.target))return;s.isHovered=!0;let m=h.currentTarget;s.target=m,t&&t({type:"hoverstart",target:m,pointerType:p}),n&&n(!0),a(!0)},d=(h,p)=>{if(s.pointerType="",s.target=null,p==="touch"||!s.isHovered)return;s.isHovered=!1;let m=h.currentTarget;r&&r({type:"hoverend",target:m,pointerType:p}),n&&n(!1),a(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=h=>{a2&&h.pointerType==="mouse"||c(h,h.pointerType)},f.onPointerLeave=h=>{!i&&h.currentTarget.contains(h.target)&&d(h,h.pointerType)}):(f.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=h=>{!s.ignoreEmulatedMouseEvents&&!a2&&c(h,"mouse"),s.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=h=>{!i&&h.currentTarget.contains(h.target)&&d(h,"mouse")}),{hoverProps:f,triggerHoverEnd:d}},[t,n,r,i,s]);return(0,Jl.useEffect)(()=>{i&&u({currentTarget:s.target},s.pointerType)},[i]),{hoverProps:l,isHovered:o}}var iL=typeof document<"u"?rL.default.useLayoutEffect:()=>{};function Tie(e){let t=(0,l2.useRef)(null);return iL(()=>{t.current=e},[e]),(0,l2.useCallback)((...n)=>{let r=t.current;return r?.(...n)},[])}var Gg=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},tf=e=>e&&"window"in e&&e.window===e?e:Gg(e).defaultView||window;function u2(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function x4(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Xl(e){let t=null;return()=>(t==null&&(t=e()),t)}var E4=Xl(function(){return x4(/^Mac/i)}),kie=Xl(function(){return x4(/^iPhone/i)}),Die=Xl(function(){return x4(/^iPad/i)||E4()&&navigator.maxTouchPoints>1}),Mie=Xl(function(){return kie()||Die()}),i8e=Xl(function(){return E4()||Mie()}),o8e=Xl(function(){return u2(/AppleWebKit/i)&&!Rie()}),Rie=Xl(function(){return u2(/Chrome/i)}),Oie=Xl(function(){return u2(/Android/i)}),a8e=Xl(function(){return u2(/Firefox/i)});function Bie(e){return e.mozInputSource===0&&e.isTrusted?!0:Oie()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var _ie=class{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}};function oL(e){let t=(0,c2.useRef)({isFocused:!1,observer:null});iL(()=>{let r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Tie(r=>{e?.(r)});return(0,c2.useCallback)(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=a=>{t.current.isFocused=!1,i.disabled&&n(new _ie("blur",a)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let s=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Fie(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e,o=(0,v4.useCallback)(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),a=oL(o),s=(0,v4.useCallback)(l=>{let u=Gg(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),i&&i(!0),a(l))},[i,n,a]);return{focusProps:{onFocus:!t&&(n||i||r)?s:void 0,onBlur:!t&&(r||i)?o:void 0}}}var Qg=null,y4=new Set,Yg=new Map,nf=!1,b4=!1,Iie={Tab:!0,Escape:!0};function S4(e,t){for(let n of y4)n(e,t)}function Nie(e){return!(e.metaKey||!E4()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function s2(e){nf=!0,Nie(e)&&(Qg="keyboard",S4("keyboard",e))}function ya(e){Qg="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(nf=!0,S4("pointer",e))}function sL(e){Bie(e)&&(nf=!0,Qg="virtual")}function lL(e){e.target===window||e.target===document||(!nf&&!b4&&(Qg="virtual",S4("virtual",e)),nf=!1,b4=!1)}function uL(){nf=!1,b4=!0}function w4(e){if(typeof window>"u"||Yg.get(tf(e)))return;let t=tf(e),n=Gg(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){nf=!0,r.apply(this,arguments)},n.addEventListener("keydown",s2,!0),n.addEventListener("keyup",s2,!0),n.addEventListener("click",sL,!0),t.addEventListener("focus",lL,!0),t.addEventListener("blur",uL,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",ya,!0),n.addEventListener("pointermove",ya,!0),n.addEventListener("pointerup",ya,!0)):(n.addEventListener("mousedown",ya,!0),n.addEventListener("mousemove",ya,!0),n.addEventListener("mouseup",ya,!0)),t.addEventListener("beforeunload",()=>{cL(e)},{once:!0}),Yg.set(t,{focus:r})}var cL=(e,t)=>{let n=tf(e),r=Gg(e);t&&r.removeEventListener("DOMContentLoaded",t),Yg.has(n)&&(n.HTMLElement.prototype.focus=Yg.get(n).focus,r.removeEventListener("keydown",s2,!0),r.removeEventListener("keyup",s2,!0),r.removeEventListener("click",sL,!0),n.removeEventListener("focus",lL,!0),n.removeEventListener("blur",uL,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",ya,!0),r.removeEventListener("pointermove",ya,!0),r.removeEventListener("pointerup",ya,!0)):(r.removeEventListener("mousedown",ya,!0),r.removeEventListener("mousemove",ya,!0),r.removeEventListener("mouseup",ya,!0)),Yg.delete(n))};function Lie(e){let t=Gg(e),n;return t.readyState!=="loading"?w4(e):(n=()=>{w4(e)},t.addEventListener("DOMContentLoaded",n)),()=>cL(e,n)}typeof document<"u"&&Lie();function dL(){return Qg!=="pointer"}var zie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Pie(e,t,n){var r;let i=typeof window<"u"?tf(n?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?tf(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?tf(n?.target).HTMLElement:HTMLElement,s=typeof window<"u"?tf(n?.target).KeyboardEvent:KeyboardEvent;return e=e||n?.target instanceof i&&!zie.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||n?.target instanceof o||n?.target instanceof a&&n?.target.isContentEditable,!(e&&t==="keyboard"&&n instanceof s&&!Iie[n.key])}function Hie(e,t,n){w4(),(0,aL.useEffect)(()=>{let r=(i,o)=>{Pie(!!n?.isTextInput,i,o)&&e(dL())};return y4.add(r),()=>{y4.delete(r)}},t)}function Vie(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=(0,Wg.useRef)({isFocusWithin:!1}),a=(0,Wg.useCallback)(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,o]),s=oL(a),l=(0,Wg.useCallback)(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),o.current.isFocusWithin=!0,s(u))},[r,i,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:a}}}function Xa(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=(0,kc.useRef)({isFocused:!1,isFocusVisible:t||dL()}),[o,a]=(0,kc.useState)(!1),[s,l]=(0,kc.useState)(()=>i.current.isFocused&&i.current.isFocusVisible),u=(0,kc.useCallback)(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),c=(0,kc.useCallback)(h=>{i.current.isFocused=h,a(h),u()},[u]);Hie(h=>{i.current.isFocusVisible=h,u()},[],{isTextInput:n});let{focusProps:d}=Fie({isDisabled:r,onFocusChange:c}),{focusWithinProps:f}=Vie({isDisabled:!r,onFocusWithinChange:c});return{isFocused:o,isFocusVisible:s,focusProps:r?f:d}}var Uie=Object.defineProperty,jie=(e,t,n)=>t in e?Uie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p4=(e,t,n)=>(jie(e,typeof t!="symbol"?t+"":t,n),n),$ie=class{constructor(){p4(this,"current",this.detect()),p4(this,"handoffState","pending"),p4(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Dc=new $ie;function jr(e){return Dc.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Jg(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ui(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Jg(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=ui();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Vo(){let[e]=(0,d2.useState)(ui);return(0,d2.useEffect)(()=>()=>e.dispose(),[e]),e}var ht=(e,t)=>{Dc.isServer?(0,f2.useEffect)(e,t):(0,f2.useLayoutEffect)(e,t)};function $r(e){let t=(0,fL.useRef)(e);return ht(()=>{t.current=e},[e]),t}var se=function(e){let t=$r(e);return hL.default.useCallback((...n)=>t.current(...n),[t])};function qie(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Kie(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Vs({disabled:e=!1}={}){let t=(0,h2.useRef)(null),[n,r]=(0,h2.useState)(!1),i=Vo(),o=se(()=>{t.current=null,r(!1),i.dispose()}),a=se(s=>{if(i.dispose(),t.current===null){t.current=s.currentTarget,r(!0);{let l=jr(s.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",u=>{if(t.current){let c=qie(u);r(Kie(c,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:o,onClick:o}}}function jt(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,jt),r}function nL(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Ri=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ri||{}),Yie=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Yie||{});function ot(){let e=Gie();return(0,pr.useCallback)(t=>Wie({mergeRefs:e,...t}),[e])}function Wie({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:a,mergeRefs:s}){s=s??Qie;let l=pL(t,e);if(o)return o2(l,n,r,a,s);let u=i??0;if(u&2){let{static:c=!1,...d}=l;if(c)return o2(d,n,r,a,s)}if(u&1){let{unmount:c=!0,...d}=l;return jt(c?0:1,{0(){return null},1(){return o2({...d,hidden:!0,style:{display:"none"}},n,r,a,s)}})}return o2(l,n,r,a,s)}function o2(e,t={},n,r,i){let{as:o=n,children:a,refName:s="ref",...l}=m4(e,["unmount","static"]),u=e.ref!==void 0?{[s]:e.ref}:{},c=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(t){let f=!1,h=[];for(let[p,m]of Object.entries(t))typeof m=="boolean"&&(f=!0),m===!0&&h.push(p.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(f){d["data-headlessui-state"]=h.join(" ");for(let p of h)d[`data-${p}`]=""}}if(o===pr.Fragment&&(Object.keys(Tc(l)).length>0||Object.keys(Tc(d)).length>0))if(!(0,pr.isValidElement)(c)||Array.isArray(c)&&c.length>1){if(Object.keys(Tc(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Tc(l)).concat(Object.keys(Tc(d))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=c.props,h=f?.className,p=typeof h=="function"?(...g)=>nL(h(...g),l.className):nL(h,l.className),m=p?{className:p}:{},v=pL(c.props,Tc(m4(l,["ref"])));for(let g in d)g in v&&delete d[g];return(0,pr.cloneElement)(c,Object.assign({},v,d,u,{ref:i(Jie(c),u.ref)},m))}return(0,pr.createElement)(o,Object.assign({},m4(l,["ref"]),o!==pr.Fragment&&u,o!==pr.Fragment&&d),c)}function Gie(){let e=(0,pr.useRef)([]),t=(0,pr.useCallback)(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Qie(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function pL(...e){var t;if(e.length===0)return{};if(e.length===1)return e[0];let n={},r={};for(let i of e)for(let o in i)o.startsWith("on")&&typeof i[o]=="function"?((t=r[o])!=null||(r[o]=[]),r[o].push(i[o])):n[o]=i[o];if(n.disabled||n["aria-disabled"])for(let i in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(r[i]=[o=>{var a;return(a=o?.preventDefault)==null?void 0:a.call(o)}]);for(let i in r)Object.assign(n,{[i](o,...a){let s=r[i];for(let l of s){if((o instanceof Event||o?.nativeEvent instanceof Event)&&o.defaultPrevented)return;l(o,...a)}}});return n}function Oi(...e){var t;if(e.length===0)return{};if(e.length===1)return e[0];let n={},r={};for(let i of e)for(let o in i)o.startsWith("on")&&typeof i[o]=="function"?((t=r[o])!=null||(r[o]=[]),r[o].push(i[o])):n[o]=i[o];for(let i in r)Object.assign(n,{[i](...o){let a=r[i];for(let s of a)s?.(...o)}});return n}function at(e){var t;return Object.assign((0,pr.forwardRef)(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Tc(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function m4(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Jie(e){return pr.default.version.split(".")[0]>="19"?e.props.ref:e.ref}var mL=Symbol();function m2(e,t=!0){return Object.assign(e,{[mL]:t})}function Et(...e){let t=(0,p2.useRef)(e);(0,p2.useEffect)(()=>{t.current=e},[e]);let n=se(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||r?.[mL])?void 0:n}var Te=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Te||{});function Us(e,t){return(0,gL.useMemo)(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}var C4=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Xie=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Jt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Jt||{}),js=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(js||{}),Zie=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Zie||{});function xp(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(C4)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function eoe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xie)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Zl=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Zl||{});function eu(e,t=0){var n;return e===((n=jr(e))==null?void 0:n.body)?!1:jt(t,{0(){return e.matches(C4)},1(){let r=e;for(;r!==null;){if(r.matches(C4))return!0;r=r.parentElement}return!1}})}function A4(e){let t=jr(e);ui().nextFrame(()=>{t&&!eu(t.activeElement,0)&&noe(e)})}var toe=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(toe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function noe(e){e?.focus({preventScroll:!0})}var roe=["textarea","input"].join(",");function ioe(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,roe))!=null?n:!1}function Za(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let a=i.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function g2(e,t){return ci(xp(),t,{relativeTo:e})}function ci(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Za(e):e:t&64?eoe(e):xp(e);i.length>0&&a.length>1&&(a=a.filter(h=>!i.some(p=>p!=null&&"current"in p?p?.current===h:p===h))),r=r??o.activeElement;let s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,d=a.length,f;do{if(c>=d||c+d<=0)return 0;let h=l+c;if(t&16)h=(h+d)%d;else{if(h<0)return 3;if(h>=d)return 1}f=a[h],f?.focus(u),c+=s}while(f!==o.activeElement);return t&6&&ioe(f)&&f.select(),2}b();var ooe="span",es=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(es||{});function aoe(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ot()({ourProps:o,theirProps:i,slot:{},defaultTag:ooe,name:"Hidden"})}var ts=at(aoe);var vL=D($(),1),$t=D($(),1),v2=D($(),1),wa=D($(),1),k4=D(L(),1);function soe(){let e=(0,vL.useRef)(!1);return ht(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function loe({onFocus:e}){let[t,n]=(0,v2.useState)(!0),r=soe();return t?v2.default.createElement(ts,{as:"button",type:"button",features:es.Focusable,onFocus:i=>{i.preventDefault();let o,a=50;function s(){if(a--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!r.current)return;n(!1);return}o=requestAnimationFrame(s)}o=requestAnimationFrame(s)}}):null}var yL=wa.createContext(null);function uoe(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let o=Array.from(r.keys()).indexOf(t);function a(){let s=r.get(t);s>1?r.set(t,s-1):r.delete(t)}return[o,a]}}}function coe({children:e}){let t=wa.useRef(uoe());return wa.createElement(yL.Provider,{value:t},e)}function bL(e){let t=wa.useContext(yL);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=wa.useId(),[r,i]=t.current.get(e,n);return wa.useEffect(()=>i,[]),r}var doe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(doe||{}),foe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(foe||{}),hoe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(hoe||{}),poe={0(e,t){var n;let r=Za(e.tabs,c=>c.current),i=Za(e.panels,c=>c.current),o=r.filter(c=>{var d;return!((d=c.current)!=null&&d.hasAttribute("disabled"))}),a={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let c=jt(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>jt(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return a;let d=jt(c,{0:()=>r.indexOf(o[0]),1:()=>r.indexOf(o[o.length-1])});return{...a,selectedIndex:d===-1?e.selectedIndex:d}}let s=r.slice(0,t.index),l=[...r.slice(t.index),...s].find(c=>o.includes(c));if(!l)return a;let u=(n=r.indexOf(l))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Za([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:r,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Za([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},D4=(0,$t.createContext)(null);D4.displayName="TabsDataContext";function Ep(e){let t=(0,$t.useContext)(D4);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ep),n}return t}var M4=(0,$t.createContext)(null);M4.displayName="TabsActionsContext";function R4(e){let t=(0,$t.useContext)(M4);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,R4),n}return t}function moe(e,t){return jt(t.type,poe,e,t)}var goe="div";function voe(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:o,selectedIndex:a=null,...s}=e,l=r?"vertical":"horizontal",u=i?"manual":"auto",c=a!==null,d=$r({isControlled:c}),f=Et(t),[h,p]=(0,$t.useReducer)(moe,{info:d,selectedIndex:a??n,tabs:[],panels:[]}),m=(0,$t.useMemo)(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),v=$r(o||(()=>{})),g=$r(h.tabs),y=(0,$t.useMemo)(()=>({orientation:l,activation:u,...h}),[l,u,h]),w=se(R=>(p({type:1,tab:R}),()=>p({type:2,tab:R}))),x=se(R=>(p({type:3,panel:R}),()=>p({type:4,panel:R}))),S=se(R=>{E.current!==R&&v.current(R),c||p({type:0,index:R})}),E=$r(c?e.selectedIndex:h.selectedIndex),k=(0,$t.useMemo)(()=>({registerTab:w,registerPanel:x,change:S}),[]);ht(()=>{p({type:0,index:a??n})},[a]),ht(()=>{if(E.current===void 0||h.tabs.length<=0)return;let R=Za(h.tabs,M=>M.current);R.some((M,O)=>h.tabs[O]!==M)&&S(R.indexOf(h.tabs[E.current]))});let A={ref:f},T=ot();return $t.default.createElement(coe,null,$t.default.createElement(M4.Provider,{value:k},$t.default.createElement(D4.Provider,{value:y},y.tabs.length<=0&&$t.default.createElement(loe,{onFocus:()=>{var R,M;for(let O of g.current)if(((R=O.current)==null?void 0:R.tabIndex)===0)return(M=O.current)==null||M.focus(),!0;return!1}}),T({ourProps:A,theirProps:s,slot:m,defaultTag:goe,name:"Tabs"}))))}var yoe="div";function boe(e,t){let{orientation:n,selectedIndex:r}=Ep("Tab.List"),i=Et(t),o=(0,$t.useMemo)(()=>({selectedIndex:r}),[r]),a=e,s={ref:i,role:"tablist","aria-orientation":n};return ot()({ourProps:s,theirProps:a,slot:o,defaultTag:yoe,name:"Tabs.List"})}var woe="button";function xoe(e,t){var n,r;let i=(0,Rn.useId)(),{id:o=`headlessui-tabs-tab-${i}`,disabled:a=!1,autoFocus:s=!1,...l}=e,{orientation:u,activation:c,selectedIndex:d,tabs:f,panels:h}=Ep("Tab"),p=R4("Tab"),m=Ep("Tab"),[v,g]=(0,$t.useState)(null),y=(0,$t.useRef)(null),w=Et(y,t,g);ht(()=>p.registerTab(y),[p,y]);let x=bL("tabs"),S=f.indexOf(y);S===-1&&(S=x);let E=S===d,k=se(I=>{var Q;let N=I();if(N===js.Success&&c==="auto"){let H=(Q=jr(y))==null?void 0:Q.activeElement,G=m.tabs.findIndex(Y=>Y.current===H);G!==-1&&p.change(G)}return N}),A=se(I=>{let Q=f.map(N=>N.current).filter(Boolean);if(I.key===Te.Space||I.key===Te.Enter){I.preventDefault(),I.stopPropagation(),p.change(S);return}switch(I.key){case Te.Home:case Te.PageUp:return I.preventDefault(),I.stopPropagation(),k(()=>ci(Q,Jt.First));case Te.End:case Te.PageDown:return I.preventDefault(),I.stopPropagation(),k(()=>ci(Q,Jt.Last))}if(k(()=>jt(u,{vertical(){return I.key===Te.ArrowUp?ci(Q,Jt.Previous|Jt.WrapAround):I.key===Te.ArrowDown?ci(Q,Jt.Next|Jt.WrapAround):js.Error},horizontal(){return I.key===Te.ArrowLeft?ci(Q,Jt.Previous|Jt.WrapAround):I.key===Te.ArrowRight?ci(Q,Jt.Next|Jt.WrapAround):js.Error}}))===js.Success)return I.preventDefault()}),T=(0,$t.useRef)(!1),R=se(()=>{var I;T.current||(T.current=!0,(I=y.current)==null||I.focus({preventScroll:!0}),p.change(S),Jg(()=>{T.current=!1}))}),M=se(I=>{I.preventDefault()}),{isFocusVisible:O,focusProps:B}=Xa({autoFocus:s}),{isHovered:_,hoverProps:z}=Hs({isDisabled:a}),{pressed:V,pressProps:P}=Vs({disabled:a}),F=(0,$t.useMemo)(()=>({selected:E,hover:_,active:V,focus:O,autofocus:s,disabled:a}),[E,_,O,V,s,a]),U=Oi({ref:w,onKeyDown:A,onMouseDown:M,onClick:R,id:o,role:"tab",type:Us(e,v),"aria-controls":(r=(n=h[S])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":E,tabIndex:E?0:-1,disabled:a||void 0,autoFocus:s},B,z,P);return ot()({ourProps:U,theirProps:l,slot:F,defaultTag:woe,name:"Tabs.Tab"})}var Eoe="div";function Soe(e,t){let{selectedIndex:n}=Ep("Tab.Panels"),r=Et(t),i=(0,$t.useMemo)(()=>({selectedIndex:n}),[n]),o=e,a={ref:r};return ot()({ourProps:a,theirProps:o,slot:i,defaultTag:Eoe,name:"Tabs.Panels"})}var Coe="div",Aoe=Ri.RenderStrategy|Ri.Static;function Toe(e,t){var n,r,i,o;let a=(0,Rn.useId)(),{id:s=`headlessui-tabs-panel-${a}`,tabIndex:l=0,...u}=e,{selectedIndex:c,tabs:d,panels:f}=Ep("Tab.Panel"),h=R4("Tab.Panel"),p=(0,$t.useRef)(null),m=Et(p,t);ht(()=>h.registerPanel(p),[h,p]);let v=bL("panels"),g=f.indexOf(p);g===-1&&(g=v);let y=g===c,{isFocusVisible:w,focusProps:x}=Xa(),S=(0,$t.useMemo)(()=>({selected:y,focus:w}),[y,w]),E=Oi({ref:m,id:s,role:"tabpanel","aria-labelledby":(r=(n=d[g])==null?void 0:n.current)==null?void 0:r.id,tabIndex:y?l:-1},x),k=ot();return!y&&((i=u.unmount)==null||i)&&!((o=u.static)!=null&&o)?$t.default.createElement(ts,{"aria-hidden":"true",...E}):k({ourProps:E,theirProps:u,slot:S,defaultTag:Coe,features:Aoe,visible:y,name:"Tabs.Panel"})}var koe=at(xoe),Doe=at(voe),Moe=at(boe),Roe=at(Soe),Ooe=at(Toe),Xg=Object.assign(koe,{Group:Doe,List:Moe,Panels:Roe,Panel:Ooe}),Boe={list:"alinea-Tabs-list",trigger:"alinea-Tabs-trigger","is-selected":"alinea-Tabs-is-selected",isSelected:"alinea-Tabs-is-selected"},T4=j(Boe),_oe=j(Zw),ba;(e=>{e.Root=Xg.Group;function t({backdrop:r=!0,...i}){return(0,k4.jsx)(Xg.List,{className:r?_oe.header.mergeProps(i).with(T4.list)():T4.list,...i})}e.List=t;function n(r){return(0,k4.jsx)(Xg,{...r,className:({selected:i})=>T4.trigger.mergeProps(r)({selected:i})})}e.Trigger=n,e.Panels=Xg.Panels,e.Panel=Xg.Panel})(ba||(ba={}));var qr=D(L(),1);function O4({section:e,backdrop:t}){let r=e[xn.Data].types.filter(i=>!he.isHidden(i));return r.length?(0,qr.jsx)(ba.List,{backdrop:t,children:r.map((i,o)=>{let{icon:a}=rt(i);return(0,qr.jsx)(ba.Trigger,{children:(0,qr.jsxs)(K,{center:!0,gap:8,children:[a&&(0,qr.jsx)(a,{}),(0,qr.jsx)(Ze,{label:he.label(i)})]})},o)})}):null}function wL({section:e}){let{parent:t}=r4(),r=e[xn.Data].types.filter(o=>!he.isHidden(o));if(!r.length)return null;let i=(0,qr.jsxs)(ba.Root,{children:[(0,qr.jsx)(O4,{section:e}),(0,qr.jsx)(Ja,{children:(0,qr.jsx)(ba.Panels,{children:r.map((o,a)=>(0,qr.jsx)(ba.Panel,{unmount:!1,tabIndex:a,children:(0,qr.jsx)(Qn,{type:o,border:!1})},a))})})]});return(0,qr.jsx)("div",{children:t==="lift"?(0,qr.jsx)(We,{inline:!0,children:(0,qr.jsx)(xt.Root,{children:(0,qr.jsx)(xt.Content,{children:i})})}):i})}b();var xL=D($(),1);var rf=D(L(),1),Foe={root:"alinea-Main","root-loading":"alinea-Main-loading",rootLoading:"alinea-Main-loading","root-inner":"alinea-Main-inner",rootInner:"alinea-Main-inner","is-scrollable":"alinea-Main-is-scrollable",isScrollable:"alinea-Main-is-scrollable",container:"alinea-Main-container"},y2=j(Foe);function Ioe({children:e,head:t,scrollRef:n,isLoading:r,scrollable:i=!0,...o},a){return(0,rf.jsxs)("div",{ref:a,className:y2.root({scrollable:i,loading:r}),children:[t,(0,rf.jsx)("div",{ref:n,...o,className:y2.root.inner.mergeProps(o)(),children:e}),r&&(0,rf.jsx)("div",{className:y2.root.loading(),children:(0,rf.jsx)(gn,{absolute:!0})})]})}function Noe(e){return(0,rf.jsx)("div",{...e,className:y2.container(j.merge(e))})}var $s=Zo((0,xL.forwardRef)(Ioe),{Container:Noe});b();var B4=D(L(),1);function of(e){return(0,B4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,B4.jsx)("path",{fill:"currentColor",d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.83-4.83c-.37-.38-.88-.59-1.41-.59H6zm7 6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"})})}b();var _4=D(L(),1);function qs(e){return(0,_4.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,_4.jsx)("path",{fill:"currentColor",d:"M17 7h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.65 0 3 1.35 3 3s-1.35 3-3 3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-9 5c0 .55.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1zm2 3H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h3c.55 0 1-.45 1-1s-.45-1-1-1H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h3c.55 0 1-.45 1-1s-.45-1-1-1z"})})}b();var F4=D(L(),1);function Sp(e){return(0,F4.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,F4.jsx)("path",{fill:"currentColor",d:"M12.65 15.67c.14-.36.05-.77-.23-1.05l-2.09-2.06l.03-.03A17.52 17.52 0 0 0 14.07 6h1.94c.54 0 .99-.45.99-.99v-.02c0-.54-.45-.99-.99-.99H10V3c0-.55-.45-1-1-1s-1 .45-1 1v1H1.99c-.54 0-.99.45-.99.99c0 .55.45.99.99.99h10.18A15.66 15.66 0 0 1 9 11.35c-.81-.89-1.49-1.86-2.06-2.88A.885.885 0 0 0 6.16 8c-.69 0-1.13.75-.79 1.35c.63 1.13 1.4 2.21 2.3 3.21L3.3 16.87a.99.99 0 0 0 0 1.42c.39.39 1.02.39 1.42 0L9 14l2.02 2.02c.51.51 1.38.32 1.63-.35zM17.5 10c-.6 0-1.14.37-1.35.94l-3.67 9.8c-.24.61.22 1.26.87 1.26c.39 0 .74-.24.88-.61l.89-2.39h4.75l.9 2.39c.14.36.49.61.88.61c.65 0 1.11-.65.88-1.26l-3.67-9.8c-.22-.57-.76-.94-1.36-.94zm-1.62 7l1.62-4.33L19.12 17h-3.24z"})})}var Js=D($(),1);b();var b2=D($(),1),EL=D(L(),1),SL=(0,b2.createContext)(void 0);function Cp(){return(0,b2.useContext)(SL)}function CL({children:e,editor:t}){return(0,EL.jsx)(SL.Provider,{value:t,children:e})}b();b();b();var w2=D($(),1),x2=e=>{var t=(0,w2.useRef)(e);return(0,w2.useEffect)(()=>{t.current=e}),t};var Pc=D($(),1),Yp=D($(),1);b();var Zg=D(L(),1),Loe={root:"alinea-Badge","root-number":"alinea-Badge-number",rootNumber:"alinea-Badge-number"},AL=j(Loe);function TL({children:e,amount:t,top:n,right:r,bottom:i,left:o}){return(0,Zg.jsxs)("div",{className:AL.root(),children:[(0,Zg.jsx)("div",{children:e}),Number(t)>0&&(0,Zg.jsx)("span",{className:AL.root.number(),style:{top:n&&Me(n),right:r&&Me(r),bottom:i&&Me(i),left:o&&Me(o)},children:t})]})}b();b();var Kr=D($(),1),B2=D($(),1),jL=D(Ei(),1);function tv(e){return e.split("-")[0]}function T2(e){return e.split("-")[1]}function z4(e){return["top","bottom"].includes(tv(e))?"x":"y"}function _L(e){return e==="y"?"height":"width"}function kL(e,t,n){let{reference:r,floating:i}=e,o=r.x+r.width/2-i.width/2,a=r.y+r.height/2-i.height/2,s=z4(t),l=_L(s),u=r[l]/2-i[l]/2,c=tv(t),d=s==="x",f;switch(c){case"top":f={x:o,y:r.y-i.height};break;case"bottom":f={x:o,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:a};break;case"left":f={x:r.x-i.width,y:a};break;default:f={x:r.x,y:r.y}}switch(T2(t)){case"start":f[s]-=u*(n&&d?-1:1);break;case"end":f[s]+=u*(n&&d?-1:1);break}return f}var zoe=async(e,t,n)=>{let{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=await(a.isRTL==null?void 0:a.isRTL(t)),l=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:c}=kL(l,r,s),d=r,f={},h=0;for(let p=0;p<o.length;p++){let{name:m,fn:v}=o[p],{x:g,y,data:w,reset:x}=await v({x:u,y:c,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});if(u=g??u,c=y??c,f={...f,[m]:{...f[m],...w}},x&&h<=50){h++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(l=x.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:u,y:c}=kL(l,d,s)),p=-1;continue}}return{x:u,y:c,placement:d,strategy:i,middlewareData:f}};function Poe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hoe(e){return typeof e!="number"?Poe(e):{top:e,right:e,bottom:e,left:e}}function E2(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function FL(e,t){var n;t===void 0&&(t={});let{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=t,p=Hoe(h),v=s[f?d==="floating"?"reference":"floating":d],g=E2(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=E2(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...a.floating,x:r,y:i}:a.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),strategy:l}):a[d]);return{top:g.top-y.top+p.top,bottom:y.bottom-g.bottom+p.bottom,left:g.left-y.left+p.left,right:y.right-g.right+p.right}}var Ap=Math.max,Voe={left:"right",right:"left",bottom:"top",top:"bottom"};function S2(e){return e.replace(/left|right|bottom|top/g,t=>Voe[t])}function Uoe(e,t,n){n===void 0&&(n=!1);let r=T2(e),i=z4(e),o=_L(i),a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=S2(a)),{main:a,cross:S2(a)}}var joe={start:"end",end:"start"};function DL(e){return e.replace(/start|end/g,t=>joe[t])}function $oe(e){let t=S2(e);return[DL(e),t,DL(t)]}var k2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:s,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",flipAlignment:h=!0,...p}=e,m=tv(r),g=d||(m===a||!h?[S2(a)]:$oe(a)),y=[a,...g],w=await FL(t,p),x=[],S=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&x.push(w[m]),c){let{main:T,cross:R}=Uoe(r,o,await(s.isRTL==null?void 0:s.isRTL(l.floating)));x.push(w[T],w[R])}if(S=[...S,{placement:r,overflows:x}],!x.every(T=>T<=0)){var E,k;let T=((E=(k=i.flip)==null?void 0:k.index)!=null?E:0)+1,R=y[T];if(R)return{data:{index:T,overflows:S},reset:{placement:R}};let M="bottom";switch(f){case"bestFit":{var A;let O=(A=S.map(B=>[B,B.overflows.filter(_=>_>0).reduce((_,z)=>_+z,0)]).sort((B,_)=>B[1]-_[1])[0])==null?void 0:A[0].placement;O&&(M=O);break}case"initialPlacement":M=a;break}if(r!==M)return{reset:{placement:M}}}return{}}}};async function qoe(e,t){let{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=tv(n),s=T2(n),l=z4(n)==="x",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,d=typeof t=="function"?t(e):t,{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}var D2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:r}=t,i=await qoe(t,e);return{x:n+i.x,y:r+i.y,data:i}}}},IL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){let{placement:n,rects:r,platform:i,elements:o}=t,{apply:a,...s}=e,l=await FL(t,s),u=tv(n),c=T2(n),d,f;u==="top"||u==="bottom"?(d=u,f=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(f=u,d=c==="end"?"top":"bottom");let h=Ap(l.left,0),p=Ap(l.right,0),m=Ap(l.top,0),v=Ap(l.bottom,0),g={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(m!==0||v!==0?m+v:Ap(l.top,l.bottom)):l[d]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:Ap(l.left,l.right)):l[f])},y=await i.getDimensions(o.floating);a?.({...t,...g});let w=await i.getDimensions(o.floating);return y.width!==w.width||y.height!==w.height?{reset:{rects:!0}}:{}}}};function NL(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function ru(e){if(e==null)return window;if(!NL(e)){let t=e.ownerDocument;return t&&t.defaultView||window}return e}function nv(e){return ru(e).getComputedStyle(e)}function tu(e){return NL(e)?"":e?(e.nodeName||"").toLowerCase():""}function LL(){let e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Ks(e){return e instanceof ru(e).HTMLElement}function Mc(e){return e instanceof ru(e).Element}function Koe(e){return e instanceof ru(e).Node}function P4(e){if(typeof ShadowRoot>"u")return!1;let t=ru(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function M2(e){let{overflow:t,overflowX:n,overflowY:r}=nv(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function Yoe(e){return["table","td","th"].includes(tu(e))}function zL(e){let t=/firefox/i.test(LL()),n=nv(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}function PL(){return!/^((?!chrome|android).)*safari/i.test(LL())}var ML=Math.min,ev=Math.max,C2=Math.round;function nu(e,t,n){var r,i,o,a;t===void 0&&(t=!1),n===void 0&&(n=!1);let s=e.getBoundingClientRect(),l=1,u=1;t&&Ks(e)&&(l=e.offsetWidth>0&&C2(s.width)/e.offsetWidth||1,u=e.offsetHeight>0&&C2(s.height)/e.offsetHeight||1);let c=Mc(e)?ru(e):window,d=!PL()&&n,f=(s.left+(d&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/l,h=(s.top+(d&&(o=(a=c.visualViewport)==null?void 0:a.offsetTop)!=null?o:0))/u,p=s.width/l,m=s.height/u;return{width:p,height:m,top:h,right:f+p,bottom:h+m,left:f,x:f,y:h}}function Rc(e){return((Koe(e)?e.ownerDocument:e.document)||window.document).documentElement}function R2(e){return Mc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function HL(e){return nu(Rc(e)).left+R2(e).scrollLeft}function Woe(e){let t=nu(e);return C2(t.width)!==e.offsetWidth||C2(t.height)!==e.offsetHeight}function Goe(e,t,n){let r=Ks(t),i=Rc(t),o=nu(e,r&&Woe(t),n==="fixed"),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(r||!r&&n!=="fixed")if((tu(t)!=="body"||M2(i))&&(a=R2(t)),Ks(t)){let l=nu(t,!0);s.x=l.x+t.clientLeft,s.y=l.y+t.clientTop}else i&&(s.x=HL(i));return{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function VL(e){return tu(e)==="html"?e:e.assignedSlot||e.parentNode||(P4(e)?e.host:null)||Rc(e)}function RL(e){return!Ks(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function Qoe(e){let t=VL(e);for(P4(t)&&(t=t.host);Ks(t)&&!["html","body"].includes(tu(t));){if(zL(t))return t;t=t.parentNode}return null}function I4(e){let t=ru(e),n=RL(e);for(;n&&Yoe(n)&&getComputedStyle(n).position==="static";)n=RL(n);return n&&(tu(n)==="html"||tu(n)==="body"&&getComputedStyle(n).position==="static"&&!zL(n))?t:n||Qoe(e)||t}function OL(e){if(Ks(e))return{width:e.offsetWidth,height:e.offsetHeight};let t=nu(e);return{width:t.width,height:t.height}}function Joe(e){let{rect:t,offsetParent:n,strategy:r}=e,i=Ks(n),o=Rc(n);if(n===o)return t;let a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if((i||!i&&r!=="fixed")&&((tu(n)!=="body"||M2(o))&&(a=R2(n)),Ks(n))){let l=nu(n,!0);s.x=l.x+n.clientLeft,s.y=l.y+n.clientTop}return{...t,x:t.x-a.scrollLeft+s.x,y:t.y-a.scrollTop+s.y}}function Xoe(e,t){let n=ru(e),r=Rc(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;let u=PL();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function Zoe(e){var t;let n=Rc(e),r=R2(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=ev(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ev(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+HL(e),l=-r.scrollTop;return nv(i||n).direction==="rtl"&&(s+=ev(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function UL(e){let t=VL(e);return["html","body","#document"].includes(tu(t))?e.ownerDocument.body:Ks(t)&&M2(t)?t:UL(t)}function A2(e,t){var n;t===void 0&&(t=[]);let r=UL(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ru(r),a=i?[o].concat(o.visualViewport||[],M2(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(A2(a))}function eae(e,t){let n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&P4(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function tae(e,t){let n=nu(e,!1,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft;return{top:r,left:i,x:i,y:r,right:i+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function BL(e,t,n){return t==="viewport"?E2(Xoe(e,n)):Mc(t)?tae(t,n):E2(Zoe(Rc(e)))}function nae(e){let t=A2(e),r=["absolute","fixed"].includes(nv(e).position)&&Ks(e)?I4(e):e;return Mc(r)?t.filter(i=>Mc(i)&&eae(i,r)&&tu(i)!=="body"):[]}function rae(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n==="clippingAncestors"?nae(t):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{let d=BL(t,c,i);return u.top=ev(d.top,u.top),u.right=ML(d.right,u.right),u.bottom=ML(d.bottom,u.bottom),u.left=ev(d.left,u.left),u},BL(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}var iae={getClippingRect:rae,convertOffsetParentRelativeRectToViewportRelativeRect:Joe,isElement:Mc,getDimensions:OL,getOffsetParent:I4,getDocumentElement:Rc,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:Goe(t,I4(n),r),floating:{...OL(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>nv(e).direction==="rtl"};function O2(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=!0,animationFrame:s=!1}=r,l=i&&!s,u=o&&!s,c=l||u?[...Mc(e)?A2(e):[],...A2(t)]:[];c.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),u&&m.addEventListener("resize",n)});let d=null;if(a){let m=!0;d=new ResizeObserver(()=>{m||n(),m=!1}),Mc(e)&&!s&&d.observe(e),d.observe(t)}let f,h=s?nu(e):null;s&&p();function p(){let m=nu(e);h&&(m.x!==h.x||m.y!==h.y||m.width!==h.width||m.height!==h.height)&&n(),h=m,f=requestAnimationFrame(p)}return n(),()=>{var m;c.forEach(v=>{l&&v.removeEventListener("scroll",n),u&&v.removeEventListener("resize",n)}),(m=d)==null||m.disconnect(),d=null,s&&cancelAnimationFrame(f)}}var oae=(e,t,n)=>zoe(e,t,{platform:iae,...n}),N4=typeof document<"u"?B2.useLayoutEffect:B2.useEffect;function L4(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!L4(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!L4(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function aae(e){let t=Kr.useRef(e);return N4(()=>{t.current=e}),t}function _2(e){let{middleware:t,placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e,o=Kr.useRef(null),a=Kr.useRef(null),s=aae(i),l=Kr.useRef(null),[u,c]=Kr.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[d,f]=Kr.useState(t);L4(d?.map(w=>{let{options:x}=w;return x}),t?.map(w=>{let{options:x}=w;return x}))||f(t);let h=Kr.useCallback(()=>{!o.current||!a.current||oae(o.current,a.current,{middleware:d,placement:n,strategy:r}).then(w=>{p.current&&jL.flushSync(()=>{c(w)})})},[d,n,r]);N4(()=>{p.current&&h()},[h]);let p=Kr.useRef(!1);N4(()=>(p.current=!0,()=>{p.current=!1}),[]);let m=Kr.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),o.current&&a.current)if(s.current){let w=s.current(o.current,a.current,h);l.current=w}else h()},[h,s]),v=Kr.useCallback(w=>{o.current=w,m()},[m]),g=Kr.useCallback(w=>{a.current=w,m()},[m]),y=Kr.useMemo(()=>({reference:o,floating:a}),[]);return Kr.useMemo(()=>({...u,update:h,refs:y,reference:v,floating:g}),[u,h,y,v,g])}b();b();var H2=D($(),1),az=D($(),1),iv=D($(),1),lz=D($(),1),uz=D($(),1),dz=D($(),1),hz=D($(),1),pz=D($(),1),ov=D($(),1),Oc=D($(),1),Ge=D($(),1),U2=D($(),1),z2=D(Ei(),1),ir=D($(),1),Y2=D($(),1),Tz=D(Ei(),1),W4=D($(),1),En=D($(),1),hf=D($(),1),ln=D($(),1),_z=D(Ei(),1),Q2=D($(),1),cf=D($(),1),J2=D($(),1);function sae(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Dp(e,t=!1){let[n,r]=(0,H2.useReducer)(()=>({}),{}),i=(0,H2.useMemo)(()=>sae(e),[e,n]);return ht(()=>{if(!e)return;let o=new ResizeObserver(r);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}function Mp(e,t,n){let r=$r(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});(0,az.useEffect)(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let o=ui();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),o.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),o.add(()=>a.disconnect())}return()=>o.dispose()},[t,r,e])}function sz(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function lae(){return/Android/gi.test(window.navigator.userAgent)}function uae(){return sz()||lae()}function rv(e,t,n,r){let i=$r(n);(0,lz.useEffect)(()=>{if(!e)return;function o(a){i.current(a)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}var cae=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};function cz(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let a=t[i].call(n,...o);a&&(n=a,r.forEach(s=>s()))}}}function fz(e){return(0,dz.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getSnapshot)}var dae=new cae(()=>cz(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function V2(e,t){let n=dae.get(t),r=(0,uz.useId)(),i=fz(n);if(ht(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=i.indexOf(r),a=i.length;return o===-1&&(o=a,a+=1),o===a-1}function Q4(e,t,n,r){let i=$r(n);(0,hz.useEffect)(()=>{if(!e)return;function o(a){i.current(a)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}var $L=30;function Rp(e,t,n){let r=V2(e,"outside-click"),i=$r(n),o=(0,iv.useCallback)(function(l,u){if(l.defaultPrevented)return;let c=u(l);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let d=(function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]})(t);for(let f of d)if(f!==null&&(f.contains(c)||l.composed&&l.composedPath().includes(f)))return;return!eu(c,Zl.Loose)&&c.tabIndex!==-1&&l.preventDefault(),i.current(l,c)},[i,t]),a=(0,iv.useRef)(null);rv(r,"pointerdown",l=>{var u,c;a.current=((c=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:c[0])||l.target},!0),rv(r,"mousedown",l=>{var u,c;a.current=((c=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:c[0])||l.target},!0),rv(r,"click",l=>{uae()||a.current&&(o(l,()=>a.current),a.current=null)},!0);let s=(0,iv.useRef)({x:0,y:0});rv(r,"touchstart",l=>{s.current.x=l.touches[0].clientX,s.current.y=l.touches[0].clientY},!0),rv(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-s.current.x)>=$L||Math.abs(u.y-s.current.y)>=$L))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),Q4(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function rs(...e){return(0,pz.useMemo)(()=>jr(...e),[...e])}function fae(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function hae(){return sz()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=ui();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let l=s.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);c&&!r(c)&&(a=c)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(r(s.target)){let l=s.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(r(s.target)){let l=s.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let l=(s=window.scrollY)!=null?s:window.pageYOffset;o!==l&&window.scrollTo(0,o),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function pae(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function mae(e){let t={};for(let n of e)Object.assign(t,n(t));return t}var af=cz(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:ui(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:mae(n)},i=[hae(),fae(),pae()];i.forEach(({before:o})=>o?.(r)),i.forEach(({after:o})=>o?.(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});af.subscribe(()=>{let e=af.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&af.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&af.dispatch("TEARDOWN",n)}});function gae(e,t,n=()=>({containers:[]})){let r=fz(af),i=t?r.get(t):void 0,o=i?i.count>0:!1;return ht(()=>{if(!(!t||!e))return af.dispatch("PUSH",t,n),()=>af.dispatch("POP",t,n)},[e,t]),o}function Op(e,t,n=()=>[document.body]){let r=V2(e,"scroll-lock");gae(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function vae(e=0){let[t,n]=(0,Oc.useState)(e),r=(0,Oc.useCallback)(l=>n(l),[t]),i=(0,Oc.useCallback)(l=>n(u=>u|l),[t]),o=(0,Oc.useCallback)(l=>(t&l)===l,[t]),a=(0,Oc.useCallback)(l=>n(u=>u&~l),[n]),s=(0,Oc.useCallback)(l=>n(u=>u^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:a,toggleFlag:s}}var qL,KL;typeof C<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((qL=C==null?void 0:C.env)==null?void 0:qL.NODE_ENV)==="test"&&typeof((KL=Element?.prototype)==null?void 0:KL.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var yae=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(yae||{});function df(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function ff(e,t,n,r){let[i,o]=(0,ov.useState)(n),{hasFlag:a,addFlag:s,removeFlag:l}=vae(e&&i?3:0),u=(0,ov.useRef)(!1),c=(0,ov.useRef)(!1),d=Vo();return ht(()=>{var f;if(e){if(n&&o(!0),!t){n&&s(3);return}return(f=r?.start)==null||f.call(r,n),bae(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(s(3),l(4)):(s(4),l(2)))},run(){c.current?n?(l(3),s(4)):(l(4),s(3)):n?l(1):s(1)},done(){var h;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),n||o(!1),(h=r?.end)==null||h.call(r,n))}})}},[e,n,t,d]),e?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function bae(e,{prepare:t,run:n,done:r,inFlight:i}){let o=ui();return xae(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(wae(e,r))})}),o.dispose}function wae(e,t){var n,r;let i=ui();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(s=>s instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),i.dispose):(Promise.allSettled(a.map(s=>s.finished)).then(()=>{o||t()}),i.dispose)}function xae(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function j2(){return typeof window<"u"}function Bp(e){return mz(e)?(e.nodeName||"").toLowerCase():"#document"}function Uo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gs(e){var t;return(t=(mz(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mz(e){return j2()?e instanceof Node||e instanceof Uo(e).Node:!1}function Bi(e){return j2()?e instanceof Element||e instanceof Uo(e).Element:!1}function Ws(e){return j2()?e instanceof HTMLElement||e instanceof Uo(e).HTMLElement:!1}function YL(e){return!j2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Uo(e).ShadowRoot}function lv(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=ns(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Eae(e){return["table","td","th"].includes(Bp(e))}function $2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function J4(e){let t=X4(),n=Bi(e)?ns(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Sae(e){let t=Bc(e);for(;Ws(t)&&!kp(t);){if(J4(t))return t;if($2(t))return null;t=Bc(t)}return null}function X4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kp(e){return["html","body","#document"].includes(Bp(e))}function ns(e){return Uo(e).getComputedStyle(e)}function q2(e){return Bi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bc(e){if(Bp(e)==="html")return e;let t=e.assignedSlot||e.parentNode||YL(e)&&e.host||Gs(e);return YL(t)?t.host:t}function gz(e){let t=Bc(e);return kp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ws(t)&&lv(t)?t:gz(t)}function av(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);let i=gz(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Uo(i);if(o){let s=q4(a);return t.concat(a,a.visualViewport||[],lv(i)?i:[],s&&n?av(s):[])}return t.concat(i,av(i,[],n))}function q4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cae(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}var sf=Math.min,di=Math.max,sv=Math.round,F2=Math.floor,Ys=e=>({x:e,y:e}),Aae={left:"right",right:"left",bottom:"top",top:"bottom"},Tae={start:"end",end:"start"};function WL(e,t,n){return di(e,sf(t,n))}function _p(e,t){return typeof e=="function"?e(t):e}function _c(e){return e.split("-")[0]}function uv(e){return e.split("-")[1]}function vz(e){return e==="x"?"y":"x"}function yz(e){return e==="y"?"height":"width"}function lf(e){return["top","bottom"].includes(_c(e))?"y":"x"}function bz(e){return vz(lf(e))}function kae(e,t,n){n===void 0&&(n=!1);let r=uv(e),i=bz(e),o=yz(i),a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=N2(a)),[a,N2(a)]}function Dae(e){let t=N2(e);return[K4(e),t,K4(t)]}function K4(e){return e.replace(/start|end/g,t=>Tae[t])}function Mae(e,t,n){let r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function Rae(e,t,n,r){let i=uv(e),o=Mae(_c(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(K4)))),o}function N2(e){return e.replace(/left|right|bottom|top/g,t=>Aae[t])}function Oae(e){return{top:0,right:0,bottom:0,left:0,...e}}function Bae(e){return typeof e!="number"?Oae(e):{top:e,right:e,bottom:e,left:e}}function L2(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function GL(e,t,n){let{reference:r,floating:i}=e,o=lf(t),a=bz(t),s=yz(a),l=_c(t),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(uv(t)){case"start":h[a]-=f*(n&&u?-1:1);break;case"end":h[a]+=f*(n&&u?-1:1);break}return h}var _ae=async(e,t,n)=>{let{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=GL(u,r,l),f=r,h={},p=0;for(let m=0;m<s.length;m++){let{name:v,fn:g}=s[m],{x:y,y:w,data:x,reset:S}=await g({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});c=y??c,d=w??d,h={...h,[v]:{...h[v],...x}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:d}=GL(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function K2(e,t){var n;t===void 0&&(t={});let{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=_p(t,e),p=Bae(h),v=s[f?d==="floating"?"reference":"floating":d],g=L2(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),x=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=L2(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:l}):y);return{top:(g.top-S.top+p.top)/x.y,bottom:(S.bottom-g.bottom+p.bottom)/x.y,left:(g.left-S.left+p.left)/x.x,right:(S.right-g.right+p.right)/x.x}}var Fae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;let{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...v}=_p(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};let g=_c(i),y=lf(s),w=_c(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=f||(w||!m?[N2(s)]:Dae(s)),E=p!=="none";!f&&E&&S.push(...Rae(s,m,p,x));let k=[s,...S],A=await K2(t,v),T=[],R=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&T.push(A[g]),d){let _=kae(i,a,x);T.push(A[_[0]],A[_[1]])}if(R=[...R,{placement:i,overflows:T}],!T.every(_=>_<=0)){var M,O;let _=(((M=o.flip)==null?void 0:M.index)||0)+1,z=k[_];if(z)return{data:{index:_,overflows:R},reset:{placement:z}};let V=(O=R.filter(P=>P.overflows[0]<=0).sort((P,F)=>P.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!V)switch(h){case"bestFit":{var B;let P=(B=R.filter(F=>{if(E){let U=lf(F.placement);return U===y||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,I)=>U+I,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:B[0];P&&(V=P);break}case"initialPlacement":V=s;break}if(i!==V)return{reset:{placement:V}}}return{}}}};async function Iae(e,t){let{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=_c(n),s=uv(n),l=lf(n)==="y",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,d=_p(t,e),{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}var Nae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;let{x:i,y:o,placement:a,middlewareData:s}=t,l=await Iae(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Lae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...l}=_p(e,t),u={x:n,y:r},c=await K2(t,l),d=lf(_c(i)),f=vz(d),h=u[f],p=u[d];if(o){let v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=h+c[v],w=h-c[g];h=WL(y,h,w)}if(a){let v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=p+c[v],w=p-c[g];p=WL(y,p,w)}let m=s.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[d]:a}}}}}},zae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;let{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...u}=_p(e,t),c=await K2(t,u),d=_c(i),f=uv(i),h=lf(i)==="y",{width:p,height:m}=o.floating,v,g;d==="top"||d==="bottom"?(v=d,g=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,v=f==="end"?"top":"bottom");let y=m-c.top-c.bottom,w=p-c.left-c.right,x=sf(m-c[v],y),S=sf(p-c[g],w),E=!t.middlewareData.shift,k=x,A=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=y),E&&!f){let R=di(c.left,0),M=di(c.right,0),O=di(c.top,0),B=di(c.bottom,0);h?A=p-2*(R!==0||M!==0?R+M:di(c.left,c.right)):k=m-2*(O!==0||B!==0?O+B:di(c.top,c.bottom))}await l({...t,availableWidth:A,availableHeight:k});let T=await a.getDimensions(s.floating);return p!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function wz(e){let t=ns(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Ws(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=sv(n)!==o||sv(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Z4(e){return Bi(e)?e:e.contextElement}function Tp(e){let t=Z4(e);if(!Ws(t))return Ys(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:o}=wz(t),a=(o?sv(n.width):n.width)/r,s=(o?sv(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var Pae=Ys(0);function xz(e){let t=Uo(e);return!X4()||!t.visualViewport?Pae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hae(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Uo(e)?!1:t}function uf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),o=Z4(e),a=Ys(1);t&&(r?Bi(r)&&(a=Tp(r)):a=Tp(e));let s=Hae(o,n,r)?xz(o):Ys(0),l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,d=i.height/a.y;if(o){let f=Uo(o),h=r&&Bi(r)?Uo(r):r,p=f,m=q4(p);for(;m&&r&&h!==p;){let v=Tp(m),g=m.getBoundingClientRect(),y=ns(m),w=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,x=g.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,d*=v.y,l+=w,u+=x,p=Uo(m),m=q4(p)}}return L2({width:c,height:d,x:l,y:u})}function ek(e,t){let n=q2(e).scrollLeft;return t?t.left+n:uf(Gs(e)).left+n}function Ez(e,t,n){n===void 0&&(n=!1);let r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:ek(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function Vae(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,o=i==="fixed",a=Gs(r),s=t?$2(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Ys(1),c=Ys(0),d=Ws(r);if((d||!d&&!o)&&((Bp(r)!=="body"||lv(a))&&(l=q2(r)),Ws(r))){let h=uf(r);u=Tp(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}let f=a&&!d&&!o?Ez(a,l,!0):Ys(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function Uae(e){return Array.from(e.getClientRects())}function jae(e){let t=Gs(e),n=q2(e),r=e.ownerDocument.body,i=di(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=di(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),a=-n.scrollLeft+ek(e),s=-n.scrollTop;return ns(r).direction==="rtl"&&(a+=di(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function $ae(e,t){let n=Uo(e),r=Gs(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;let u=X4();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function qae(e,t){let n=uf(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ws(e)?Tp(e):Ys(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function QL(e,t,n){let r;if(t==="viewport")r=$ae(e,n);else if(t==="document")r=jae(Gs(e));else if(Bi(t))r=qae(t,n);else{let i=xz(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return L2(r)}function Sz(e,t){let n=Bc(e);return n===t||!Bi(n)||kp(n)?!1:ns(n).position==="fixed"||Sz(n,t)}function Kae(e,t){let n=t.get(e);if(n)return n;let r=av(e,[],!1).filter(s=>Bi(s)&&Bp(s)!=="body"),i=null,o=ns(e).position==="fixed",a=o?Bc(e):e;for(;Bi(a)&&!kp(a);){let s=ns(a),l=J4(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lv(a)&&!l&&Sz(e,a))?r=r.filter(c=>c!==a):i=s,a=Bc(a)}return t.set(e,r),r}function Yae(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n==="clippingAncestors"?$2(t)?[]:Kae(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{let d=QL(t,c,i);return u.top=di(d.top,u.top),u.right=sf(d.right,u.right),u.bottom=sf(d.bottom,u.bottom),u.left=di(d.left,u.left),u},QL(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Wae(e){let{width:t,height:n}=wz(e);return{width:t,height:n}}function Gae(e,t,n){let r=Ws(t),i=Gs(t),o=n==="fixed",a=uf(e,!0,o,t),s={scrollLeft:0,scrollTop:0},l=Ys(0);if(r||!r&&!o)if((Bp(t)!=="body"||lv(i))&&(s=q2(t)),r){let f=uf(t,!0,o,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=ek(i));let u=i&&!r&&!o?Ez(i,s):Ys(0),c=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:c,y:d,width:a.width,height:a.height}}function H4(e){return ns(e).position==="static"}function JL(e,t){if(!Ws(e)||ns(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Gs(e)===n&&(n=n.ownerDocument.body),n}function Cz(e,t){let n=Uo(e);if($2(e))return n;if(!Ws(e)){let i=Bc(e);for(;i&&!kp(i);){if(Bi(i)&&!H4(i))return i;i=Bc(i)}return n}let r=JL(e,t);for(;r&&Eae(r)&&H4(r);)r=JL(r,t);return r&&kp(r)&&H4(r)&&!J4(r)?n:r||Sae(e)||n}var Qae=async function(e){let t=this.getOffsetParent||Cz,n=this.getDimensions,r=await n(e.floating);return{reference:Gae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jae(e){return ns(e).direction==="rtl"}var Xae={convertOffsetParentRelativeRectToViewportRelativeRect:Vae,getDocumentElement:Gs,getClippingRect:Yae,getOffsetParent:Cz,getElementRects:Qae,getClientRects:Uae,getDimensions:Wae,getScale:Tp,isElement:Bi,isRTL:Jae};function Az(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zae(e,t){let n=null,r,i=Gs(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();let u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(s||t(),!f||!h)return;let p=F2(d),m=F2(i.clientWidth-(c+f)),v=F2(i.clientHeight-(d+h)),g=F2(c),w={rootMargin:-p+"px "+-m+"px "+-v+"px "+-g+"px",threshold:di(0,sf(1,l))||1},x=!0;function S(E){let k=E[0].intersectionRatio;if(k!==l){if(!x)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!Az(u,e.getBoundingClientRect())&&a(),x=!1}try{n=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return a(!0),o}function ese(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Z4(e),c=i||o?[...u?av(u):[],...av(t)]:[];c.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});let d=u&&s?Zae(u,n):null,f=-1,h=null;a&&(h=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?uf(e):null;l&&v();function v(){let g=uf(e);m&&!Az(m,g)&&n(),m=g,p=requestAnimationFrame(v)}return n(),()=>{var g;c.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),d?.(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(p)}}var V4=K2,tse=Nae,nse=Lae,rse=Fae,ise=zae,ose=(e,t,n)=>{let r=new Map,i={platform:Xae,...n},o={...i.platform,_c:r};return _ae(e,t,{...i,platform:o})},I2=typeof document<"u"?Y2.useLayoutEffect:Y2.useEffect;function P2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!P2(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!P2(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function kz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function XL(e,t){let n=kz(e);return Math.round(t*n)/n}function U4(e){let t=ir.useRef(e);return I2(()=>{t.current=e}),t}function ase(e){e===void 0&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,d]=ir.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=ir.useState(r);P2(f,r)||h(r);let[p,m]=ir.useState(null),[v,g]=ir.useState(null),y=ir.useCallback(F=>{F!==E.current&&(E.current=F,m(F))},[]),w=ir.useCallback(F=>{F!==k.current&&(k.current=F,g(F))},[]),x=o||p,S=a||v,E=ir.useRef(null),k=ir.useRef(null),A=ir.useRef(c),T=l!=null,R=U4(l),M=U4(i),O=U4(u),B=ir.useCallback(()=>{if(!E.current||!k.current)return;let F={placement:t,strategy:n,middleware:f};M.current&&(F.platform=M.current),ose(E.current,k.current,F).then(U=>{let I={...U,isPositioned:O.current!==!1};_.current&&!P2(A.current,I)&&(A.current=I,Tz.flushSync(()=>{d(I)}))})},[f,t,n,M,O]);I2(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[u]);let _=ir.useRef(!1);I2(()=>(_.current=!0,()=>{_.current=!1}),[]),I2(()=>{if(x&&(E.current=x),S&&(k.current=S),x&&S){if(R.current)return R.current(x,S,B);B()}},[x,S,B,R,T]);let z=ir.useMemo(()=>({reference:E,floating:k,setReference:y,setFloating:w}),[y,w]),V=ir.useMemo(()=>({reference:x,floating:S}),[x,S]),P=ir.useMemo(()=>{let F={position:n,left:0,top:0};if(!V.floating)return F;let U=XL(V.floating,c.x),I=XL(V.floating,c.y);return s?{...F,transform:"translate("+U+"px, "+I+"px)",...kz(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:I}},[n,s,V.floating,c.x,c.y]);return ir.useMemo(()=>({...c,update:B,refs:z,elements:V,floatingStyles:P}),[c,B,z,V,P])}var Dz=(e,t)=>({...tse(e),options:[e,t]}),sse=(e,t)=>({...nse(e),options:[e,t]}),lse=(e,t)=>({...rse(e),options:[e,t]}),use=(e,t)=>({...ise(e),options:[e,t]}),Mz={...Ge},cse=Mz.useInsertionEffect,dse=cse||(e=>e());function Rz(e){let t=Ge.useRef(()=>{});return dse(()=>{t.current=e}),Ge.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var fse="ArrowUp",hse="ArrowDown",pse="ArrowLeft",mse="ArrowRight",Y4=typeof document<"u"?U2.useLayoutEffect:U2.useEffect,gse=[pse,mse],vse=[fse,hse],sOe=[...gse,...vse],ZL=!1,yse=0,ez=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+yse++;function bse(){let[e,t]=Ge.useState(()=>ZL?ez():void 0);return Y4(()=>{e==null&&t(ez())},[]),Ge.useEffect(()=>{ZL=!0},[]),e}var wse=Mz.useId,xse=wse||bse;function Ese(){let e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}var Sse=Ge.createContext(null),Cse=Ge.createContext(null),Ase=()=>{var e;return((e=Ge.useContext(Sse))==null?void 0:e.id)||null},Tse=()=>Ge.useContext(Cse),kse="data-floating-ui-focusable";function Dse(e){let{open:t=!1,onOpenChange:n,elements:r}=e,i=xse(),o=Ge.useRef({}),[a]=Ge.useState(()=>Ese()),s=Ase()!=null,[l,u]=Ge.useState(r.reference),c=Rz((h,p,m)=>{o.current.openEvent=h?p:void 0,a.emit("openchange",{open:h,event:p,reason:m,nested:s}),n?.(h,p,m)}),d=Ge.useMemo(()=>({setPositionReference:u}),[]),f=Ge.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return Ge.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:f,events:a,floatingId:i,refs:d}),[t,c,f,a,i,d])}function Mse(e){e===void 0&&(e={});let{nodeId:t}=e,n=Dse({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,a]=Ge.useState(null),[s,l]=Ge.useState(null),c=i?.domReference||o,d=Ge.useRef(null),f=Tse();Y4(()=>{c&&(d.current=c)},[c]);let h=ase({...e,elements:{...i,...s&&{reference:s}}}),p=Ge.useCallback(w=>{let x=Bi(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(x),h.refs.setReference(x)},[h.refs]),m=Ge.useCallback(w=>{(Bi(w)||w===null)&&(d.current=w,a(w)),(Bi(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Bi(w))&&h.refs.setReference(w)},[h.refs]),v=Ge.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),g=Ge.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),y=Ge.useMemo(()=>({...h,...r,refs:v,elements:g,nodeId:t}),[h,v,g,t,r]);return Y4(()=>{r.dataRef.current.floatingContext=y;let w=f?.nodesRef.current.find(x=>x.id===t);w&&(w.context=y)}),Ge.useMemo(()=>({...h,context:y,refs:v,elements:g}),[h,v,g,y])}var tz="active",nz="selected";function j4(e,t,n){let r=new Map,i=n==="item",o=e;if(i&&e){let{[tz]:a,[nz]:s,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[kse]:""},...o,...t.map(a=>{let s=a?a[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(l=>{let[u,c]=l;if(!(i&&[tz,nz].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),a[u]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=r.get(u))==null?void 0:f.map(v=>v(...p)).find(v=>v!==void 0)}}}else a[u]=c}),a),{})}}function Rse(e){e===void 0&&(e=[]);let t=e.map(s=>s?.reference),n=e.map(s=>s?.floating),r=e.map(s=>s?.item),i=Ge.useCallback(s=>j4(s,e,"reference"),t),o=Ge.useCallback(s=>j4(s,e,"floating"),n),a=Ge.useCallback(s=>j4(s,e,"item"),r);return Ge.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:a}),[i,o,a])}function rz(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}var Ose=e=>({name:"inner",options:e,async fn(t){let{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:l=0,scrollRef:u,...c}=_p(e,t),{rects:d,elements:{floating:f}}=t,h=n.current[a],p=u?.current||f,m=f.clientTop||p.clientTop,v=f.clientTop!==0,g=p.clientTop!==0,y=f===p;if(!h)return{};let w={...t,...await Dz(-h.offsetTop-f.clientTop-d.reference.height/2-h.offsetHeight/2-o).fn(t)},x=await V4(rz(w,p.scrollHeight+m+f.clientTop),c),S=await V4(w,{...c,elementContext:"reference"}),E=di(0,x.top),k=w.y+E,R=(p.scrollHeight>p.clientHeight?M=>M:sv)(di(0,p.scrollHeight+(v&&y||g?m*2:0)-E-di(0,x.bottom)));if(p.style.maxHeight=R+"px",p.scrollTop=E,i){let M=p.offsetHeight<h.offsetHeight*sf(s,n.current.length)-1||S.top>=-l||S.bottom>=-l;z2.flushSync(()=>i(M))}return r&&(r.current=await V4(rz({...w,y:k},p.offsetHeight+m+f.clientTop),c)),{y:k}}});function Bse(e,t){let{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:a,onChange:s}=t,l=Rz(s),u=Ge.useRef(!1),c=Ge.useRef(null),d=Ge.useRef(null);Ge.useEffect(()=>{if(!i)return;function h(m){if(m.ctrlKey||!p||o.current==null)return;let v=m.deltaY,g=o.current.top>=-.5,y=o.current.bottom>=-.5,w=p.scrollHeight-p.clientHeight,x=v<0?-1:1,S=v<0?"max":"min";p.scrollHeight<=p.clientHeight||(!g&&v>0||!y&&v<0?(m.preventDefault(),z2.flushSync(()=>{l(E=>E+Math[S](v,w*x))})):/firefox/i.test(Cae())&&(p.scrollTop+=v))}let p=a?.current||r.floating;if(n&&p)return p.addEventListener("wheel",h),requestAnimationFrame(()=>{c.current=p.scrollTop,o.current!=null&&(d.current={...o.current})}),()=>{c.current=null,d.current=null,p.removeEventListener("wheel",h)}},[i,n,r.floating,o,a,l]);let f=Ge.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){let h=a?.current||r.floating;if(!(!o.current||!h||!u.current)){if(c.current!==null){let p=h.scrollTop-c.current;(o.current.bottom<-.5&&p<-1||o.current.top<-.5&&p>1)&&z2.flushSync(()=>l(m=>m+p))}requestAnimationFrame(()=>{c.current=h.scrollTop})}}}),[r.floating,l,o,a]);return Ge.useMemo(()=>i?{floating:f}:{},[i,f])}var Fp=(0,En.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Fp.displayName="FloatingContext";var tk=(0,En.createContext)(null);tk.displayName="PlacementContext";function Ip(e){return(0,En.useMemo)(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Np(){return(0,En.useContext)(Fp).setReference}function W2(){return(0,En.useContext)(Fp).getReferenceProps}function Lp(){let{getFloatingProps:e,slot:t}=(0,En.useContext)(Fp);return(0,En.useCallback)((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function zp(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=(0,En.useContext)(tk),n=(0,En.useMemo)(()=>e,[JSON.stringify(e,(i,o)=>{var a;return(a=o?.outerHTML)!=null?a:o})]);ht(()=>{t?.(n??null)},[t,n]);let r=(0,En.useContext)(Fp);return(0,En.useMemo)(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}var iz=4;function Pp({children:e,enabled:t=!0}){let[n,r]=(0,En.useState)(null),[i,o]=(0,En.useState)(0),a=(0,En.useRef)(null),[s,l]=(0,En.useState)(null);_se(s);let u=t&&n!==null&&s!==null,{to:c="bottom",gap:d=0,offset:f=0,padding:h=0,inner:p}=Fse(n,s),[m,v="center"]=c.split(" ");ht(()=>{u&&o(0)},[u]);let{refs:g,floatingStyles:y,context:w}=Mse({open:u,placement:m==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${m}`:`${m}-${v}`,strategy:"absolute",transform:!1,middleware:[Dz({mainAxis:m==="selection"?0:d,crossAxis:f}),sse({padding:h}),m!=="selection"&&lse({padding:h}),m==="selection"&&p?Ose({...p,padding:h,overflowRef:a,offset:i,minItemsVisible:iz,referenceOverflowThreshold:h,onFallbackChange(M){var O,B;if(!M)return;let _=w.elements.floating;if(!_)return;let z=parseFloat(getComputedStyle(_).scrollPaddingBottom)||0,V=Math.min(iz,_.childElementCount),P=0,F=0;for(let U of(B=(O=w.elements.floating)==null?void 0:O.childNodes)!=null?B:[])if(U instanceof HTMLElement){let I=U.offsetTop,Q=I+U.clientHeight+z,N=_.scrollTop,H=N+_.clientHeight;if(I>=N&&Q<=H)V--;else{F=Math.max(0,Math.min(Q,H)-Math.max(I,N)),P=U.clientHeight;break}}V>=1&&o(U=>{let I=P*V-F+z;return U>=I?U:I})}}):null,use({padding:h,apply({availableWidth:M,availableHeight:O,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${M}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${O}px)`})}})].filter(Boolean),whileElementsMounted:ese}),[x=m,S=v]=w.placement.split("-");m==="selection"&&(x="selection");let E=(0,En.useMemo)(()=>({anchor:[x,S].filter(Boolean).join(" ")}),[x,S]),k=Bse(w,{overflowRef:a,onChange:o}),{getReferenceProps:A,getFloatingProps:T}=Rse([k]),R=se(M=>{l(M),g.setFloating(M)});return W4.createElement(tk.Provider,{value:r},W4.createElement(Fp.Provider,{value:{setFloating:R,setReference:g.setReference,styles:y,getReferenceProps:A,getFloatingProps:T,slot:E}},e))}function _se(e){ht(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Fse(e,t){var n,r,i;let o=$4((n=e?.gap)!=null?n:"var(--anchor-gap, 0)",t),a=$4((r=e?.offset)!=null?r:"var(--anchor-offset, 0)",t),s=$4((i=e?.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:a,padding:s}}function $4(e,t,n=void 0){let r=Vo(),i=se((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let c=oz(l,u);return[c,d=>{let f=Oz(l);{let h=f.map(p=>window.getComputedStyle(u).getPropertyValue(p));r.requestAnimationFrame(function p(){r.nextFrame(p);let m=!1;for(let[g,y]of f.entries()){let w=window.getComputedStyle(u).getPropertyValue(y);if(h[g]!==w){h[g]=w,m=!0;break}}if(!m)return;let v=oz(l,u);c!==v&&(d(v),c=v)})}return r.dispose}]}return[n,null]}),o=(0,En.useMemo)(()=>i(e,t)[0],[e,t]),[a=o,s]=(0,En.useState)();return ht(()=>{let[l,u]=i(e,t);if(s(l),!!u)return u(s)},[e,t]),a}function Oz(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...Oz(i)]:[r]}return[]}function oz(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}var G2=(0,hf.createContext)(null);G2.displayName="OpenClosedContext";var Tr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Tr||{});function pf(){return(0,hf.useContext)(G2)}function Hp({value:e,children:t}){return hf.default.createElement(G2.Provider,{value:e},t)}function Bz({children:e}){return hf.default.createElement(G2.Provider,{value:null},e)}function Ise(e){let t=se(e),n=(0,Q2.useRef)(!1);(0,Q2.useEffect)(()=>(n.current=!1,()=>{n.current=!0,Jg(()=>{n.current&&t()})}),[t])}function Nse(){let e=typeof document>"u";return"useSyncExternalStore"in cf?(t=>t.useSyncExternalStore)(cf)(()=>()=>{},()=>!1,()=>!e):!1}function Lse(){let e=Nse(),[t,n]=cf.useState(Dc.isHandoffComplete);return t&&Dc.isHandoffComplete===!1&&n(!1),cf.useEffect(()=>{t!==!0&&n(!0)},[t]),cf.useEffect(()=>Dc.handoff(),[]),e?!1:t}var zse=(0,J2.createContext)(!1);function Pse(){return(0,J2.useContext)(zse)}function Hse(e){let t=Pse(),n=(0,ln.useContext)(Iz),r=rs(e),[i,o]=(0,ln.useState)(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(Dc.isServer)return null;let s=r?.getElementById("headlessui-portal-root");if(s)return s;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return(0,ln.useEffect)(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),(0,ln.useEffect)(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}var Fz=ln.Fragment,Vse=at(function(e,t){let n=e,r=(0,ln.useRef)(null),i=Et(m2(d=>{r.current=d}),t),o=rs(r),a=Hse(r),[s]=(0,ln.useState)(()=>{var d;return Dc.isServer?null:(d=o?.createElement("div"))!=null?d:null}),l=(0,ln.useContext)(G4),u=Lse();ht(()=>{!a||!s||a.contains(s)||(s.setAttribute("data-headlessui-portal",""),a.appendChild(s))},[a,s]),ht(()=>{if(s&&l)return l.register(s)},[l,s]),Ise(()=>{var d;!a||!s||(s instanceof Node&&a.contains(s)&&a.removeChild(s),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))});let c=ot();return u?!a||!s?null:(0,_z.createPortal)(c({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Fz,name:"Portal"}),s):null});function Use(e,t){let n=Et(t),{enabled:r=!0,...i}=e,o=ot();return r?ln.default.createElement(Vse,{...i,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Fz,name:"Portal"})}var jse=ln.Fragment,Iz=(0,ln.createContext)(null);function $se(e,t){let{target:n,...r}=e,i={ref:Et(t)},o=ot();return ln.default.createElement(Iz.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:jse,name:"Popover.Group"}))}var G4=(0,ln.createContext)(null);function Nz(){let e=(0,ln.useContext)(G4),t=(0,ln.useRef)([]),n=se(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=se(o=>{let a=t.current.indexOf(o);a!==-1&&t.current.splice(a,1),e&&e.unregister(o)}),i=(0,ln.useMemo)(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,(0,ln.useMemo)(()=>function({children:o}){return ln.default.createElement(G4.Provider,{value:i},o)},[i])]}var qse=at(Use),Kse=at($se),Vp=Object.assign(qse,{Group:Kse});var Uz=D($(),1),jz=D($(),1),rk=D($(),1),nk=new Map,cv=new Map;function Lz(e){var t;let n=(t=cv.get(e))!=null?t:0;return cv.set(e,n+1),n!==0?()=>zz(e):(nk.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>zz(e))}function zz(e){var t;let n=(t=cv.get(e))!=null?t:1;if(n===1?cv.delete(e):cv.set(e,n-1),n!==1)return;let r=nk.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,nk.delete(e))}function X2(e,{allowed:t,disallowed:n}={}){let r=V2(e,"inert-others");ht(()=>{var i,o;if(!r)return;let a=ui();for(let l of(i=n?.())!=null?i:[])l&&a.add(Lz(l));let s=(o=t?.())!=null?o:[];for(let l of s){if(!l)continue;let u=jr(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let d of c.children)s.some(f=>d.contains(f))||a.add(Lz(d));c=c.parentElement}}return a.dispose},[r,t,n])}function Pz(e){return[e.screenX,e.screenY]}function Z2(){let e=(0,Uz.useRef)([-1,-1]);return{wasMoved(t){let n=Pz(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Pz(t)}}}function Yse(e){throw new Error("Unexpected object: "+e)}var pt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(pt||{});function Fc(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:Yse(e)}}function ex(e,t){let n=(0,jz.useRef)({left:0,top:0});if(ht(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(n.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}var Hz=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Vz(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let s of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),o=!0;let a=o?(n=i.innerText)!=null?n:"":r;return Hz.test(a)&&(a=a.replace(Hz,"")),a}function Wse(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():Vz(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Vz(e).trim()}function tx(e){let t=(0,rk.useRef)(""),n=(0,rk.useRef)("");return se(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=Wse(r).trim().toLowerCase();return t.current=i,n.current=o,o})}b();var nx=D($(),1),rx=D($(),1),jo=D($(),1),$o=D($(),1),Gse=(0,nx.createContext)(void 0);function Up(){return(0,nx.useContext)(Gse)}var Qse=(0,rx.createContext)(void 0);function dv(){return(0,rx.useContext)(Qse)}var ix=(0,jo.createContext)(null);ix.displayName="DescriptionContext";function $z(){let e=(0,jo.useContext)(ix);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,$z),t}return e}function ox(){var e,t;return(t=(e=(0,jo.useContext)(ix))==null?void 0:e.value)!=null?t:void 0}function ax(){let[e,t]=(0,jo.useState)([]);return[e.length>0?e.join(" "):void 0,(0,jo.useMemo)(()=>function(n){let r=se(o=>(t(a=>[...a,o]),()=>t(a=>{let s=a.slice(),l=s.indexOf(o);return l!==-1&&s.splice(l,1),s}))),i=(0,jo.useMemo)(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return jo.default.createElement(ix.Provider,{value:i},n.children)},[t])]}var Jse="p";function Xse(e,t){let n=(0,Rn.useId)(),r=Up(),{id:i=`headlessui-description-${n}`,...o}=e,a=$z(),s=Et(t);ht(()=>a.register(i),[i,a.register]);let l=r||!1,u=(0,jo.useMemo)(()=>({...a.slot,disabled:l}),[a.slot,l]),c={ref:s,...a.props,id:i};return ot()({ourProps:c,theirProps:o,slot:u,defaultTag:Jse,name:a.name||"Description"})}var Zse=at(Xse),qz=Object.assign(Zse,{}),sx=(0,$o.createContext)(null);sx.displayName="LabelContext";function lx(){let e=(0,$o.useContext)(sx);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,lx),t}return e}function fv(e){var t,n,r;let i=(n=(t=(0,$o.useContext)(sx))==null?void 0:t.value)!=null?n:void 0;return((r=e?.length)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function mf({inherit:e=!1}={}){let t=fv(),[n,r]=(0,$o.useState)([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,(0,$o.useMemo)(()=>function(o){let a=se(l=>(r(u=>[...u,l]),()=>r(u=>{let c=u.slice(),d=c.indexOf(l);return d!==-1&&c.splice(d,1),c}))),s=(0,$o.useMemo)(()=>({register:a,slot:o.slot,name:o.name,props:o.props,value:o.value}),[a,o.slot,o.name,o.props,o.value]);return $o.default.createElement(sx.Provider,{value:s},o.children)},[r])]}var ele="label";function tle(e,t){var n;let r=(0,Rn.useId)(),i=lx(),o=dv(),a=Up(),{id:s=`headlessui-label-${r}`,htmlFor:l=o??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...c}=e,d=Et(t);ht(()=>i.register(s),[s,i.register]);let f=se(v=>{let g=v.currentTarget;if(g instanceof HTMLLabelElement&&v.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(v),g instanceof HTMLLabelElement){let y=document.getElementById(g.htmlFor);if(y){let w=y.getAttribute("disabled");if(w==="true"||w==="")return;let x=y.getAttribute("aria-disabled");if(x==="true"||x==="")return;(y instanceof HTMLInputElement&&(y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),h=a||!1,p=(0,$o.useMemo)(()=>({...i.slot,disabled:h}),[i.slot,h]),m={ref:d,...i.props,id:s,htmlFor:l,onClick:f};return u&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in c&&delete c.onClick),ot()({ourProps:m,theirProps:c,slot:p,defaultTag:l?ele:"div",name:i.name||"Label"})}var nle=at(tle),ux=Object.assign(nle,{});b();function iu(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=t?.getAttribute("disabled")==="";return r&&rle(n)?!1:r}function rle(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var hv=D($(),1),Ft=D($(),1),jp=D(Ei(),1),pv=D($(),1),Ic=D(L(),1);function ile(e,{container:t,accept:n,walk:r}){let i=(0,hv.useRef)(n),o=(0,hv.useRef)(r);(0,hv.useEffect)(()=>{i.current=n,o.current=r},[n,r]),ht(()=>{if(!t||!e)return;let a=jr(t);if(!a)return;let s=i.current,l=o.current,u=Object.assign(d=>s(d),{acceptNode:s}),c=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[t,e,i,o])}var ole=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ole||{}),ale=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ale||{}),sle=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))(sle||{});function ik(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Za(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}var lle={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var n,r,i,o,a;if(e.menuState===1)return e;let s={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===pt.Nothing)return{...s,activeItemIndex:null};if(t.focus===pt.Specific)return{...s,activeItemIndex:e.items.findIndex(c=>c.id===t.id)};if(t.focus===pt.Previous){let c=e.activeItemIndex;if(c!==null){let d=e.items[c].dataRef.current.domRef,f=Fc(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(f!==null){let h=e.items[f].dataRef.current.domRef;if(((r=d.current)==null?void 0:r.previousElementSibling)===h.current||((i=h.current)==null?void 0:i.previousElementSibling)===null)return{...s,activeItemIndex:f}}}}else if(t.focus===pt.Next){let c=e.activeItemIndex;if(c!==null){let d=e.items[c].dataRef.current.domRef,f=Fc(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(f!==null){let h=e.items[f].dataRef.current.domRef;if(((o=d.current)==null?void 0:o.nextElementSibling)===h.current||((a=h.current)==null?void 0:a.nextElementSibling)===null)return{...s,activeItemIndex:f}}}}let l=ik(e),u=Fc(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...s,...l,activeItemIndex:u}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(a=>{var s;return((s=a.dataRef.current.textValue)==null?void 0:s.startsWith(r))&&!a.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=ik(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=ik(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element}},ok=(0,Ft.createContext)(null);ok.displayName="MenuContext";function fx(e){let t=(0,Ft.useContext)(ok);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fx),n}return t}function ule(e,t){return jt(t.type,lle,e,t)}var cle=Ft.Fragment;function dle(e,t){let{__demoMode:n=!1,...r}=e,i=(0,Ft.useReducer)(ule,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsElement:a,buttonElement:s},l]=i,u=Et(t);Rp(o===0,[s,a],(p,m)=>{l({type:1}),eu(m,Zl.Loose)||(p.preventDefault(),s?.focus())});let c=se(()=>{l({type:1})}),d=(0,Ft.useMemo)(()=>({open:o===0,close:c}),[o,c]),f={ref:u},h=ot();return Ft.default.createElement(Pp,null,Ft.default.createElement(ok.Provider,{value:i},Ft.default.createElement(Hp,{value:jt(o,{0:Tr.Open,1:Tr.Closed})},h({ourProps:f,theirProps:r,slot:d,defaultTag:cle,name:"Menu"}))))}var fle="button";function hle(e,t){var n;let r=(0,Rn.useId)(),{id:i=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:a=!1,...s}=e,[l,u]=fx("Menu.Button"),c=W2(),d=Et(t,Np(),se(k=>u({type:7,element:k}))),f=se(k=>{switch(k.key){case Te.Space:case Te.Enter:case Te.ArrowDown:k.preventDefault(),k.stopPropagation(),(0,jp.flushSync)(()=>u({type:0})),u({type:2,focus:pt.First});break;case Te.ArrowUp:k.preventDefault(),k.stopPropagation(),(0,jp.flushSync)(()=>u({type:0})),u({type:2,focus:pt.Last});break}}),h=se(k=>{switch(k.key){case Te.Space:k.preventDefault();break}}),p=se(k=>{var A;if(iu(k.currentTarget))return k.preventDefault();o||(l.menuState===0?((0,jp.flushSync)(()=>u({type:1})),(A=l.buttonElement)==null||A.focus({preventScroll:!0})):(k.preventDefault(),u({type:0})))}),{isFocusVisible:m,focusProps:v}=Xa({autoFocus:a}),{isHovered:g,hoverProps:y}=Hs({isDisabled:o}),{pressed:w,pressProps:x}=Vs({disabled:o}),S=(0,Ft.useMemo)(()=>({open:l.menuState===0,active:w||l.menuState===0,disabled:o,hover:g,focus:m,autofocus:a}),[l,g,m,w,o,a]),E=Oi(c(),{ref:d,id:i,type:Us(e,l.buttonElement),"aria-haspopup":"menu","aria-controls":(n=l.itemsElement)==null?void 0:n.id,"aria-expanded":l.menuState===0,disabled:o||void 0,autoFocus:a,onKeyDown:f,onKeyUp:h,onClick:p},v,y,x);return ot()({ourProps:E,theirProps:s,slot:S,defaultTag:fle,name:"Menu.Button"})}var ple="div",mle=Ri.RenderStrategy|Ri.Static;function gle(e,t){var n,r;let i=(0,Rn.useId)(),{id:o=`headlessui-menu-items-${i}`,anchor:a,portal:s=!1,modal:l=!0,transition:u=!1,...c}=e,d=Ip(a),[f,h]=fx("Menu.Items"),[p,m]=zp(d),v=Lp(),[g,y]=(0,Ft.useState)(null),w=Et(t,d?p:null,se(F=>h({type:8,element:F})),y),x=rs(f.itemsElement);d&&(s=!0);let S=pf(),[E,k]=ff(u,g,S!==null?(S&Tr.Open)===Tr.Open:f.menuState===0);Mp(E,f.buttonElement,()=>{h({type:1})});let A=f.__demoMode?!1:l&&f.menuState===0;Op(A,x);let T=f.__demoMode?!1:l&&f.menuState===0;X2(T,{allowed:(0,Ft.useCallback)(()=>[f.buttonElement,f.itemsElement],[f.buttonElement,f.itemsElement])});let R=f.menuState!==0,M=ex(R,f.buttonElement)?!1:E;(0,Ft.useEffect)(()=>{let F=f.itemsElement;F&&f.menuState===0&&F!==x?.activeElement&&F.focus({preventScroll:!0})},[f.menuState,f.itemsElement,x]),ile(f.menuState===0,{container:f.itemsElement,accept(F){return F.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:F.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(F){F.setAttribute("role","none")}});let O=Vo(),B=se(F=>{var U,I,Q;switch(O.dispose(),F.key){case Te.Space:if(f.searchQuery!=="")return F.preventDefault(),F.stopPropagation(),h({type:3,value:F.key});case Te.Enter:if(F.preventDefault(),F.stopPropagation(),h({type:1}),f.activeItemIndex!==null){let{dataRef:N}=f.items[f.activeItemIndex];(I=(U=N.current)==null?void 0:U.domRef.current)==null||I.click()}A4(f.buttonElement);break;case Te.ArrowDown:return F.preventDefault(),F.stopPropagation(),h({type:2,focus:pt.Next});case Te.ArrowUp:return F.preventDefault(),F.stopPropagation(),h({type:2,focus:pt.Previous});case Te.Home:case Te.PageUp:return F.preventDefault(),F.stopPropagation(),h({type:2,focus:pt.First});case Te.End:case Te.PageDown:return F.preventDefault(),F.stopPropagation(),h({type:2,focus:pt.Last});case Te.Escape:F.preventDefault(),F.stopPropagation(),(0,jp.flushSync)(()=>h({type:1})),(Q=f.buttonElement)==null||Q.focus({preventScroll:!0});break;case Te.Tab:F.preventDefault(),F.stopPropagation(),(0,jp.flushSync)(()=>h({type:1})),g2(f.buttonElement,F.shiftKey?Jt.Previous:Jt.Next);break;default:F.key.length===1&&(h({type:3,value:F.key}),O.setTimeout(()=>h({type:4}),350));break}}),_=se(F=>{switch(F.key){case Te.Space:F.preventDefault();break}}),z=(0,Ft.useMemo)(()=>({open:f.menuState===0}),[f.menuState]),V=Oi(d?v():{},{"aria-activedescendant":f.activeItemIndex===null||(n=f.items[f.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=f.buttonElement)==null?void 0:r.id,id:o,onKeyDown:B,onKeyUp:_,role:"menu",tabIndex:f.menuState===0?0:void 0,ref:w,style:{...c.style,...m,"--button-width":Dp(f.buttonElement,!0).width},...df(k)}),P=ot();return Ft.default.createElement(Vp,{enabled:s?e.static||E:!1},P({ourProps:V,theirProps:c,slot:z,defaultTag:ple,features:mle,visible:M,name:"Menu.Items"}))}var vle=Ft.Fragment;function yle(e,t){let n=(0,Rn.useId)(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,[a,s]=fx("Menu.Item"),l=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===r:!1,u=(0,Ft.useRef)(null),c=Et(t,u);ht(()=>{if(!a.__demoMode&&a.menuState===0&&l&&a.activationTrigger!==0)return ui().requestAnimationFrame(()=>{var M,O;(O=(M=u.current)==null?void 0:M.scrollIntoView)==null||O.call(M,{block:"nearest"})})},[a.__demoMode,u,l,a.menuState,a.activationTrigger,a.activeItemIndex]);let d=tx(u),f=(0,Ft.useRef)({disabled:i,domRef:u,get textValue(){return d()}});ht(()=>{f.current.disabled=i},[f,i]),ht(()=>(s({type:5,id:r,dataRef:f}),()=>s({type:6,id:r})),[f,r]);let h=se(()=>{s({type:1})}),p=se(M=>{if(i)return M.preventDefault();s({type:1}),A4(a.buttonElement)}),m=se(()=>{if(i)return s({type:2,focus:pt.Nothing});s({type:2,focus:pt.Specific,id:r})}),v=Z2(),g=se(M=>{v.update(M),!i&&(l||s({type:2,focus:pt.Specific,id:r,trigger:0}))}),y=se(M=>{v.wasMoved(M)&&(i||l||s({type:2,focus:pt.Specific,id:r,trigger:0}))}),w=se(M=>{v.wasMoved(M)&&(i||l&&s({type:2,focus:pt.Nothing}))}),[x,S]=mf(),[E,k]=ax(),A=(0,Ft.useMemo)(()=>({active:l,focus:l,disabled:i,close:h}),[l,i,h]),T={id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":x,"aria-describedby":E,disabled:void 0,onClick:p,onFocus:m,onPointerEnter:g,onMouseEnter:g,onPointerMove:y,onMouseMove:y,onPointerLeave:w,onMouseLeave:w},R=ot();return Ft.default.createElement(S,null,Ft.default.createElement(k,null,R({ourProps:T,theirProps:o,slot:A,defaultTag:vle,name:"Menu.Item"})))}var ble="div";function wle(e,t){let[n,r]=mf(),i=e,o={ref:t,"aria-labelledby":n,role:"group"},a=ot();return Ft.default.createElement(r,null,a({ourProps:o,theirProps:i,slot:{},defaultTag:ble,name:"Menu.Section"}))}var xle="header";function Ele(e,t){let n=(0,Rn.useId)(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,o=lx();ht(()=>o.register(r),[r,o.register]);let a={id:r,ref:t,role:"presentation",...o.props};return ot()({ourProps:a,theirProps:i,slot:{},defaultTag:xle,name:"Menu.Heading"})}var Sle="div";function Cle(e,t){let n=e,r={ref:t,role:"separator"};return ot()({ourProps:r,theirProps:n,slot:{},defaultTag:Sle,name:"Menu.Separator"})}var Ale=at(dle),Tle=at(hle),kle=at(gle),Dle=at(yle),Mle=at(wle),Rle=at(Ele),Ole=at(Cle),cx=Object.assign(Ale,{Button:Tle,Items:kle,Item:Dle,Section:Mle,Heading:Rle,Separator:Ole}),Ble={root:"alinea-DropdownMenu",trigger:"alinea-DropdownMenu-trigger",items:"alinea-DropdownMenu-items","is-bottom":"alinea-DropdownMenu-is-bottom",isBottom:"alinea-DropdownMenu-is-bottom","is-top":"alinea-DropdownMenu-is-top",isTop:"alinea-DropdownMenu-is-top","is-left":"alinea-DropdownMenu-is-left",isLeft:"alinea-DropdownMenu-is-left","is-right":"alinea-DropdownMenu-is-right",isRight:"alinea-DropdownMenu-is-right",item:"alinea-DropdownMenu-item","is-active":"alinea-DropdownMenu-is-active",isActive:"alinea-DropdownMenu-is-active"},dx=j(Ble),de;(e=>{let t=(0,pv.createContext)(void 0);function n({top:a,bottom:s,left:l,right:u,...c}){let h=_2({whileElementsMounted:O2,strategy:"fixed",placement:`${a?"top":"bottom"}-${l?"end":"start"}`,middleware:[D2(4),k2()]});return(0,Ic.jsx)(t.Provider,{value:h,children:(0,Ic.jsx)(cx,{children:(0,Ic.jsx)("div",{...c,className:dx.root.mergeProps(c)()})})})}e.Root=n;function r(a){let s=(0,pv.useContext)(t);return(0,Ic.jsx)(cx.Button,{ref:s.reference,...a,className:dx.trigger.mergeProps(a)()})}e.Trigger=r;function i(a){let s=(0,pv.useContext)(t);return(0,Ic.jsx)(cx.Items,{...a,ref:s.floating,style:{position:s.strategy,top:`${s.y||0}px`,left:`${s.x||0}px`},className:dx.items.mergeProps(a)()})}e.Items=i;function o(a){return(0,Ic.jsx)(cx.Item,{children:({active:s})=>(0,Ic.jsx)("button",{...a,className:dx.item.mergeProps(a)({active:s})})})}e.Item=o})(de||(de={}));b();var Kz=D($(),1),Nc=D(L(),1),_le={root:"alinea-Pane","root-inner":"alinea-Pane-inner",rootInner:"alinea-Pane-inner",divider:"alinea-Pane-divider","divider-handle":"alinea-Pane-divider-handle",dividerHandle:"alinea-Pane-divider-handle","divider-handle-line":"alinea-Pane-divider-handle-line",dividerHandleLine:"alinea-Pane-divider-handle-line","is-left":"alinea-Pane-is-left",isLeft:"alinea-Pane-is-left","is-right":"alinea-Pane-is-right",isRight:"alinea-Pane-is-right"},mv=j(_le);function Fle({position:e,direction:t,container:n,defaultWidth:r,minWidth:i,maxWidth:o,width:a,setWidth:s}){function l(){let d=document.querySelectorAll("iframe");for(let f of d)f.style.pointerEvents="none";return()=>{for(let f of d)f.style.pointerEvents=""}}let u="is-dragging";function c(d){n.current?.classList.add(u);let f=d.clientX,h=l();function p(m){if(m.preventDefault(),!n?.current)return;let v=a+(m.clientX-f)*t;v<i?v=i:v>o?v=o:f=m.clientX,a=v,n.current.style.width=`${v}px`,s(v)}window.addEventListener("mousemove",p),window.addEventListener("mouseup",()=>{n.current?.classList.remove(u),window.removeEventListener("mousemove",p),h()},{once:!0})}return(0,Nc.jsx)("div",{className:mv.divider(e),onDoubleClick:d=>{d.preventDefault(),a=r,s(r),n.current.style.width=`${r}px`},children:(0,Nc.jsx)("div",{className:mv.divider.handle(),onMouseDown:c,children:(0,Nc.jsx)("div",{className:mv.divider.handle.line()})})})}function ak({id:e,children:t,resizable:n,defaultWidth:r=320,minWidth:i=320,maxWidth:o=1200,...a}){let s=(0,Kz.useRef)(null),l=`@alinea/ui/pane-${e}`,u=Number(window?.localStorage?.getItem(l))||r,c=(0,Nc.jsx)(Fle,{position:n,container:s,minWidth:i,maxWidth:o,defaultWidth:r,direction:n==="left"?-1:1,width:Math.max(u,i),setWidth:d=>{window?.localStorage?.setItem(l,String(d))}});return(0,Nc.jsxs)("div",{...a,className:mv.root.mergeProps(a)(),ref:s,style:{width:u,minWidth:i},children:[n==="left"&&c,(0,Nc.jsx)("div",{className:mv.root.inner(),children:t}),n==="right"&&c]})}b();var hx=D($(),1),$p=(e,t)=>{let n=(0,hx.useRef)(!0);(0,hx.useEffect)(()=>{if(n.current){n.current=!1;return}return e()},t)};var Wp=D($(),1);b();b();var sk=D(L(),1);function px(e){return(0,sk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,sk.jsx)("path",{d:"M15.9814 3.47727V5.07955C14.8773 3.78409 13.2379 3 10.9963 3C6.61338 3 3 6.92045 3 12C3 17.0795 6.61338 21 10.9963 21C13.2379 21 14.8773 20.2159 15.9814 18.9205V20.5227H21V3.47727H15.9814ZM12 16.1591C9.69145 16.1591 8.01859 14.5568 8.01859 12C8.01859 9.44318 9.69145 7.84091 12 7.84091C14.3086 7.84091 15.9814 9.44318 15.9814 12C15.9814 14.5568 14.3086 16.1591 12 16.1591Z",fill:"currentColor"})})}var ou=D(L(),1),Ile={root:"alinea-WorkspaceLabel","root-logo":"alinea-WorkspaceLabel-logo",rootLogo:"alinea-WorkspaceLabel-logo","root-label":"alinea-WorkspaceLabel-label",rootLabel:"alinea-WorkspaceLabel-label"},lk=j(Ile);function mx({label:e,color:t,icon:n}){return(0,ou.jsxs)(K,{center:!0,gap:8,className:lk.root(),children:[(0,ou.jsx)("div",{className:lk.root.logo(),children:(0,ou.jsx)(Pd,{foreground:up(t),background:t,children:(0,ou.jsx)(te,{icon:n??(0,ou.jsx)(px,{})})})}),(0,ou.jsx)("div",{className:lk.root.label(),children:(0,ou.jsx)(Ze,{label:e})})]})}b();b();b();var qp=D($(),1),Yz=D($(),1),kr=D($(),1),Jz=D(Ei(),1);function gx(e,t,n){let[r,i]=(0,qp.useState)(n),o=e!==void 0,a=(0,qp.useRef)(o),s=(0,qp.useRef)(!1),l=(0,qp.useRef)(!1);return o&&!a.current&&!s.current?(s.current=!0,a.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&a.current&&!l.current&&(l.current=!0,a.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,se(u=>(o||i(u),t?.(u)))]}function vx(e){let[t]=(0,Yz.useState)(e);return t}function Wz(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))Qz(n,Gz(t,r),i);return n}function Gz(e,t){return e?e+"["+t+"]":t}function Qz(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())Qz(e,Gz(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Wz(n,t,e)}function yx(e){var t,n;let r=(t=e?.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}var Nle=(0,kr.createContext)(null);function Lle({children:e}){let t=(0,kr.useContext)(Nle);if(!t)return kr.default.createElement(kr.default.Fragment,null,e);let{target:n}=t;return n?(0,Jz.createPortal)(kr.default.createElement(kr.default.Fragment,null,e),n):null}function bx({data:e,form:t,disabled:n,onReset:r,overrides:i}){let[o,a]=(0,kr.useState)(null),s=Vo();return(0,kr.useEffect)(()=>{if(r&&o)return s.addEventListener(o,"reset",r)},[o,t,r]),kr.default.createElement(Lle,null,kr.default.createElement(zle,{setForm:a,formId:t}),Wz(e).map(([l,u])=>kr.default.createElement(ts,{features:es.Hidden,...Tc({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:u,...i})})))}function zle({setForm:e,formId:t}){return(0,kr.useEffect)(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:kr.default.createElement(ts,{features:es.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}var ze=D($(),1),Lc=D(Ei(),1),Xz=D($(),1),Zz=D($(),1);function Ple(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Hle(e=Ple){return(0,Xz.useCallback)((t,n)=>{if(typeof e=="string"){let r=e;return t?.[r]===n?.[r]}return e(t,n)},[e])}function Vle(e,t){let[n,r]=(0,Zz.useState)(t);return!e&&n!==t&&r(t),e?n:t}var Ule=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ule||{}),jle=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(jle||{}),$le=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))($le||{}),qle=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e))(qle||{});function uk(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Za(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}var Kle={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,r,i,o,a;if(e.dataRef.current.disabled||e.listboxState===1)return e;let s={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===pt.Nothing)return{...s,activeOptionIndex:null};if(t.focus===pt.Specific)return{...s,activeOptionIndex:e.options.findIndex(c=>c.id===t.id)};if(t.focus===pt.Previous){let c=e.activeOptionIndex;if(c!==null){let d=e.options[c].dataRef.current.domRef,f=Fc(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(f!==null){let h=e.options[f].dataRef.current.domRef;if(((r=d.current)==null?void 0:r.previousElementSibling)===h.current||((i=h.current)==null?void 0:i.previousElementSibling)===null)return{...s,activeOptionIndex:f}}}}else if(t.focus===pt.Next){let c=e.activeOptionIndex;if(c!==null){let d=e.options[c].dataRef.current.domRef,f=Fc(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(f!==null){let h=e.options[f].dataRef.current.domRef;if(((o=d.current)==null?void 0:o.nextElementSibling)===h.current||((a=h.current)==null?void 0:a.nextElementSibling)===null)return{...s,activeOptionIndex:f}}}}let l=uk(e),u=Fc(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...s,...l,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(a=>{var s;return!a.dataRef.current.disabled&&((s=a.dataRef.current.textValue)==null?void 0:s.startsWith(r))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=uk(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=uk(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},ck=(0,ze.createContext)(null);ck.displayName="ListboxActionsContext";function wx(e){let t=(0,ze.useContext)(ck);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,wx),n}return t}var xx=(0,ze.createContext)(null);xx.displayName="ListboxDataContext";function gv(e){let t=(0,ze.useContext)(xx);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,gv),n}return t}function Yle(e,t){return jt(t.type,Kle,e,t)}var Wle=ze.Fragment;function Gle(e,t){var n;let r=Up(),{value:i,defaultValue:o,form:a,name:s,onChange:l,by:u,invalid:c=!1,disabled:d=r||!1,horizontal:f=!1,multiple:h=!1,__demoMode:p=!1,...m}=e,v=f?"horizontal":"vertical",g=Et(t),y=vx(o),[w=h?[]:void 0,x]=gx(i,l,y),[S,E]=(0,ze.useReducer)(Yle,{dataRef:(0,ze.createRef)(),listboxState:p?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:p}),k=(0,ze.useRef)({static:!1,hold:!1}),A=(0,ze.useRef)(new Map),T=Hle(u),R=(0,ze.useCallback)(pe=>jt(M.mode,{1:()=>w.some(ye=>T(ye,pe)),0:()=>T(w,pe)}),[w]),M=(0,ze.useMemo)(()=>({...S,value:w,disabled:d,invalid:c,mode:h?1:0,orientation:v,compare:T,isSelected:R,optionsPropsRef:k,listRef:A}),[w,d,c,h,S,A]);ht(()=>{S.dataRef.current=M},[M]);let O=M.listboxState===0;Rp(O,[M.buttonElement,M.optionsElement],(pe,ye)=>{var Pe;E({type:1}),eu(ye,Zl.Loose)||(pe.preventDefault(),(Pe=M.buttonElement)==null||Pe.focus())});let B=(0,ze.useMemo)(()=>({open:M.listboxState===0,disabled:d,invalid:c,value:w}),[M,d,w,c]),_=se(pe=>{let ye=M.options.find(Pe=>Pe.id===pe);ye&&Q(ye.dataRef.current.value)}),z=se(()=>{if(M.activeOptionIndex!==null){let{dataRef:pe,id:ye}=M.options[M.activeOptionIndex];Q(pe.current.value),E({type:2,focus:pt.Specific,id:ye})}}),V=se(()=>E({type:0})),P=se(()=>E({type:1})),F=Vo(),U=se((pe,ye,Pe)=>{F.dispose(),F.microTask(()=>pe===pt.Specific?E({type:2,focus:pt.Specific,id:ye,trigger:Pe}):E({type:2,focus:pe,trigger:Pe}))}),I=se((pe,ye)=>(E({type:5,id:pe,dataRef:ye}),()=>E({type:6,id:pe}))),Q=se(pe=>jt(M.mode,{0(){return x?.(pe)},1(){let ye=M.value.slice(),Pe=ye.findIndex(nt=>T(nt,pe));return Pe===-1?ye.push(pe):ye.splice(Pe,1),x?.(ye)}})),N=se(pe=>E({type:3,value:pe})),H=se(()=>E({type:4})),G=se(pe=>{E({type:7,element:pe})}),Y=se(pe=>{E({type:8,element:pe})}),ne=(0,ze.useMemo)(()=>({onChange:Q,registerOption:I,goToOption:U,closeListbox:P,openListbox:V,selectActiveOption:z,selectOption:_,search:N,clearSearch:H,setButtonElement:G,setOptionsElement:Y}),[]),[ae,ce]=mf({inherit:!0}),Ee={ref:g},be=(0,ze.useCallback)(()=>{if(y!==void 0)return x?.(y)},[x,y]),Se=ot();return ze.default.createElement(ce,{value:ae,props:{htmlFor:(n=M.buttonElement)==null?void 0:n.id},slot:{open:M.listboxState===0,disabled:d}},ze.default.createElement(Pp,null,ze.default.createElement(ck.Provider,{value:ne},ze.default.createElement(xx.Provider,{value:M},ze.default.createElement(Hp,{value:jt(M.listboxState,{0:Tr.Open,1:Tr.Closed})},s!=null&&w!=null&&ze.default.createElement(bx,{disabled:d,data:{[s]:w},form:a,onReset:be}),Se({ourProps:Ee,theirProps:m,slot:B,defaultTag:Wle,name:"Listbox"}))))))}var Qle="button";function Jle(e,t){var n;let r=gv("Listbox.Button"),i=wx("Listbox.Button"),o=(0,Rn.useId)(),a=dv(),{id:s=a||`headlessui-listbox-button-${o}`,disabled:l=r.disabled||!1,autoFocus:u=!1,...c}=e,d=Et(t,Np(),i.setButtonElement),f=W2(),h=se(M=>{switch(M.key){case Te.Enter:yx(M.currentTarget);break;case Te.Space:case Te.ArrowDown:M.preventDefault(),(0,Lc.flushSync)(()=>i.openListbox()),r.value||i.goToOption(pt.First);break;case Te.ArrowUp:M.preventDefault(),(0,Lc.flushSync)(()=>i.openListbox()),r.value||i.goToOption(pt.Last);break}}),p=se(M=>{switch(M.key){case Te.Space:M.preventDefault();break}}),m=se(M=>{var O;if(iu(M.currentTarget))return M.preventDefault();r.listboxState===0?((0,Lc.flushSync)(()=>i.closeListbox()),(O=r.buttonElement)==null||O.focus({preventScroll:!0})):(M.preventDefault(),i.openListbox())}),v=se(M=>M.preventDefault()),g=fv([s]),y=ox(),{isFocusVisible:w,focusProps:x}=Xa({autoFocus:u}),{isHovered:S,hoverProps:E}=Hs({isDisabled:l}),{pressed:k,pressProps:A}=Vs({disabled:l}),T=(0,ze.useMemo)(()=>({open:r.listboxState===0,active:k||r.listboxState===0,disabled:l,invalid:r.invalid,value:r.value,hover:S,focus:w,autofocus:u}),[r.listboxState,r.value,l,S,w,k,r.invalid,u]),R=Oi(f(),{ref:d,id:s,type:Us(e,r.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":g,"aria-describedby":y,disabled:l||void 0,autoFocus:u,onKeyDown:h,onKeyUp:p,onKeyPress:v,onClick:m},x,E,A);return ot()({ourProps:R,theirProps:c,slot:T,defaultTag:Qle,name:"Listbox.Button"})}var eP=(0,ze.createContext)(!1),Xle="div",Zle=Ri.RenderStrategy|Ri.Static;function eue(e,t){var n,r;let i=(0,Rn.useId)(),{id:o=`headlessui-listbox-options-${i}`,anchor:a,portal:s=!1,modal:l=!0,transition:u=!1,...c}=e,d=Ip(a),[f,h]=(0,ze.useState)(null);d&&(s=!0);let p=gv("Listbox.Options"),m=wx("Listbox.Options"),v=rs(p.optionsElement),g=pf(),[y,w]=ff(u,f,g!==null?(g&Tr.Open)===Tr.Open:p.listboxState===0);Mp(y,p.buttonElement,m.closeListbox);let x=p.__demoMode?!1:l&&p.listboxState===0;Op(x,v);let S=p.__demoMode?!1:l&&p.listboxState===0;X2(S,{allowed:(0,ze.useCallback)(()=>[p.buttonElement,p.optionsElement],[p.buttonElement,p.optionsElement])});let E=p.listboxState!==0,k=ex(E,p.buttonElement)?!1:y,A=y&&p.listboxState===1,T=Vle(A,p.value),R=se(H=>p.compare(T,H)),M=(0,ze.useMemo)(()=>{var H;if(d==null||!((H=d?.to)!=null&&H.includes("selection")))return null;let G=p.options.findIndex(Y=>R(Y.dataRef.current.value));return G===-1&&(G=0),G},[d,p.options]),O=(()=>{if(d==null)return;if(M===null)return{...d,inner:void 0};let H=Array.from(p.listRef.current.values());return{...d,inner:{listRef:{current:H},index:M}}})(),[B,_]=zp(O),z=Lp(),V=Et(t,d?B:null,m.setOptionsElement,h),P=Vo();(0,ze.useEffect)(()=>{var H;let G=p.optionsElement;G&&p.listboxState===0&&G!==((H=jr(G))==null?void 0:H.activeElement)&&G?.focus({preventScroll:!0})},[p.listboxState,p.optionsElement]);let F=se(H=>{var G,Y;switch(P.dispose(),H.key){case Te.Space:if(p.searchQuery!=="")return H.preventDefault(),H.stopPropagation(),m.search(H.key);case Te.Enter:if(H.preventDefault(),H.stopPropagation(),p.activeOptionIndex!==null){let{dataRef:ne}=p.options[p.activeOptionIndex];m.onChange(ne.current.value)}p.mode===0&&((0,Lc.flushSync)(()=>m.closeListbox()),(G=p.buttonElement)==null||G.focus({preventScroll:!0}));break;case jt(p.orientation,{vertical:Te.ArrowDown,horizontal:Te.ArrowRight}):return H.preventDefault(),H.stopPropagation(),m.goToOption(pt.Next);case jt(p.orientation,{vertical:Te.ArrowUp,horizontal:Te.ArrowLeft}):return H.preventDefault(),H.stopPropagation(),m.goToOption(pt.Previous);case Te.Home:case Te.PageUp:return H.preventDefault(),H.stopPropagation(),m.goToOption(pt.First);case Te.End:case Te.PageDown:return H.preventDefault(),H.stopPropagation(),m.goToOption(pt.Last);case Te.Escape:H.preventDefault(),H.stopPropagation(),(0,Lc.flushSync)(()=>m.closeListbox()),(Y=p.buttonElement)==null||Y.focus({preventScroll:!0});return;case Te.Tab:H.preventDefault(),H.stopPropagation(),(0,Lc.flushSync)(()=>m.closeListbox()),g2(p.buttonElement,H.shiftKey?Jt.Previous:Jt.Next);break;default:H.key.length===1&&(m.search(H.key),P.setTimeout(()=>m.clearSearch(),350));break}}),U=(n=p.buttonElement)==null?void 0:n.id,I=(0,ze.useMemo)(()=>({open:p.listboxState===0}),[p.listboxState]),Q=Oi(d?z():{},{id:o,ref:V,"aria-activedescendant":p.activeOptionIndex===null||(r=p.options[p.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":p.mode===1?!0:void 0,"aria-labelledby":U,"aria-orientation":p.orientation,onKeyDown:F,role:"listbox",tabIndex:p.listboxState===0?0:void 0,style:{...c.style,..._,"--button-width":Dp(p.buttonElement,!0).width},...df(w)}),N=ot();return ze.default.createElement(Vp,{enabled:s?e.static||y:!1},ze.default.createElement(xx.Provider,{value:p.mode===1?p:{...p,isSelected:R}},N({ourProps:Q,theirProps:c,slot:I,defaultTag:Xle,features:Zle,visible:k,name:"Listbox.Options"})))}var tue="div";function nue(e,t){let n=(0,Rn.useId)(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...a}=e,s=(0,ze.useContext)(eP)===!0,l=gv("Listbox.Option"),u=wx("Listbox.Option"),c=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,d=l.isSelected(o),f=(0,ze.useRef)(null),h=tx(f),p=$r({disabled:i,value:o,domRef:f,get textValue(){return h()}}),m=Et(t,f,T=>{T?l.listRef.current.set(r,T):l.listRef.current.delete(r)});ht(()=>{if(!l.__demoMode&&l.listboxState===0&&c&&l.activationTrigger!==0)return ui().requestAnimationFrame(()=>{var T,R;(R=(T=f.current)==null?void 0:T.scrollIntoView)==null||R.call(T,{block:"nearest"})})},[f,c,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),ht(()=>{if(!s)return u.registerOption(r,p)},[p,r,s]);let v=se(T=>{var R;if(i)return T.preventDefault();u.onChange(o),l.mode===0&&((0,Lc.flushSync)(()=>u.closeListbox()),(R=l.buttonElement)==null||R.focus({preventScroll:!0}))}),g=se(()=>{if(i)return u.goToOption(pt.Nothing);u.goToOption(pt.Specific,r)}),y=Z2(),w=se(T=>{y.update(T),!i&&(c||u.goToOption(pt.Specific,r,0))}),x=se(T=>{y.wasMoved(T)&&(i||c||u.goToOption(pt.Specific,r,0))}),S=se(T=>{y.wasMoved(T)&&(i||c&&u.goToOption(pt.Nothing))}),E=(0,ze.useMemo)(()=>({active:c,focus:c,selected:d,disabled:i,selectedOption:d&&s}),[c,d,i,s]),k=s?{}:{id:r,ref:m,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:v,onFocus:g,onPointerEnter:w,onMouseEnter:w,onPointerMove:x,onMouseMove:x,onPointerLeave:S,onMouseLeave:S},A=ot();return!d&&s?null:A({ourProps:k,theirProps:a,slot:E,defaultTag:tue,name:"Listbox.Option"})}var rue=ze.Fragment;function iue(e,t){let{options:n,placeholder:r,...i}=e,o={ref:Et(t)},a=gv("ListboxSelectedOption"),s=(0,ze.useMemo)(()=>({}),[]),l=a.value===void 0||a.value===null||a.mode===1&&Array.isArray(a.value)&&a.value.length===0,u=ot();return ze.default.createElement(eP.Provider,{value:!0},u({ourProps:o,theirProps:{...i,children:ze.default.createElement(ze.default.Fragment,null,r&&l?r:n)},slot:s,defaultTag:rue,name:"ListboxSelectedOption"}))}var oue=at(Gle),aue=at(Jle),sue=ux,lue=at(eue),uue=at(nue),cue=at(iue),Qs=Object.assign(oue,{Button:aue,Label:sue,Options:lue,Option:uue,SelectedOption:cue});b();var dk=D(L(),1);function tP(e){return(0,dk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,dk.jsx)("path",{fill:"currentColor",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"})})}var qo=D(L(),1),due={langswitch:"alinea-LangSwitch-langswitch","is-inline":"alinea-LangSwitch-is-inline",isInline:"alinea-LangSwitch-is-inline","langswitch-input":"alinea-LangSwitch-langswitch-input",langswitchInput:"alinea-LangSwitch-langswitch-input","langswitch-input-label":"alinea-LangSwitch-langswitch-input-label",langswitchInputLabel:"alinea-LangSwitch-langswitch-input-label","is-placeholder":"alinea-LangSwitch-is-placeholder",isPlaceholder:"alinea-LangSwitch-is-placeholder","langswitch-input-icon":"alinea-LangSwitch-langswitch-input-icon",langswitchInputIcon:"alinea-LangSwitch-langswitch-input-icon","is-lang":"alinea-LangSwitch-is-lang",isLang:"alinea-LangSwitch-is-lang","langswitch-dropdown":"alinea-LangSwitch-langswitch-dropdown",langswitchDropdown:"alinea-LangSwitch-langswitch-dropdown","langswitch-dropdown-inner":"alinea-LangSwitch-langswitch-dropdown-inner",langswitchDropdownInner:"alinea-LangSwitch-langswitch-dropdown-inner","langswitch-dropdown-option":"alinea-LangSwitch-langswitch-dropdown-option",langswitchDropdownOption:"alinea-LangSwitch-langswitch-dropdown-option","is-active":"alinea-LangSwitch-is-active",isActive:"alinea-LangSwitch-is-active","is-selected":"alinea-LangSwitch-is-selected",isSelected:"alinea-LangSwitch-is-selected","langswitch-dropdown-option-icon":"alinea-LangSwitch-langswitch-dropdown-option-icon",langswitchDropdownOptionIcon:"alinea-LangSwitch-langswitch-dropdown-option-icon"},zc=j(due);function Kp({selected:e,locales:t,onChange:n,inline:r}){return(0,qo.jsx)("div",{className:zc.langswitch({inline:r}),children:(0,qo.jsx)(Qs,{value:e,onChange:i=>{i&&n(i)},children:(0,qo.jsxs)("div",{children:[(0,qo.jsxs)(Qs.Button,{className:zc.langswitch.input({active:t.length>0}),children:[(0,qo.jsx)(te,{icon:tP,className:zc.langswitch.input.icon({lang:!0})}),(0,qo.jsx)("span",{className:zc.langswitch.input.label(),children:e}),t.length>0&&(0,qo.jsx)(te,{icon:Ar,className:zc.langswitch.input.icon()})]}),t.length>0&&(0,qo.jsx)(Qs.Options,{className:zc.langswitch.dropdown(),children:(0,qo.jsx)("div",{className:zc.langswitch.dropdown.inner(),children:t.map(i=>(0,qo.jsx)(Qs.Option,{value:i,children:({active:o,selected:a})=>(0,qo.jsx)(K,{center:!0,gap:4,className:zc.langswitch.dropdown.option({active:o,selected:a}),children:i.toUpperCase()})},i))})})]})})})}var Tt=D(L(),1),fue=function(e,t,n){function r(){a.current&&clearTimeout(a.current),a.current=void 0}function i(){a.current=void 0}t===void 0&&(t=100),n===void 0&&(n=0);var o=x2(e),a=(0,Pc.useRef)(),s=[t,n,o];return(0,Pc.useEffect)(()=>r,s),(0,Pc.useCallback)(function(){var l=arguments,{current:u}=a;if(u===void 0&&n)return a.current=setTimeout(i,t),o.current.apply(null,l);u&&clearTimeout(u),a.current=setTimeout(()=>{a.current=void 0,o.current.apply(null,l)},t)},s)},hue=(e,t,n)=>{var r=(0,Pc.useState)(e);return[r[0],fue(r[1],t,n)]};function fk(e,t,n,r){var i=(0,Yp.useRef)(n),o=(0,Yp.useRef)(r);(0,Yp.useEffect)(()=>{i.current=n,o.current=r}),(0,Yp.useEffect)(()=>{function a(){if(!l){for(var c=arguments.length,d=new Array(c),f=0;c>f;f++)d[f]=arguments[f];i.current.apply(this,d)}}var s=e&&"current"in e?e.current:e;if(s){var l=0;s.addEventListener(t,a);var u=o.current;return()=>{l=1,s.removeEventListener(t,a),u&&u()}}},[e,t])}var pue={},vv=typeof window>"u"?null:window,mue=vv&&vv.visualViewport!==void 0?vv.visualViewport:null,nP=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],gue=function(e){e===void 0&&(e=pue);var{wait:t,leading:n,initialWidth:r=0,initialHeight:i=0}=e,[o,a]=hue(typeof document>"u"?[r,i]:nP,t,n),s=()=>a(nP);return fk(vv,"resize",s),fk(mue,"resize",s),fk(vv,"orientationchange",s),o},vue=e=>gue(e)[0],yue={root:"alinea-Sidebar",collapse:"alinea-Sidebar-collapse","is-left":"alinea-Sidebar-is-left",isLeft:"alinea-Sidebar-is-left","is-right":"alinea-Sidebar-is-right",isRight:"alinea-Sidebar-is-right","is-open":"alinea-Sidebar-is-open",isOpen:"alinea-Sidebar-is-open","collapse-inner":"alinea-Sidebar-collapse-inner",collapseInner:"alinea-Sidebar-collapse-inner","collapse-overlay":"alinea-Sidebar-collapse-overlay",collapseOverlay:"alinea-Sidebar-collapse-overlay","nav-inner":"alinea-Sidebar-nav-inner",navInner:"alinea-Sidebar-nav-inner","nav-container":"alinea-Sidebar-nav-container",navContainer:"alinea-Sidebar-nav-container","nav-menu":"alinea-Sidebar-nav-menu",navMenu:"alinea-Sidebar-nav-menu","nav-menu-item":"alinea-Sidebar-nav-menu-item",navMenuItem:"alinea-Sidebar-nav-menu-item","nav-menu-item-bg":"alinea-Sidebar-nav-menu-item-bg",navMenuItemBg:"alinea-Sidebar-nav-menu-item-bg","is-selected":"alinea-Sidebar-is-selected",isSelected:"alinea-Sidebar-is-selected","nav-portal":"alinea-Sidebar-nav-portal",navPortal:"alinea-Sidebar-nav-portal",navHeader:"alinea-Sidebar-navHeader","navHeader-workspace":"alinea-Sidebar-navHeader-workspace",navHeaderWorkspace:"alinea-Sidebar-navHeader-workspace"},Ko=j(yue),Yo;(e=>{let t=wc(),n=(0,Wp.createContext)(void 0);function r(){let[d,f]=(0,Wp.useContext)(n);return{isNavOpen:d.nav,isPreviewOpen:d.preview,toggleNav:()=>f("nav"),togglePreview:()=>f("preview")}}e.use=r;function i(d,f){return typeof f=="string"?{...d,[f]:!d[f]}:{...d,...f}}function o(d,f){let h={nav:!1,preview:!1};return typeof f=="string"?{...h,[f]:!d[f]}:{...h,...f}}function a({children:d}){let f=vue(),h=f>=1024,p=f<768,[m,v]=(0,Wp.useReducer)(h?i:o,{nav:!0,preview:h}),{name:g}=hr();return $p(()=>{p&&v({nav:!0})},[p,g]),(0,Tt.jsx)(t.Provider,{children:(0,Tt.jsx)(n.Provider,{value:[m,v],children:d})})}e.Provider=a;function s({children:d,...f}){return(0,Tt.jsx)(t.Slot,{children:d})}e.Tree=s;function l({children:d}){let{isPreviewOpen:f,togglePreview:h}=r();return(0,Tt.jsxs)("div",{className:Ko.collapse("right",{open:f}),children:[(0,Tt.jsx)("div",{className:Ko.collapse.overlay(),onClick:h}),f&&(0,Tt.jsx)(ak,{id:"preview",resizable:"left",className:Ko.collapse.inner(),children:d})]})}e.Preview=l;function u(){let d=Hn(),f=sn(),h=hr(),p=li(),m=le(f.workspaces),v=fr(),g=Vt(),y=vp(),w={root:p.name,workspace:h.name,...y};return(0,Tt.jsxs)(K,{as:"header",center:!0,gap:12,className:Ko.navHeader(),children:[m.length>1?(0,Tt.jsxs)(de.Root,{bottom:!0,children:[(0,Tt.jsx)(de.Trigger,{children:(0,Tt.jsxs)(K,{center:!0,gap:4,children:[(0,Tt.jsx)(mx,{label:h.label,color:h.color,icon:h.icon}),(0,Tt.jsx)(te,{icon:Ar})]})}),(0,Tt.jsx)(de.Items,{children:m.map(([x,S])=>{let{roots:E,label:k,color:A,icon:T}=Gt.data(S),[R,M]=le(E)[0];return(0,Tt.jsx)(de.Item,{onClick:()=>v(g.entry({workspace:x,root:R,locale:Dn.defaultLocale(M)})),children:(0,Tt.jsx)(mx,{label:k,color:A,icon:T})},x)})})]}):(0,Tt.jsx)("a",{...zo(g.root({workspace:h.name})),className:Ko.navHeader.workspace(),children:(0,Tt.jsx)(mx,{label:h.label,color:h.color,icon:h.icon})}),(0,Tt.jsx)(Vr.Right,{children:p.i18n&&(0,Tt.jsx)(Kp,{selected:d,locales:p.i18n.locales,onChange:x=>{v(g.entry({...w,locale:x}))}})})]})}function c({children:d}){let{isNavOpen:f,toggleNav:h}=r();return(0,Tt.jsxs)("div",{className:Ko.collapse("left",{open:f}),children:[(0,Tt.jsx)("div",{className:Ko.collapse.overlay(),onClick:h}),(0,Tt.jsx)(ak,{id:"content-tree",resizable:"right",defaultWidth:360,minWidth:200,children:(0,Tt.jsxs)("div",{className:Ko.nav.inner(),children:[(0,Tt.jsx)(u,{}),(0,Tt.jsxs)("div",{className:Ko.nav.container(),children:[(0,Tt.jsx)("nav",{className:Ko.nav.menu(),children:d}),(0,Tt.jsx)(t.Portal,{className:Ko.nav.portal()})]})]})})]})}e.Nav=c,(d=>{function f({children:h,selected:p,badge:m,...v}){return(0,Tt.jsx)("a",{...v,...zo(v.href),className:Ko.nav.menu.item.mergeProps(v)({selected:p}),children:(0,Tt.jsx)("div",{className:Ko.nav.menu.item.bg(),children:(0,Tt.jsx)(TL,{amount:m,right:-4,bottom:-3,children:h})})})}d.Item=f})(c=e.Nav||(e.Nav={}))})(Yo||(Yo={}));var Gp=Yo.use;var hk=D(L(),1),bue={root:"alinea-Preview"},wue=j(bue);function rP({children:e}){return(0,hk.jsx)(Yo.Preview,{children:(0,hk.jsx)("div",{className:wue.root(),children:e})})}b();b();function pk(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!pk(e[n],t[n]))return!1;return!0}if(typeof e=="object"&&typeof t=="object"){let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!pk(e[r],t[r]))return!1;return!0}return!1}function xue(e,t,n){let r=e.length,i=t.length,o=Array.from(Array(r+1),()=>Array(i+1));for(let a=0;a<=r;a++)for(let s=0;s<=i;s++)a===0||s===0?o[a][s]=0:n(e[a-1],t[s-1])?o[a][s]=1+o[a-1][s-1]:o[a][s]=Math.max(o[a-1][s],o[a][s-1]);return o}function Ex(e,t,n){let r=xue(e,t,n),i=[],o=e.length,a=t.length;for(;o!==0||a!==0;)o===0?(i.push({type:"addition",value:t[a-1]}),a-=1):a===0?(i.push({type:"removal",value:e[o-1]}),o-=1):n(e[o-1],t[a-1])?(i.push({type:"keep",old:e[o-1],value:t[a-1]}),o-=1,a-=1):r[o-1][a]<=r[o][a-1]?(i.push({type:"addition",value:t[a-1]}),a-=1):(i.push({type:"removal",value:e[o-1]}),o-=1);return i.reverse()}function Hc(e,t,n){return Object.entries(e.shapes).filter(([i,o])=>o instanceof on?t?.[i]!==n?.[i]:!pk(t?.[i],n?.[i]))}b();b();b();b();var oP="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",aP="A00000000000000000000000000",Eue="a0";function Qp(e,t,n){if(t!==null&&e>=t)throw new Error(`${e} >= ${t}`);if(e.slice(-1)==="0"||t&&t.slice(-1)==="0")throw new Error("trailing zero");if(t){let o=0;for(;(e[o]||"0")===t[o];)o++;if(o>0)return t.slice(0,o)+Qp(e.slice(o),t.slice(o),n)}let r=e?n.indexOf(e[0]):0,i=t!==null?n.indexOf(t[0]):n.length;if(i-r>1){let o=Math.round(.5*(r+i));return n[o]}return t&&t.length>1?t.slice(0,1):n[r]+Qp(e.slice(1),null,n)}function sP(e){if(e.length!==lP(e[0]))throw new Error(`invalid integer part of order key: ${e}`)}function lP(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-97+2;if(e>="A"&&e<="Z")return 90-e.charCodeAt(0)+2;throw new Error(`invalid order key head: ${e}`)}function yv(e){let t=lP(e[0]);if(t>e.length)throw new Error(`invalid order key: ${e}`);return e.slice(0,t)}function mk(e){if(e===aP)throw new Error(`invalid order key: ${e}`);let t=yv(e);if(e.slice(t.length).slice(-1)==="0")throw new Error(`invalid order key: ${e}`)}function uP(e){try{return mk(e),!0}catch{return!1}}function iP(e,t){sP(e);let[n,...r]=e.split(""),i=!0;for(let o=r.length-1;i&&o>=0;o--){let a=t.indexOf(r[o])+1;a===t.length?r[o]="0":(r[o]=t[a],i=!1)}if(i){if(n==="Z")return"a0";if(n==="z")return null;let o=String.fromCharCode(n.charCodeAt(0)+1);return o>"a"?r.push("0"):r.pop(),o+r.join("")}return n+r.join("")}function Sue(e,t){sP(e);let[n,...r]=e.split(""),i=!0;for(let o=r.length-1;i&&o>=0;o--){let a=t.indexOf(r[o])-1;a===-1?r[o]=t.slice(-1):(r[o]=t[a],i=!1)}if(i){if(n==="a")return`Z${t.slice(-1)}`;if(n==="A")return null;let o=String.fromCharCode(n.charCodeAt(0)-1);return o<"Z"?r.push(t.slice(-1)):r.pop(),o+r.join("")}return n+r.join("")}function Wo(e,t,n=oP){if(e!==null&&mk(e),t!==null&&mk(t),e!==null&&t!==null&&e>=t)throw new Error(`${e} >= ${t}`);if(e===null){if(t===null)return Eue;let l=yv(t),u=t.slice(l.length);if(l===aP)return l+Qp("",u,n);if(l<t)return l;let c=Sue(l,n);if(c===null)throw new Error("cannot decrement any more");return c}if(t===null){let l=yv(e),u=e.slice(l.length),c=iP(l,n);return c===null?l+Qp(u,null,n):c}let r=yv(e),i=e.slice(r.length),o=yv(t),a=t.slice(o.length);if(r===o)return r+Qp(i,a,n);let s=iP(r,n);if(s===null)throw new Error("cannot increment any more");return s<t?s:r+Qp(i,null,n)}function Jp(e,t,n,r=oP){if(n===0)return[];if(n===1)return[Wo(e,t,r)];if(t===null){let a=Wo(e,t,r),s=[a];for(let l=0;l<n-1;l++)a=Wo(a,t,r),s.push(a);return s}if(e===null){let a=Wo(e,t,r),s=[a];for(let l=0;l<n-1;l++)a=Wo(e,a,r),s.push(a);return s.reverse(),s}let i=Math.floor(n/2),o=Wo(e,t,r);return[...Jp(e,o,i,r),o,...Jp(o,t,n-i-1,r)]}var ge;(e=>{e.id="_id",e.index="_index",e.type="_type"})(ge||(ge={}));function Cue(e,t){return e[ge.index]<t[ge.index]?-1:e[ge.index]>t[ge.index]?1:0}var Sx=class{constructor(e,t,n,r){this.label=e,this.initialValue=n,this.postProcess=r,this.shapes=Object.fromEntries(Object.entries(t).map(([i,o])=>[i,new ao(e,{[ge.id]:new on("Id"),[ge.index]:new on("Index"),[ge.type]:new on("Type"),...o.shapes})]))}shapes;create(){return this.initialValue??[]}toV1(e){return Array.isArray(e)?e.map(this.normalizeRow).filter(Boolean):[]}normalizeRow=e=>{if(ge.type in e)return e;let{id:t,type:n,index:r,...i}=e;if(!t||!n)return;let a=this.shapes[n].toV1(i);return{[ge.type]:n,[ge.id]:t,[ge.index]:r,...a}};toY(e){let t=new $a,n=Array.isArray(e)?e:[],r=null;for(let i of n){let o=this.shapes[i[ge.type]];o&&(r=Wo(r,null),t.set(i[ge.id],o.toY({...i,[ge.index]:r})))}return t}fromY(e){let t=[];if(!e||typeof e.keys!="function")return t;for(let n of e.keys()){let r=e.get(n);if(!r||typeof r.get!="function")continue;let i=r.get(ge.type),o=this.shapes[i];o&&t.push(o.fromY(r))}return t.sort(Cue),t}applyY(e,t,n){if(!Array.isArray(e))return;let r=t.get(n);if(!r)return void t.set(n,this.toY(e));let i=new Set(r.keys()),o=new Set(e.map(u=>u[ge.id])),a=[...i].filter(u=>!o.has(u)),s=[...o].filter(u=>!i.has(u)),l=[...o].filter(u=>i.has(u));for(let u of a)r.delete(u);for(let u of s){let c=e.find(h=>h[ge.id]===u);if(!c)continue;let d=c[ge.type],f=this.shapes[d];f&&r.set(u,f.toY(c))}for(let u of l){let c=e.find(m=>m[ge.id]===u);if(!c)continue;let d=c[ge.type],f=r.get(u);if(!f)continue;if(f.get(ge.type)!==d){r.delete(u),r.set(u,this.shapes[d].toY(c));continue}let p=this.shapes[d];p&&p.applyY(c,r,u)}}init(e,t){e.has(t)||e.set(t,this.toY(this.create()))}watch(e,t){let n=e.get(t);return r=>{function i(o,a){for(let s of o)s.target===n&&r(),s instanceof ST&&s.keysChanged.has(ge.index)&&r()}return n.observeDeep(i),()=>{n.unobserveDeep(i)}}}mutator(e,t){let n={replace:(r,i)=>{let o=e.get(t),s=this.fromY(o).findIndex(l=>l[ge.id]===r);n.remove(r),n.push(i,s)},push:(r,i)=>{let o=r[ge.type],a=this.shapes[o],s=e.get(t),l=this.fromY(s),u=Qt(),c=i===void 0?l.length-1:i-1,d=c+1,f=l[c]?.[ge.index]||null,h=l[d]?.[ge.index]||null,p=a.toY({...a.create(),...r,[ge.id]:u,[ge.index]:Wo(f,h)});s.set(u,p)},remove(r){e.get(t).delete(r)},move:(r,i)=>{let o=e.get(t),a=this.fromY(o),s=a[r],l=a.filter(m=>m[ge.id]!==s[ge.id]),u=l[i-1],c=l[i],d=u?.[ge.index]||null,f=c?.[ge.index]||null,h=Wo(d,f);o.get(s[ge.id]).set(ge.index,h)},read:r=>{let i=e.get(t);return this.fromY(i).find(a=>a._id===r)}};return n}async applyLinks(e,t){let n=[];if(Array.isArray(e)){for(let r of e){let i=r[ge.type],o=this.shapes[i];o&&n.push(o.applyLinks(r,t))}await Promise.all(n),this.postProcess&&await this.postProcess(e,t)}}searchableText(e){let t="",n=Array.isArray(e)?e:[];for(let r of n){let i=r[ge.id],o=r[ge.type],a=this.shapes[o];!i||!o||!a||(t+=a.searchableText(r))}return t}};b();function cP(e){if(e instanceof CT)return[];if(e instanceof Di)return e.toDelta().map(o=>{let a={[De.type]:"text",[Ha.text]:o.insert};return o.attributes&&(a.marks=Object.keys(o.attributes).map(s=>{let l=o.attributes[s],u={[Os.type]:s};if(l)for(let[c,d]of Object.entries(l))typeof d=="string"&&(c.startsWith("data-")?u[`_${c.slice(5)}`]=d:u[c]=d);return u})),a});let t={[De.type]:e.nodeName};if(typeof e.getAttributes!="function")return t;let n=e.getAttributes();n&&Object.keys(n).length&&Object.assign(t,n);let r=e.toArray();return r.length&&(t.content=r.flatMap(cP)),t}function gk(e){return Object.fromEntries(e.map(t=>{let{[Os.type]:n,...r}=t,i=Object.fromEntries(Object.entries(r).map(([o,a])=>o.startsWith("_")?[`data-${o.slice(1)}`,a]:[o,a]));return[n,i]}))}function dP(e){let t=[];for(let n of e)if(De.isText(n)){let r=n[Ha.text],i=n[Ha.marks],o=new Di;r&&o.insert(0,r,i&&gk(i)),t.push(o)}else if(De.isElement(n)){let{[De.type]:r,[uc.content]:i,...o}=n,a=new ki(r);for(let s in o){let l=o[s];l&&a.setAttribute(s,l)}i&&a.insert(0,dP(i)),t.push(a)}else if(De.isBlock(n)){let r=new ki(n[De.type]);r.setAttribute(rn.id,n[rn.id]),t.push(r)}return t}var Aue={url:W.url,location:an.location},Cx=class{constructor(e,t,n,r){this.label=e,this.shapes=t,this.initialValue=n,this.searchable=r,this.blocks=t?Rt(le(t).map(([i,o])=>[i,new ao(o.label,{[De.type]:new on("Type"),[rn.id]:new on("Id"),...o.shapes})])):{}}blocks;create(){return this.initialValue??[]}toXml(e){return dP(e)}toV1(e){return Array.isArray(e)?e.map(this.normalizeRow):[]}normalizeRow=e=>{if(De.type in e)return e;let{type:t,...n}=e;if(t==="text"){let s={[De.type]:"text",[Ha.text]:n.text};return n.marks?{...s,[Ha.marks]:n.marks.map(l=>{let{type:u,attrs:c}=l;if(u!=="link")return{[Os.type]:u,...c};let{"data-id":d,"data-entry":f,"data-type":h,...p}=c,m={};u&&(m[Os.type]=u),d&&(m[lc.id]=d),f&&(m[lc.entry]=f),h&&(m[lc.link]=h);for(let[v,g]of le(p))typeof g=="string"&&(m[v]=p[v]);return m})}:s}let r=this.blocks[t];if(r)return{[De.type]:t,[rn.id]:n.id,...r.toV1(n)};let{content:i,...o}=n;t==="heading"&&o.textAlign==="left"&&(o.textAlign=void 0);let a={[De.type]:t,...o};return i&&(a[uc.content]=i.map(this.normalizeRow)),a};toY(e){let t=new $a,n=new sp;t.set("$text",n);let r=this.blocks;if(!Array.isArray(e))return t;for(let i of e){if(!De.isBlock(i))continue;let o=r[i[De.type]];t.set(i[rn.id],o.toY(i))}return n.insert(0,this.toXml(e)),t}fromY(e){if(!e)return[];let t=e.get("$text"),n=this.blocks??{},r=t?.toArray()?.flatMap(cP)||[],[i]=r;return r.length===1&&De.isElement(i)&&i[De.type]==="paragraph"&&i[uc.content]?.length===0?[]:r.map(a=>{if(De.isBlock(a)){let s=n[a[De.type]];if(s)return{[De.type]:a[De.type],[rn.id]:a[rn.id],...s.fromY(e.get(a[rn.id]))}}return De.isElement(a)&&a[De.type]==="heading"&&a.textAlign==="left"&&(a.textAlign=void 0),a})}applyY(e,t,n){let r=t.get(n);if(!r||!e)return void t.set(n,this.toY(e));let i=e.filter(De.isBlock),o=new Set([...r.keys()].filter(p=>p!=="$text")),a=new Set(i.map(p=>p[rn.id])),s=[...o].filter(p=>!a.has(p)),l=[...a].filter(p=>!o.has(p)),u=[...a].filter(p=>o.has(p));for(let p of s)r.delete(p);for(let p of l){let m=i.find(y=>y[rn.id]===p);if(!m)continue;let v=m[De.type],g=this.blocks[v];g&&r.set(p,g.toY(m))}for(let p of u){let m=i.find(x=>x[rn.id]===p);if(!m)continue;let v=m[De.type],g=r.get(p);if(!g)continue;if(g.get(De.type)!==v){r.delete(p),r.set(p,this.blocks[v].toY(m));continue}let w=this.blocks[v];w&&w.applyY(m,r,p)}function c(p,m){let{text:v="",marks:g=[]}=m,y=yc.prototype.toString.call(p);v===y?p.format(0,p.length,gk(g)):(p.delete(0,p.length),p.insert(0,v,gk(g)))}let d=(p,m)=>{let{[De.type]:v,content:g,...y}=m,w=It(y);for(let x of It(y))p.setAttribute(x,y[x]);for(let x of It(p.getAttributes()))w.includes(x)||p.removeAttribute(x);h(p,g??[])},f=(p,m)=>{p.setAttribute(rn.id,m[rn.id])},h=(p,m)=>{let v=0;for(;v<m.length;v++){let g=m[v],y=p.get(v);if(!y){p.insert(v,this.toXml([g]));continue}let w=y instanceof Di?"text":y.nodeName,x=g[De.type];if(w!==x){p.delete(v),p.insert(v,this.toXml([g]));continue}De.isText(g)?c(y,g):De.isElement(g)?d(y,g):De.isBlock(g)&&f(y,g)}for(;p.length>v;)p.delete(v)};h(r.get("$text"),e)}init(e,t){e.has(t)||e.set(t,this.toY(this.create()))}watch(e,t){let n=e.get(t);return r=>{let i=(o,a)=>{a.origin!=="self"&&r()};return n.observeDeep(i),()=>n.unobserveDeep(i)}}mutator(e,t){let n=e.get(t);return{map:n,fragment:n.get("$text"),insert:(r,i)=>{if(!this.blocks)throw new Error("No types defined");let o=this.blocks[i];n.set(r,o.toY({...o.create(),[De.type]:i,[rn.id]:r}))}}}async applyLinks(e,t){if(!Array.isArray(e))return;let n=new Map;fP(e,i=>{if(i[Os.type]!=="link")return;let o=i[lc.entry];typeof o=="string"&&n.set(i,o)});async function r(){let i=Array.from(new Set(n.values())),o=await t.resolveLinks(Aue,i),a=new Map(i.map((s,l)=>[s,o[l]]));for(let[s,l]of n){let u=s[lc.link],c=a.get(l);c&&(s.href=u==="file"?c.location:c.url)}}await Promise.all([r()].concat(e.flatMap(i=>{if(!this.blocks||!De.isBlock(i))return[];let o=this.blocks[i[De.type]];return o?[o.applyLinks(i,t)]:[]})))}searchableText(e){return!this.searchable||!Array.isArray(e)?"":e.reduce((n,r)=>n+this.textOf(r),"")}textOf(e){if(De.isText(e))return e.text?` ${e.text}`:"";if(De.isElement(e)&&e.content)return e.content.reduce((t,n)=>t+this.textOf(n),"");if(De.isBlock(e)){let t=this.blocks[e[De.type]];if(t)return t.searchableText(e)}return""}};function fP(e,t){for(let n of e)De.isText(n)?n.marks?.forEach(t):De.isElement(n)&&n.content&&fP(n.content,t)}b();var Yr;(e=>{e.id="_id",e.type="_type"})(Yr||(Yr={}));var Ax=class{constructor(e,t,n,r){this.label=e,this.initialValue=n,this.postProcess=r,this.shapes=Rt(le(t).map(([i,o])=>[i,new ao(e,{[Yr.id]:new on("Id"),[Yr.type]:new on("Type"),...o.shapes})]))}shapes;create(){return this.initialValue??{}}toY(e){Array.isArray(e)?e=e[0]??{}:e=e??{};let t=e[Yr.type],n=this.shapes[t],r=e||{},i=new $a;if(i.set(Yr.type,t),i.set(Yr.id,e[Yr.id]||Qt()),!n)return i;for(let[o,a]of le(n.shapes))i.set(o,a.toY(r[o]));return i}fromY(e){if(!e||typeof e.get!="function")return{};let t=e.get(Yr.type),n=this.shapes[t];return n?n.fromY(e):{}}applyY(e,t,n){let r=t.get(n);if(!r||!e)return void t.set(n,this.toY(e));let i=r.get(Yr.type);if(i!==e[Yr.type])return void t.set(n,this.toY(e));let o=this.shapes[i];o&&o.applyY(e,t,n)}init(e,t){e.has(t)||e.set(t,this.toY(this.create()))}watch(e,t){return n=>{let r=(i,o)=>{if(o.origin==="self")return;let a=e.get(t);for(let s of i)if(s.target===e&&s.keys.has(t)||s.target===a)return n()};return e.observeDeep(r),()=>e.unobserveDeep(r)}}mutator(e,t){return{replace:n=>{if(!n)return e.set(t,null);let r=n[Yr.type],i=this.shapes[r];if(!i)throw new Error(`Could not find type "${r}"`);i.applyY(n,e,t)}}}async applyLinks(e,t){if(!e)return;let n=e[Yr.type];if(!n)return;let r=this.shapes[n];if(!r)return;let i=[];r&&i.push(r.applyLinks(e,t)),await Promise.all(i),this.postProcess&&await this.postProcess(e,t)}toV1(e){if(Array.isArray(e)&&(e=e[0]??{}),!e)return{};if(Yr.type in e)return e;let{id:t,type:n,...r}=e;if(!t||!n)return{};let i=this.shapes[n];return i?{[Yr.type]:n,[Yr.id]:t,...i.toV1(r)}:{}}searchableText(e){let t="";Array.isArray(e)?e=e[0]??{}:e=e??{};let n=e[Yr.type],r=this.shapes[n],i=e||{};if(!r)return"";for(let[o,a]of le(r.shapes))t+=a.searchableText(i[o]);return t}};b();b();b();var vk=D(L(),1);function hP(e){return(0,vk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,vk.jsx)("path",{fill:"currentColor",d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z"})})}var bv=D(L(),1),Tue={root:"alinea-ChangeBox","root-content":"alinea-ChangeBox-content",rootContent:"alinea-ChangeBox-content","is-equal":"alinea-ChangeBox-is-equal",isEqual:"alinea-ChangeBox-is-equal","is-addition":"alinea-ChangeBox-is-addition",isAddition:"alinea-ChangeBox-is-addition","is-removal":"alinea-ChangeBox-is-removal",isRemoval:"alinea-ChangeBox-is-removal","root-header":"alinea-ChangeBox-header",rootHeader:"alinea-ChangeBox-header"},pP=j(Tue);function Vc({change:e,children:t}){return(0,bv.jsx)(K,{gap:8,className:pP.root(e),children:e!=="equal"?(0,bv.jsx)("div",{className:pP.root.content(),children:t}):(0,bv.jsx)(K,{center:!0,justify:"center",full:!0,children:(0,bv.jsx)(te,{icon:hP})})})}var wv=D(L(),1);function mP({FieldsDiff:e,shape:t,valueA:n,valueB:r}){let o=Ex(n||[],r||[],(a,s)=>a._id===s._id);return(0,wv.jsx)(xt.Root,{children:o.map((a,s)=>{let l=a.value,u=t.shapes[l[ge.type]],c=a.type==="keep"?[a.old,a.value]:a.type==="removal"?[a.value,{}]:[{},a.value],d=Hc(u,c[0],c[1]);return d.length===0?(0,wv.jsx)(Vc,{change:"equal"},s):(0,wv.jsx)(Vc,{change:a.type,children:(0,wv.jsx)(e,{changes:d,targetA:c[0],targetB:c[1]})},s)})})}b();var xP=D($(),1);b();pd();var bP=D($(),1),xv=D(L(),1),kue=Ir({"node_modules/diff-match-patch/index.js"(e,t){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},r=-1,i=1,o=0;n.Diff=function(a,s){return[a,s]},n.prototype.diff_main=function(a,s,l,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var c=u;if(a==null||s==null)throw new Error("Null input. (diff_main)");if(a==s)return a?[new n.Diff(o,a)]:[];typeof l>"u"&&(l=!0);var d=l,f=this.diff_commonPrefix(a,s),h=a.substring(0,f);a=a.substring(f),s=s.substring(f),f=this.diff_commonSuffix(a,s);var p=a.substring(a.length-f);a=a.substring(0,a.length-f),s=s.substring(0,s.length-f);var m=this.diff_compute_(a,s,d,c);return h&&m.unshift(new n.Diff(o,h)),p&&m.push(new n.Diff(o,p)),this.diff_cleanupMerge(m),m},n.prototype.diff_compute_=function(a,s,l,u){var c;if(!a)return[new n.Diff(i,s)];if(!s)return[new n.Diff(r,a)];var d=a.length>s.length?a:s,f=a.length>s.length?s:a,h=d.indexOf(f);if(h!=-1)return c=[new n.Diff(i,d.substring(0,h)),new n.Diff(o,f),new n.Diff(i,d.substring(h+f.length))],a.length>s.length&&(c[0][0]=c[2][0]=r),c;if(f.length==1)return[new n.Diff(r,a),new n.Diff(i,s)];var p=this.diff_halfMatch_(a,s);if(p){var m=p[0],v=p[1],g=p[2],y=p[3],w=p[4],x=this.diff_main(m,g,l,u),S=this.diff_main(v,y,l,u);return x.concat([new n.Diff(o,w)],S)}return l&&a.length>100&&s.length>100?this.diff_lineMode_(a,s,u):this.diff_bisect_(a,s,u)},n.prototype.diff_lineMode_=function(a,s,l){var u=this.diff_linesToChars_(a,s);a=u.chars1,s=u.chars2;var c=u.lineArray,d=this.diff_main(a,s,!1,l);this.diff_charsToLines_(d,c),this.diff_cleanupSemantic(d),d.push(new n.Diff(o,""));for(var f=0,h=0,p=0,m="",v="";f<d.length;){switch(d[f][0]){case i:p++,v+=d[f][1];break;case r:h++,m+=d[f][1];break;case o:if(h>=1&&p>=1){d.splice(f-h-p,h+p),f=f-h-p;for(var g=this.diff_main(m,v,!1,l),y=g.length-1;y>=0;y--)d.splice(f,0,g[y]);f=f+g.length}p=0,h=0,m="",v="";break}f++}return d.pop(),d},n.prototype.diff_bisect_=function(a,s,l){for(var u=a.length,c=s.length,d=Math.ceil((u+c)/2),f=d,h=2*d,p=new Array(h),m=new Array(h),v=0;v<h;v++)p[v]=-1,m[v]=-1;p[f+1]=0,m[f+1]=0;for(var g=u-c,y=g%2!=0,w=0,x=0,S=0,E=0,k=0;k<d&&!(new Date().getTime()>l);k++){for(var A=-k+w;A<=k-x;A+=2){var T=f+A,R;A==-k||A!=k&&p[T-1]<p[T+1]?R=p[T+1]:R=p[T-1]+1;for(var M=R-A;R<u&&M<c&&a.charAt(R)==s.charAt(M);)R++,M++;if(p[T]=R,R>u)x+=2;else if(M>c)w+=2;else if(y){var O=f+g-A;if(O>=0&&O<h&&m[O]!=-1){var B=u-m[O];if(R>=B)return this.diff_bisectSplit_(a,s,R,M,l)}}}for(var _=-k+S;_<=k-E;_+=2){var O=f+_,B;_==-k||_!=k&&m[O-1]<m[O+1]?B=m[O+1]:B=m[O-1]+1;for(var z=B-_;B<u&&z<c&&a.charAt(u-B-1)==s.charAt(c-z-1);)B++,z++;if(m[O]=B,B>u)E+=2;else if(z>c)S+=2;else if(!y){var T=f+g-_;if(T>=0&&T<h&&p[T]!=-1){var R=p[T],M=f+R-T;if(B=u-B,R>=B)return this.diff_bisectSplit_(a,s,R,M,l)}}}}return[new n.Diff(r,a),new n.Diff(i,s)]},n.prototype.diff_bisectSplit_=function(a,s,l,u,c){var d=a.substring(0,l),f=s.substring(0,u),h=a.substring(l),p=s.substring(u),m=this.diff_main(d,f,!1,c),v=this.diff_main(h,p,!1,c);return m.concat(v)},n.prototype.diff_linesToChars_=function(a,s){var l=[],u={};l[0]="";function c(p){for(var m="",v=0,g=-1,y=l.length;g<p.length-1;){g=p.indexOf(`
`,v),g==-1&&(g=p.length-1);var w=p.substring(v,g+1);(u.hasOwnProperty?u.hasOwnProperty(w):u[w]!==void 0)?m+=String.fromCharCode(u[w]):(y==d&&(w=p.substring(v),g=p.length),m+=String.fromCharCode(y),u[w]=y,l[y++]=w),v=g+1}return m}var d=4e4,f=c(a);d=65535;var h=c(s);return{chars1:f,chars2:h,lineArray:l}},n.prototype.diff_charsToLines_=function(a,s){for(var l=0;l<a.length;l++){for(var u=a[l][1],c=[],d=0;d<u.length;d++)c[d]=s[u.charCodeAt(d)];a[l][1]=c.join("")}},n.prototype.diff_commonPrefix=function(a,s){if(!a||!s||a.charAt(0)!=s.charAt(0))return 0;for(var l=0,u=Math.min(a.length,s.length),c=u,d=0;l<c;)a.substring(d,c)==s.substring(d,c)?(l=c,d=l):u=c,c=Math.floor((u-l)/2+l);return c},n.prototype.diff_commonSuffix=function(a,s){if(!a||!s||a.charAt(a.length-1)!=s.charAt(s.length-1))return 0;for(var l=0,u=Math.min(a.length,s.length),c=u,d=0;l<c;)a.substring(a.length-c,a.length-d)==s.substring(s.length-c,s.length-d)?(l=c,d=l):u=c,c=Math.floor((u-l)/2+l);return c},n.prototype.diff_commonOverlap_=function(a,s){var l=a.length,u=s.length;if(l==0||u==0)return 0;l>u?a=a.substring(l-u):l<u&&(s=s.substring(0,l));var c=Math.min(l,u);if(a==s)return c;for(var d=0,f=1;;){var h=a.substring(c-f),p=s.indexOf(h);if(p==-1)return d;f+=p,(p==0||a.substring(c-f)==s.substring(0,f))&&(d=f,f++)}},n.prototype.diff_halfMatch_=function(a,s){if(this.Diff_Timeout<=0)return null;var l=a.length>s.length?a:s,u=a.length>s.length?s:a;if(l.length<4||u.length*2<l.length)return null;var c=this;function d(x,S,E){for(var k=x.substring(E,E+Math.floor(x.length/4)),A=-1,T="",R,M,O,B;(A=S.indexOf(k,A+1))!=-1;){var _=c.diff_commonPrefix(x.substring(E),S.substring(A)),z=c.diff_commonSuffix(x.substring(0,E),S.substring(0,A));T.length<z+_&&(T=S.substring(A-z,A)+S.substring(A,A+_),R=x.substring(0,E-z),M=x.substring(E+_),O=S.substring(0,A-z),B=S.substring(A+_))}return T.length*2>=x.length?[R,M,O,B,T]:null}var f=d(l,u,Math.ceil(l.length/4)),h=d(l,u,Math.ceil(l.length/2)),p;if(!f&&!h)return null;h?f?p=f[4].length>h[4].length?f:h:p=h:p=f;var m,v,g,y;a.length>s.length?(m=p[0],v=p[1],g=p[2],y=p[3]):(g=p[0],y=p[1],m=p[2],v=p[3]);var w=p[4];return[m,v,g,y,w]},n.prototype.diff_cleanupSemantic=function(a){for(var s=!1,l=[],u=0,c=null,d=0,f=0,h=0,p=0,m=0;d<a.length;)a[d][0]==o?(l[u++]=d,f=p,h=m,p=0,m=0,c=a[d][1]):(a[d][0]==i?p+=a[d][1].length:m+=a[d][1].length,c&&c.length<=Math.max(f,h)&&c.length<=Math.max(p,m)&&(a.splice(l[u-1],0,new n.Diff(r,c)),a[l[u-1]+1][0]=i,u--,u--,d=u>0?l[u-1]:-1,f=0,h=0,p=0,m=0,c=null,s=!0)),d++;for(s&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),d=1;d<a.length;){if(a[d-1][0]==r&&a[d][0]==i){var v=a[d-1][1],g=a[d][1],y=this.diff_commonOverlap_(v,g),w=this.diff_commonOverlap_(g,v);y>=w?(y>=v.length/2||y>=g.length/2)&&(a.splice(d,0,new n.Diff(o,g.substring(0,y))),a[d-1][1]=v.substring(0,v.length-y),a[d+1][1]=g.substring(y),d++):(w>=v.length/2||w>=g.length/2)&&(a.splice(d,0,new n.Diff(o,v.substring(0,w))),a[d-1][0]=i,a[d-1][1]=g.substring(0,g.length-w),a[d+1][0]=r,a[d+1][1]=v.substring(w),d++),d++}d++}},n.prototype.diff_cleanupSemanticLossless=function(a){function s(w,x){if(!w||!x)return 6;var S=w.charAt(w.length-1),E=x.charAt(0),k=S.match(n.nonAlphaNumericRegex_),A=E.match(n.nonAlphaNumericRegex_),T=k&&S.match(n.whitespaceRegex_),R=A&&E.match(n.whitespaceRegex_),M=T&&S.match(n.linebreakRegex_),O=R&&E.match(n.linebreakRegex_),B=M&&w.match(n.blanklineEndRegex_),_=O&&x.match(n.blanklineStartRegex_);return B||_?5:M||O?4:k&&!T&&R?3:T||R?2:k||A?1:0}for(var l=1;l<a.length-1;){if(a[l-1][0]==o&&a[l+1][0]==o){var u=a[l-1][1],c=a[l][1],d=a[l+1][1],f=this.diff_commonSuffix(u,c);if(f){var h=c.substring(c.length-f);u=u.substring(0,u.length-f),c=h+c.substring(0,c.length-f),d=h+d}for(var p=u,m=c,v=d,g=s(u,c)+s(c,d);c.charAt(0)===d.charAt(0);){u+=c.charAt(0),c=c.substring(1)+d.charAt(0),d=d.substring(1);var y=s(u,c)+s(c,d);y>=g&&(g=y,p=u,m=c,v=d)}a[l-1][1]!=p&&(p?a[l-1][1]=p:(a.splice(l-1,1),l--),a[l][1]=m,v?a[l+1][1]=v:(a.splice(l+1,1),l--))}l++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(a){for(var s=!1,l=[],u=0,c=null,d=0,f=!1,h=!1,p=!1,m=!1;d<a.length;)a[d][0]==o?(a[d][1].length<this.Diff_EditCost&&(p||m)?(l[u++]=d,f=p,h=m,c=a[d][1]):(u=0,c=null),p=m=!1):(a[d][0]==r?m=!0:p=!0,c&&(f&&h&&p&&m||c.length<this.Diff_EditCost/2&&f+h+p+m==3)&&(a.splice(l[u-1],0,new n.Diff(r,c)),a[l[u-1]+1][0]=i,u--,c=null,f&&h?(p=m=!0,u=0):(u--,d=u>0?l[u-1]:-1,p=m=!1),s=!0)),d++;s&&this.diff_cleanupMerge(a)},n.prototype.diff_cleanupMerge=function(a){a.push(new n.Diff(o,""));for(var s=0,l=0,u=0,c="",d="",f;s<a.length;)switch(a[s][0]){case i:u++,d+=a[s][1],s++;break;case r:l++,c+=a[s][1],s++;break;case o:l+u>1?(l!==0&&u!==0&&(f=this.diff_commonPrefix(d,c),f!==0&&(s-l-u>0&&a[s-l-u-1][0]==o?a[s-l-u-1][1]+=d.substring(0,f):(a.splice(0,0,new n.Diff(o,d.substring(0,f))),s++),d=d.substring(f),c=c.substring(f)),f=this.diff_commonSuffix(d,c),f!==0&&(a[s][1]=d.substring(d.length-f)+a[s][1],d=d.substring(0,d.length-f),c=c.substring(0,c.length-f))),s-=l+u,a.splice(s,l+u),c.length&&(a.splice(s,0,new n.Diff(r,c)),s++),d.length&&(a.splice(s,0,new n.Diff(i,d)),s++),s++):s!==0&&a[s-1][0]==o?(a[s-1][1]+=a[s][1],a.splice(s,1)):s++,u=0,l=0,c="",d="";break}a[a.length-1][1]===""&&a.pop();var h=!1;for(s=1;s<a.length-1;)a[s-1][0]==o&&a[s+1][0]==o&&(a[s][1].substring(a[s][1].length-a[s-1][1].length)==a[s-1][1]?(a[s][1]=a[s-1][1]+a[s][1].substring(0,a[s][1].length-a[s-1][1].length),a[s+1][1]=a[s-1][1]+a[s+1][1],a.splice(s-1,1),h=!0):a[s][1].substring(0,a[s+1][1].length)==a[s+1][1]&&(a[s-1][1]+=a[s+1][1],a[s][1]=a[s][1].substring(a[s+1][1].length)+a[s+1][1],a.splice(s+1,1),h=!0)),s++;h&&this.diff_cleanupMerge(a)},n.prototype.diff_xIndex=function(a,s){var l=0,u=0,c=0,d=0,f;for(f=0;f<a.length&&(a[f][0]!==i&&(l+=a[f][1].length),a[f][0]!==r&&(u+=a[f][1].length),!(l>s));f++)c=l,d=u;return a.length!=f&&a[f][0]===r?d:d+(s-c)},n.prototype.diff_prettyHtml=function(a){for(var s=[],l=/&/g,u=/</g,c=/>/g,d=/\n/g,f=0;f<a.length;f++){var h=a[f][0],p=a[f][1],m=p.replace(l,"&amp;").replace(u,"&lt;").replace(c,"&gt;").replace(d,"&para;<br>");switch(h){case i:s[f]='<ins style="background:#e6ffe6;">'+m+"</ins>";break;case r:s[f]='<del style="background:#ffe6e6;">'+m+"</del>";break;case o:s[f]="<span>"+m+"</span>";break}}return s.join("")},n.prototype.diff_text1=function(a){for(var s=[],l=0;l<a.length;l++)a[l][0]!==i&&(s[l]=a[l][1]);return s.join("")},n.prototype.diff_text2=function(a){for(var s=[],l=0;l<a.length;l++)a[l][0]!==r&&(s[l]=a[l][1]);return s.join("")},n.prototype.diff_levenshtein=function(a){for(var s=0,l=0,u=0,c=0;c<a.length;c++){var d=a[c][0],f=a[c][1];switch(d){case i:l+=f.length;break;case r:u+=f.length;break;case o:s+=Math.max(l,u),l=0,u=0;break}}return s+=Math.max(l,u),s},n.prototype.diff_toDelta=function(a){for(var s=[],l=0;l<a.length;l++)switch(a[l][0]){case i:s[l]="+"+encodeURI(a[l][1]);break;case r:s[l]="-"+a[l][1].length;break;case o:s[l]="="+a[l][1].length;break}return s.join("	").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(a,s){for(var l=[],u=0,c=0,d=s.split(/\t/g),f=0;f<d.length;f++){var h=d[f].substring(1);switch(d[f].charAt(0)){case"+":try{l[u++]=new n.Diff(i,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var p=parseInt(h,10);if(isNaN(p)||p<0)throw new Error("Invalid number in diff_fromDelta: "+h);var m=a.substring(c,c+=p);d[f].charAt(0)=="="?l[u++]=new n.Diff(o,m):l[u++]=new n.Diff(r,m);break;default:if(d[f])throw new Error("Invalid diff operation in diff_fromDelta: "+d[f])}}if(c!=a.length)throw new Error("Delta length ("+c+") does not equal source text length ("+a.length+").");return l},n.prototype.match_main=function(a,s,l){if(a==null||s==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,a.length)),a==s?0:a.length?a.substring(l,l+s.length)==s?l:this.match_bitap_(a,s,l):-1},n.prototype.match_bitap_=function(a,s,l){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(s),c=this;function d(R,M){var O=R/s.length,B=Math.abs(l-M);return c.Match_Distance?O+B/c.Match_Distance:B?1:O}var f=this.Match_Threshold,h=a.indexOf(s,l);h!=-1&&(f=Math.min(d(0,h),f),h=a.lastIndexOf(s,l+s.length),h!=-1&&(f=Math.min(d(0,h),f)));var p=1<<s.length-1;h=-1;for(var m,v,g=s.length+a.length,y,w=0;w<s.length;w++){for(m=0,v=g;m<v;)d(w,l+v)<=f?m=v:g=v,v=Math.floor((g-m)/2+m);g=v;var x=Math.max(1,l-v+1),S=Math.min(l+v,a.length)+s.length,E=Array(S+2);E[S+1]=(1<<w)-1;for(var k=S;k>=x;k--){var A=u[a.charAt(k-1)];if(w===0?E[k]=(E[k+1]<<1|1)&A:E[k]=(E[k+1]<<1|1)&A|((y[k+1]|y[k])<<1|1)|y[k+1],E[k]&p){var T=d(w,k-1);if(T<=f)if(f=T,h=k-1,h>l)x=Math.max(1,2*l-h);else break}}if(d(w+1,l)>f)break;y=E}return h},n.prototype.match_alphabet_=function(a){for(var s={},l=0;l<a.length;l++)s[a.charAt(l)]=0;for(var l=0;l<a.length;l++)s[a.charAt(l)]|=1<<a.length-l-1;return s},n.prototype.patch_addContext_=function(a,s){if(s.length!=0){if(a.start2===null)throw Error("patch not initialized");for(var l=s.substring(a.start2,a.start2+a.length1),u=0;s.indexOf(l)!=s.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,l=s.substring(a.start2-u,a.start2+a.length1+u);u+=this.Patch_Margin;var c=s.substring(a.start2-u,a.start2);c&&a.diffs.unshift(new n.Diff(o,c));var d=s.substring(a.start2+a.length1,a.start2+a.length1+u);d&&a.diffs.push(new n.Diff(o,d)),a.start1-=c.length,a.start2-=c.length,a.length1+=c.length+d.length,a.length2+=c.length+d.length}},n.prototype.patch_make=function(a,s,l){var u,c;if(typeof a=="string"&&typeof s=="string"&&typeof l>"u")u=a,c=this.diff_main(u,s,!0),c.length>2&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(a&&typeof a=="object"&&typeof s>"u"&&typeof l>"u")c=a,u=this.diff_text1(c);else if(typeof a=="string"&&s&&typeof s=="object"&&typeof l>"u")u=a,c=s;else if(typeof a=="string"&&typeof s=="string"&&l&&typeof l=="object")u=a,c=l;else throw new Error("Unknown call format to patch_make.");if(c.length===0)return[];for(var d=[],f=new n.patch_obj,h=0,p=0,m=0,v=u,g=u,y=0;y<c.length;y++){var w=c[y][0],x=c[y][1];switch(!h&&w!==o&&(f.start1=p,f.start2=m),w){case i:f.diffs[h++]=c[y],f.length2+=x.length,g=g.substring(0,m)+x+g.substring(m);break;case r:f.length1+=x.length,f.diffs[h++]=c[y],g=g.substring(0,m)+g.substring(m+x.length);break;case o:x.length<=2*this.Patch_Margin&&h&&c.length!=y+1?(f.diffs[h++]=c[y],f.length1+=x.length,f.length2+=x.length):x.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(f,v),d.push(f),f=new n.patch_obj,h=0,v=g,p=m);break}w!==i&&(p+=x.length),w!==r&&(m+=x.length)}return h&&(this.patch_addContext_(f,v),d.push(f)),d},n.prototype.patch_deepCopy=function(a){for(var s=[],l=0;l<a.length;l++){var u=a[l],c=new n.patch_obj;c.diffs=[];for(var d=0;d<u.diffs.length;d++)c.diffs[d]=new n.Diff(u.diffs[d][0],u.diffs[d][1]);c.start1=u.start1,c.start2=u.start2,c.length1=u.length1,c.length2=u.length2,s[l]=c}return s},n.prototype.patch_apply=function(a,s){if(a.length==0)return[s,[]];a=this.patch_deepCopy(a);var l=this.patch_addPadding(a);s=l+s+l,this.patch_splitMax(a);for(var u=0,c=[],d=0;d<a.length;d++){var f=a[d].start2+u,h=this.diff_text1(a[d].diffs),p,m=-1;if(h.length>this.Match_MaxBits?(p=this.match_main(s,h.substring(0,this.Match_MaxBits),f),p!=-1&&(m=this.match_main(s,h.substring(h.length-this.Match_MaxBits),f+h.length-this.Match_MaxBits),(m==-1||p>=m)&&(p=-1))):p=this.match_main(s,h,f),p==-1)c[d]=!1,u-=a[d].length2-a[d].length1;else{c[d]=!0,u=p-f;var v;if(m==-1?v=s.substring(p,p+h.length):v=s.substring(p,m+this.Match_MaxBits),h==v)s=s.substring(0,p)+this.diff_text2(a[d].diffs)+s.substring(p+h.length);else{var g=this.diff_main(h,v,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(g)/h.length>this.Patch_DeleteThreshold)c[d]=!1;else{this.diff_cleanupSemanticLossless(g);for(var y=0,w,x=0;x<a[d].diffs.length;x++){var S=a[d].diffs[x];S[0]!==o&&(w=this.diff_xIndex(g,y)),S[0]===i?s=s.substring(0,p+w)+S[1]+s.substring(p+w):S[0]===r&&(s=s.substring(0,p+w)+s.substring(p+this.diff_xIndex(g,y+S[1].length))),S[0]!==r&&(y+=S[1].length)}}}}}return s=s.substring(l.length,s.length-l.length),[s,c]},n.prototype.patch_addPadding=function(a){for(var s=this.Patch_Margin,l="",u=1;u<=s;u++)l+=String.fromCharCode(u);for(var u=0;u<a.length;u++)a[u].start1+=s,a[u].start2+=s;var c=a[0],d=c.diffs;if(d.length==0||d[0][0]!=o)d.unshift(new n.Diff(o,l)),c.start1-=s,c.start2-=s,c.length1+=s,c.length2+=s;else if(s>d[0][1].length){var f=s-d[0][1].length;d[0][1]=l.substring(d[0][1].length)+d[0][1],c.start1-=f,c.start2-=f,c.length1+=f,c.length2+=f}if(c=a[a.length-1],d=c.diffs,d.length==0||d[d.length-1][0]!=o)d.push(new n.Diff(o,l)),c.length1+=s,c.length2+=s;else if(s>d[d.length-1][1].length){var f=s-d[d.length-1][1].length;d[d.length-1][1]+=l.substring(0,f),c.length1+=f,c.length2+=f}return l},n.prototype.patch_splitMax=function(a){for(var s=this.Match_MaxBits,l=0;l<a.length;l++)if(!(a[l].length1<=s)){var u=a[l];a.splice(l--,1);for(var c=u.start1,d=u.start2,f="";u.diffs.length!==0;){var h=new n.patch_obj,p=!0;for(h.start1=c-f.length,h.start2=d-f.length,f!==""&&(h.length1=h.length2=f.length,h.diffs.push(new n.Diff(o,f)));u.diffs.length!==0&&h.length1<s-this.Patch_Margin;){var m=u.diffs[0][0],v=u.diffs[0][1];m===i?(h.length2+=v.length,d+=v.length,h.diffs.push(u.diffs.shift()),p=!1):m===r&&h.diffs.length==1&&h.diffs[0][0]==o&&v.length>2*s?(h.length1+=v.length,c+=v.length,p=!1,h.diffs.push(new n.Diff(m,v)),u.diffs.shift()):(v=v.substring(0,s-h.length1-this.Patch_Margin),h.length1+=v.length,c+=v.length,m===o?(h.length2+=v.length,d+=v.length):p=!1,h.diffs.push(new n.Diff(m,v)),v==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(v.length))}f=this.diff_text2(h.diffs),f=f.substring(f.length-this.Patch_Margin);var g=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);g!==""&&(h.length1+=g.length,h.length2+=g.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===o?h.diffs[h.diffs.length-1][1]+=g:h.diffs.push(new n.Diff(o,g))),p||a.splice(++l,0,h)}}},n.prototype.patch_toText=function(a){for(var s=[],l=0;l<a.length;l++)s[l]=a[l];return s.join("")},n.prototype.patch_fromText=function(a){var s=[];if(!a)return s;for(var l=a.split(`
`),u=0,c=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<l.length;){var d=l[u].match(c);if(!d)throw new Error("Invalid patch string: "+l[u]);var f=new n.patch_obj;for(s.push(f),f.start1=parseInt(d[1],10),d[2]===""?(f.start1--,f.length1=1):d[2]=="0"?f.length1=0:(f.start1--,f.length1=parseInt(d[2],10)),f.start2=parseInt(d[3],10),d[4]===""?(f.start2--,f.length2=1):d[4]=="0"?f.length2=0:(f.start2--,f.length2=parseInt(d[4],10)),u++;u<l.length;){var h=l[u].charAt(0);try{var p=decodeURI(l[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+p)}if(h=="-")f.diffs.push(new n.Diff(r,p));else if(h=="+")f.diffs.push(new n.Diff(i,p));else if(h==" ")f.diffs.push(new n.Diff(o,p));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+p)}u++}}return s},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){var a,s;this.length1===0?a=this.start1+",0":this.length1==1?a=this.start1+1:a=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var l=["@@ -"+a+" +"+s+` @@
`],u,c=0;c<this.diffs.length;c++){switch(this.diffs[c][0]){case i:u="+";break;case r:u="-";break;case o:u=" ";break}l[c+1]=u+encodeURI(this.diffs[c][1])+`
`}return l.join("").replace(/%20/g," ")},t.exports=n,t.exports.diff_match_patch=n,t.exports.DIFF_DELETE=r,t.exports.DIFF_INSERT=i,t.exports.DIFF_EQUAL=o}}),Due=xs(kue(),1),Mue={root:"alinea-ScalarDiff","root-segment":"alinea-ScalarDiff-segment",rootSegment:"alinea-ScalarDiff-segment","is-insert":"alinea-ScalarDiff-is-insert",isInsert:"alinea-ScalarDiff-is-insert","is-delete":"alinea-ScalarDiff-is-delete",isDelete:"alinea-ScalarDiff-is-delete"},gP=j(Mue),vP=new Due.default.diff_match_patch;function yP(e){return typeof e=="number"||e?String(e):""}function Tx({valueA:e,valueB:t}){let n=yP(e),r=yP(t),i=(0,bP.useMemo)(()=>{let o=vP.diff_main(n,r);return vP.diff_cleanupSemantic(o),o},[n,r]);return(0,xv.jsxs)("div",{className:gP.root(),children:[i.length===0&&(0,xv.jsx)("br",{}),i.map(([o,a],s)=>(0,xv.jsx)("span",{className:gP.root.segment({insert:o===1,delete:o===-1,equal:o===0}),children:a},s))]})}var Uc=D(L(),1),Rue=new Set(["heading","paragraph","listItem"]);function EP({_type:e,content:t}){let n=Rue.has(e);return!t||!Array.isArray(t)?"":t.map(r=>De.isText(r)?`${r.text} `:EP(r)).join("")+(n?`

`:"")}function wP(e){let t=[],n="";if(!Array.isArray(e))return t;for(let r of e)De.isText(r)?n+=`${r.text} `:De.isElement(r)?n+=EP(r):De.isBlock(r)&&(n&&(t.push({type:"text",text:n}),n=""),t.push({type:"block",block:r}));return n&&t.push({type:"text",text:n}),t}function SP({FieldsDiff:e,shape:t,valueA:n,valueB:r}){let i=(0,xP.useMemo)(()=>({a:wP(n),b:wP(r)}),[n,r]),o=Math.max(i.a.length,i.b.length),a=[],s=(u,c)=>u.type!==u.type?!1:u.type==="block"&&c.type==="block"?u.block[rn.id]===c.block[rn.id]:!0,l=Ex(i.a,i.b,s);return(0,Uc.jsx)(xt.Root,{children:l.map((u,c)=>{switch(u.value.type){case"block":{let d=u.value.block[De.type],f=t.blocks?.[d],h=u.type==="keep"?["block"in u.old&&u.old.block||{},u.value.block]:u.type==="removal"?[u.value.block,{}]:[{},u.value.block],p=Hc(f,h[0],h[1]);return p.length===0?(0,Uc.jsx)(Vc,{change:"equal"},c):(0,Uc.jsx)(Vc,{change:u.type,children:(0,Uc.jsx)(e,{changes:p,targetA:h[0],targetB:h[1]})},c)}case"text":{let d=u.type==="keep"?["text"in u.old&&u.old.text,u.value.text]:u.type==="removal"?[u.value.text,""]:["",u.value.text];return d[0]===d[1]?(0,Uc.jsx)(Vc,{change:"equal"},c):(0,Uc.jsx)(Vc,{change:u.type,children:(0,Uc.jsx)(Tx,{valueA:d[0],valueB:d[1]})},c)}}})})}var Ev=D(L(),1);function CP({FieldsDiff:e,shape:t,valueA:n,valueB:r}){if(t instanceof on)return(0,Ev.jsx)(Tx,{valueA:n,valueB:r});if(t instanceof Cx)return(0,Ev.jsx)(SP,{FieldsDiff:e,shape:t,valueA:n,valueB:r});if(t instanceof Sx)return(0,Ev.jsx)(mP,{FieldsDiff:e,shape:t,valueA:n,valueB:r});if(t instanceof ao){let i=Hc(t,n,r);return(0,Ev.jsx)(e,{changes:i,targetA:n,targetB:r})}return t instanceof Ax&&console.warn("UnionShape not supported yet"),null}var Xp=D(L(),1);function yk({changes:e,targetA:t,targetB:n}){return(0,Xp.jsx)(Ja,{children:(0,Xp.jsx)(ut,{gap:10,children:e.map(([r,i],o)=>(0,Xp.jsx)("div",{children:(0,Xp.jsx)(We,{label:i.label,children:(0,Xp.jsx)(CP,{FieldsDiff:yk,shape:i,valueA:t?.[r],valueB:n?.[r]})})},r))})})}var au=D(L(),1),Oue={root:"alinea-EntryDiff"},Bue=j(Oue);function AP({entryA:e,entryB:t}){let{schema:n}=sn(),r=n[e.type],i=n[t.type];if(r!==i)return(0,au.jsxs)("div",{children:[(0,au.jsx)(eo,{children:(0,au.jsx)(Ze,{label:he.label(r)})})," ","=>",(0,au.jsx)(eo,{children:(0,au.jsx)(Ze,{label:he.label(i)})})]});let a=Hc(he.shape(r),e.data,t.data);return(0,au.jsx)("div",{className:Bue.root(),children:(0,au.jsx)(yk,{changes:a,targetA:e.data,targetB:t.data})})}b();b();var bk=D(L(),1);function gf(e){return(0,bk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,bk.jsx)("path",{fill:"currentColor",d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83l3.75 3.75l1.83-1.83z"})})}var TP=D(L(),1),_ue={root:"alinea-EditModeToggle","root-switch":"alinea-EditModeToggle-switch",rootSwitch:"alinea-EditModeToggle-switch","is-active":"alinea-EditModeToggle-is-active",isActive:"alinea-EditModeToggle-is-active"},yFe=j(_ue),wk=(e=>(e.Editing="editing",e.Diff="diff",e))(wk||{});b();b();var vf=D(L(),1),Fue={root:"alinea-AppBar","is-draft":"alinea-AppBar-is-draft",isDraft:"alinea-AppBar-is-draft","is-editing":"alinea-AppBar-is-editing",isEditing:"alinea-AppBar-is-editing","is-revision":"alinea-AppBar-is-revision",isRevision:"alinea-AppBar-is-revision","is-published":"alinea-AppBar-is-published",isPublished:"alinea-AppBar-is-published","is-archived":"alinea-AppBar-is-archived",isArchived:"alinea-AppBar-is-archived","is-transition":"alinea-AppBar-is-transition",isTransition:"alinea-AppBar-is-transition","is-unpublished":"alinea-AppBar-is-unpublished",isUnpublished:"alinea-AppBar-is-unpublished",item:"alinea-AppBar-item","item-icon":"alinea-AppBar-item-icon",itemIcon:"alinea-AppBar-item-icon","is-interactive":"alinea-AppBar-is-interactive",isInteractive:"alinea-AppBar-is-interactive","is-active":"alinea-AppBar-is-active",isActive:"alinea-AppBar-is-active"},xk=j(Fue),Go;(e=>{function t({variant:r,...i}){return(0,vf.jsx)("header",{...i,className:xk.root.mergeProps(i)(r)})}e.Root=t;function n({children:r,as:i="div",full:o,icon:a,active:s,...l}){let u=i==="button"||i==="a";return(0,vf.jsx)(i,{...l,className:xk.item.mergeProps(l)({interactive:u,active:s}),children:(0,vf.jsxs)(K,{center:!0,gap:8,full:!0,children:[a&&(0,vf.jsx)("div",{className:xk.item.icon(),children:(0,vf.jsx)(te,{icon:a})}),r]})})}e.Item=n})(Go||(Go={}));b();var Ek=D(L(),1);function kx(e){return(0,Ek.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Ek.jsx)("path",{fill:"currentColor",d:"m20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M6.24 5h11.52l.81.97H5.44zM5 19V8h14v11zm8.45-9h-2.9v3H8l4 4l4-4h-2.55z"})})}b();var Sk=D(L(),1);function kP(e){return(0,Sk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Sk.jsx)("path",{fill:"currentColor",d:"M11 17c0 .55.45 1 1 1s1-.45 1-1s-.45-1-1-1s-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41l-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9a9 9 0 0 0 0-18h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1s.45 1 1 1s1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1s-.45-1-1-1s-1 .45-1 1z"})})}b();var Ck=D(L(),1);function Dx(e){return(0,Ck.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Ck.jsx)("path",{fill:"currentColor",d:"M12 6.5a9.77 9.77 0 0 1 8.82 5.5c-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12A9.77 9.77 0 0 1 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 5a2.5 2.5 0 0 1 0 5a2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5s4.5-2.02 4.5-4.5s-2.02-4.5-4.5-4.5z"})})}b();var Ak=D(L(),1);function DP(e){return(0,Ak.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Ak.jsx)("path",{fill:"currentColor",d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"})})}b();var Tk=D(L(),1);function MP(e){return(0,Tk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Tk.jsx)("path",{fill:"currentColor",d:"M6.29 8.11L10.18 12l-3.89 3.89A.996.996 0 1 0 7.7 17.3l4.59-4.59a.996.996 0 0 0 0-1.41L7.7 6.7a.996.996 0 0 0-1.41 0c-.38.39-.38 1.03 0 1.41M17 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1"})})}b();var kk=D(L(),1);function Mx(e){return(0,kk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,kk.jsx)("path",{fill:"currentColor",d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}b();var Dk=D(L(),1);function RP(e){return(0,Dk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Dk.jsx)("path",{fill:"currentColor",d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z"})})}b();var Mk=D(L(),1);function Rx(e){return(0,Mk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Mk.jsx)("path",{fill:"currentColor",d:"m16.95 10.23l-5.66 5.66a.996.996 0 0 1-1.41 0l-2.83-2.83a.996.996 0 1 1 1.41-1.41l2.12 2.12l4.95-4.95a.996.996 0 0 1 1.41 0c.4.39.4 1.02.01 1.41zM4 12c0-2.33 1.02-4.42 2.62-5.88l1.53 1.53A.5.5 0 0 0 9 7.29V3c0-.28-.22-.5-.5-.5H4.21c-.45 0-.67.54-.35.85L5.2 4.7C3.24 6.52 2 9.11 2 12c0 4.75 3.32 8.73 7.76 9.75c.63.14 1.24-.33 1.24-.98c0-.47-.33-.87-.79-.98C6.66 18.98 4 15.8 4 12zm18 0c0-4.75-3.32-8.73-7.76-9.75c-.63-.14-1.24.33-1.24.98c0 .47.33.87.79.98C17.34 5.02 20 8.2 20 12c0 2.33-1.02 4.42-2.62 5.88l-1.53-1.53a.5.5 0 0 0-.85.36V21c0 .28.22.5.5.5h4.29c.45 0 .67-.54.35-.85L18.8 19.3c1.96-1.82 3.2-4.41 3.2-7.3z"})})}b();var Rk=D(L(),1);function Ox(e){return(0,Rk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Rk.jsx)("path",{fill:"currentColor",d:"M17.59 3.59c-.38-.38-.89-.59-1.42-.59H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7.83c0-.53-.21-1.04-.59-1.41l-2.82-2.83zM12 19c-1.66 0-3-1.34-3-3s1.34-3 3-3s3 1.34 3 3s-1.34 3-3 3zm1-10H7c-1.1 0-2-.9-2-2s.9-2 2-2h6c1.1 0 2 .9 2 2s-.9 2-2 2z"})})}b();var Ok=D(L(),1);function Zp(e){return(0,Ok.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Ok.jsx)("path",{fill:"currentColor",d:"M13 10h7l-9 13v-9H4l9-13z"})})}var YP=D($(),1);b();b();b();var em=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".avif",".heic",".svg"];function Bx(e){let t=e.toLowerCase().split(".").pop();return t&&em.includes(`.${t}`)}var su=class{constructor(e){this.task=e}};function Iue(e,t){let r=kn.typeNames(e.schema).get(t);if(!r)throw new Error(`Type "${he.label(t)}" not found in Schema`);return r}var OP=class extends su{id;constructor(e){super(async t=>{let{config:n}=t;return[{op:"create",id:this.id,locale:e.locale??null,parentId:e.parentId??null,type:Iue(n,e.type),data:e.set??{},insertOrder:e.insertOrder,status:e.status,overwrite:e.overwrite,root:e.root,workspace:e.workspace}]}),this.id=e.id??Qt()}},BP=class extends su{constructor(e){super(()=>e.map(t=>({op:"remove",id:t}))),this.entryIds=e}},_P=class extends su{constructor(e){super(()=>[{op:"remove",...e}])}},FP=class extends su{constructor(e){super(()=>{let{status:t="published",locale:n=null,id:r,set:i}=e;return[{op:"update",id:r,locale:n,status:t,set:i}]})}},IP=class extends su{constructor(e){super(()=>[{op:"move",...e,after:e.after??null}])}},NP=class extends su{constructor(e){super(()=>[{op:"publish",...e,locale:e.locale??null}])}},LP=class extends su{constructor(e){super(()=>[{op:"unpublish",...e,locale:e.locale??null}])}},zP=class extends su{constructor(e){super(()=>[{op:"archive",...e,locale:e.locale??null}])}},_x=class extends su{id;constructor(e){super(async t=>{let n=this.id,{file:r,createPreview:i}=e,{workspace:o,root:a,parentId:s}=e,l=Array.isArray(r)?r[0]:r.name,u=Array.isArray(r)?r[1]:await r.arrayBuffer(),c=r instanceof Blob?r.type:"application/octet-stream",d=o??Object.keys(t.config.workspaces)[0],f=a??Gt.defaultMediaRoot(t.config.workspaces[d]),h=Nw(l),p=to(Yd(l,h)),m=Sc(t.config,d),v=Pn(m,p+h),g=await t.prepareUpload(v),y=Bx(l)?await i?.(r instanceof Blob?r:new Blob([u])):void 0;await fetch(g.url,{method:g.method??"POST",headers:{"Content-Type":c},body:u}).then(R=>{if(!R.ok)throw new Ru(R.status,"Could not reach server for upload")});let w=Yd(l,h),x=await jg(new Uint8Array(u)),{mediaDir:S}=Gt.data(t.config.workspaces[d]),E=S&&BT(S),k=E&&g.location.startsWith(E)?g.location.slice(E.length):g.location,A={op:"uploadFile",url:g.previewUrl,location:Pn(E,k)},T={op:"create",id:n,locale:null,parentId:s??null,type:"MediaFile",root:f,workspace:d,data:{title:w,location:k,previewUrl:g.previewUrl,extension:h,size:u.byteLength,hash:x,...y},overwrite:e.replaceId!==void 0};return[A,T]}),this.id=e.replaceId??Qt()}};b();pd();var Nue=Ir({"node_modules/smartcrop/smartcrop.js"(e,t){(function(){"use strict";var n={};function r(){throw new Error("No native promises and smartcrop.Promise not set.")}n.Promise=typeof Promise<"u"?Promise:r,n.DEFAULTS={width:0,height:0,aspect:0,cropWidth:0,cropHeight:0,detailWeight:.2,skinColor:[.78,.57,.44],skinBias:.01,skinBrightnessMin:.2,skinBrightnessMax:1,skinThreshold:.8,skinWeight:1.8,saturationBrightnessMin:.05,saturationBrightnessMax:.9,saturationThreshold:.4,saturationBias:.2,saturationWeight:.1,scoreDownSample:8,step:8,scaleStep:.1,minScale:1,maxScale:1,edgeRadius:.4,edgeWeight:-20,outsideImportance:-.5,boostWeight:100,ruleOfThirds:!0,prescale:!0,imageOperations:null,canvasFactory:v,debug:!1},n.crop=function(M,O,B){var _=E({},n.DEFAULTS,O);_.aspect&&(_.width=_.aspect,_.height=1),_.imageOperations===null&&(_.imageOperations=g(_.canvasFactory));var z=_.imageOperations,V=1,P=1;return z.open(M,_.input).then(function(F){return _.width&&_.height&&(V=y(F.width/_.width,F.height/_.height),_.cropWidth=~~(_.width*V),_.cropHeight=~~(_.height*V),_.minScale=y(_.maxScale,w(1/V,_.minScale)),_.prescale!==!1&&(P=y(w(256/F.width,256/F.height),1),P<1?(F=z.resample(F,F.width*P,F.height*P),_.cropWidth=~~(_.cropWidth*P),_.cropHeight=~~(_.cropHeight*P),_.boost&&(_.boost=_.boost.map(function(U){return{x:~~(U.x*P),y:~~(U.y*P),width:~~(U.width*P),height:~~(U.height*P),weight:U.weight}}))):P=1)),F}).then(function(F){return z.getData(F).then(function(U){for(var I=h(_,U),Q=I.crops||[I.topCrop],N=0,H=Q.length;N<H;N++){var G=Q[N];G.x=~~(G.x/P),G.y=~~(G.y/P),G.width=~~(G.width/P),G.height=~~(G.height/P)}return B&&B(I),I})})},n.isAvailable=function(M){if(!n.Promise)return!1;var O=M?M.canvasFactory:v;if(O===v){var B=document.createElement("canvas");if(!B.getContext("2d"))return!1}return!0};function i(M,O){for(var B=M.data,_=O.data,z=M.width,V=M.height,P=0;P<V;P++)for(var F=0;F<z;F++){var U=(P*z+F)*4,I;F===0||F>=z-1||P===0||P>=V-1?I=T(B,U):I=T(B,U)*4-T(B,U-z*4)-T(B,U-4)-T(B,U+4)-T(B,U+z*4),_[U+1]=I}}function o(M,O,B){for(var _=O.data,z=B.data,V=O.width,P=O.height,F=0;F<P;F++)for(var U=0;U<V;U++){var I=(F*V+U)*4,Q=A(_[I],_[I+1],_[I+2])/255,N=f(M,_[I],_[I+1],_[I+2]),H=N>M.skinThreshold,G=Q>=M.skinBrightnessMin&&Q<=M.skinBrightnessMax;H&&G?z[I]=(N-M.skinThreshold)*(255/(1-M.skinThreshold)):z[I]=0}}function a(M,O,B){for(var _=O.data,z=B.data,V=O.width,P=O.height,F=0;F<P;F++)for(var U=0;U<V;U++){var I=(F*V+U)*4,Q=A(_[I],_[I+1],_[I+2])/255,N=R(_[I],_[I+1],_[I+2]),H=N>M.saturationThreshold,G=Q>=M.saturationBrightnessMin&&Q<=M.saturationBrightnessMax;G&&H?z[I+2]=(N-M.saturationThreshold)*(255/(1-M.saturationThreshold)):z[I+2]=0}}function s(M,O){if(M.boost){for(var B=O.data,_=0;_<O.width;_+=4)B[_+3]=0;for(_=0;_<M.boost.length;_++)l(M.boost[_],M,O)}}function l(M,O,B){for(var _=B.data,z=B.width,V=~~M.x,P=~~(M.x+M.width),F=~~M.y,U=~~(M.y+M.height),I=M.weight*255,Q=F;Q<U;Q++)for(var N=V;N<P;N++){var H=(Q*z+N)*4;_[H+3]+=I}}function u(M,O,B){for(var _=[],z=y(O,B),V=M.cropWidth||z,P=M.cropHeight||z,F=M.maxScale;F>=M.minScale;F-=M.scaleStep)for(var U=0;U+P*F<=B;U+=M.step)for(var I=0;I+V*F<=O;I+=M.step)_.push({x:I,y:U,width:V*F,height:P*F});return _}function c(M,O,B){for(var _={detail:0,saturation:0,skin:0,boost:0,total:0},z=O.data,V=M.scoreDownSample,P=1/V,F=O.height*V,U=O.width*V,I=O.width,Q=0;Q<F;Q+=V)for(var N=0;N<U;N+=V){var H=(~~(Q*P)*I+~~(N*P))*4,G=d(M,B,N,Q),Y=z[H+1]/255;_.skin+=z[H]/255*(Y+M.skinBias)*G,_.detail+=Y*G,_.saturation+=z[H+2]/255*(Y+M.saturationBias)*G,_.boost+=z[H+3]/255*G}return _.total=(_.detail*M.detailWeight+_.skin*M.skinWeight+_.saturation*M.saturationWeight+_.boost*M.boostWeight)/(B.width*B.height),_}function d(M,O,B,_){if(O.x>B||B>=O.x+O.width||O.y>_||_>=O.y+O.height)return M.outsideImportance;B=(B-O.x)/O.width,_=(_-O.y)/O.height;var z=x(.5-B)*2,V=x(.5-_)*2,P=Math.max(z-1+M.edgeRadius,0),F=Math.max(V-1+M.edgeRadius,0),U=(P*P+F*F)*M.edgeWeight,I=1.41-S(z*z+V*V);return M.ruleOfThirds&&(I+=Math.max(0,I+U+.5)*1.2*(k(z)+k(V))),I+U}n.importance=d;function f(M,O,B,_){var z=S(O*O+B*B+_*_),V=O/z-M.skinColor[0],P=B/z-M.skinColor[1],F=_/z-M.skinColor[2],U=S(V*V+P*P+F*F);return 1-U}function h(M,O){var B={},_=new p(O.width,O.height);i(O,_),o(M,O,_),a(M,O,_),s(M,_);for(var z=m(_,M.scoreDownSample),V=-1/0,P=null,F=u(M,O.width,O.height),U=0,I=F.length;U<I;U++){var Q=F[U];Q.score=c(M,z,Q),Q.score.total>V&&(P=Q,V=Q.score.total)}return B.topCrop=P,M.debug&&P&&(B.crops=F,B.debugOutput=_,B.debugOptions=M,B.debugTopCrop=E({},B.topCrop)),B}function p(M,O,B){this.width=M,this.height=O,B?this.data=new Uint8ClampedArray(B):this.data=new Uint8ClampedArray(M*O*4)}n.ImgData=p;function m(M,O){for(var B=M.data,_=M.width,z=Math.floor(M.width/O),V=Math.floor(M.height/O),P=new p(z,V),F=P.data,U=1/(O*O),I=0;I<V;I++)for(var Q=0;Q<z;Q++){for(var N=(I*z+Q)*4,H=0,G=0,Y=0,ne=0,ae=0,ce=0,Ee=0;Ee<O;Ee++)for(var be=0;be<O;be++){var Se=((I*O+Ee)*_+(Q*O+be))*4;H+=B[Se],G+=B[Se+1],Y+=B[Se+2],ne+=B[Se+3],ae=Math.max(ae,B[Se]),ce=Math.max(ce,B[Se+1])}F[N]=H*U*.5+ae*.5,F[N+1]=G*U*.7+ce*.3,F[N+2]=Y*U,F[N+3]=ne*U}return P}n._downSample=m;function v(M,O){var B=document.createElement("canvas");return B.width=M,B.height=O,B}function g(M){return{open:function(O){var B=O.naturalWidth||O.width,_=O.naturalHeight||O.height,z=M(B,_),V=z.getContext("2d");return O.naturalWidth&&(O.naturalWidth!=O.width||O.naturalHeight!=O.height)?(z.width=O.naturalWidth,z.height=O.naturalHeight):(z.width=O.width,z.height=O.height),V.drawImage(O,0,0),n.Promise.resolve(z)},resample:function(O,B,_){return Promise.resolve(O).then(function(z){var V=M(~~B,~~_),P=V.getContext("2d");return P.drawImage(z,0,0,z.width,z.height,0,0,V.width,V.height),n.Promise.resolve(V)})},getData:function(O){return Promise.resolve(O).then(function(B){var _=B.getContext("2d"),z=_.getImageData(0,0,B.width,B.height);return new p(B.width,B.height,z.data)})}}}n._canvasImageOperations=g;var y=Math.min,w=Math.max,x=Math.abs,S=Math.sqrt;function E(M){for(var O=1,B=arguments.length;O<B;O++){var _=arguments[O];if(_)for(var z in _)M[z]=_[z]}return M}function k(M){return M=((M-1/3+1)%2*.5-.5)*16,Math.max(1-M*M,0)}function A(M,O,B){return .5126*B+.7152*O+.0722*M}function T(M,O){return A(M[O],M[O+1],M[O+2])}function R(M,O,B){var _=w(M/255,O/255,B/255),z=y(M/255,O/255,B/255);if(_===z)return 0;var V=(_+z)/2,P=_-z;return V>.5?P/(2-_-z):P/(_+z)}typeof define<"u"&&define.amd&&define(function(){return n}),typeof e<"u"?e.smartcrop=n:typeof navigator<"u"&&(window.SmartCrop=window.smartcrop=n),typeof t<"u"&&(t.exports=n)})()}}),Lue=xs(Nue(),1);async function PP(e){let t=URL.createObjectURL(e),n=await new Promise((S,E)=>{let k=new Image;k.onload=()=>S(k),k.onerror=A=>E(A),k.src=t}).finally(()=>URL.revokeObjectURL(t)),r=Math.max(n.width,n.height),i=Math.round(100*n.width/r),o=Math.round(100*n.height/r),a=document.createElement("canvas"),s=a.getContext("2d");a.width=i,a.height=o,s.drawImage(n,0,0,i,o);let l=s.getImageData(0,0,i,o),u=r9(i,o,l.data),{r:c,g:d,b:f}=i9(u),h=n7(_T(c*255,d*255,f*255,1)),p=Math.min(Math.round(160*n.width/r),n.width),m=Math.min(Math.round(160*n.height/r),n.height),v=document.createElement("canvas"),g=v.getContext("2d");g.imageSmoothingEnabled=!0,g.imageSmoothingQuality="high",v.width=p,v.height=m,g.drawImage(n,0,0,p,m);let y=v.toDataURL("image/webp"),w=await Lue.default.crop(n,{width:100,height:100}),x={x:(w.topCrop.x+w.topCrop.width/2)/n.width,y:(w.topCrop.y+w.topCrop.height/2)/n.height};return{preview:y,averageColor:h,focus:x,thumbHash:Jf.stringify(u),width:n.naturalWidth,height:n.naturalHeight}}var HP=D($(),1);var Sv=(e=>(e[e.Queued=0]="Queued",e[e.CreatingPreview=1]="CreatingPreview",e[e.Uploading=2]="Uploading",e[e.Uploaded=3]="Uploaded",e[e.Done=4]="Done",e))(Sv||{});function Fx(e){let t=oe(wt),[n,r]=(0,HP.useState)(Array);async function i(o,a,s){let l=Array.from(o,d=>new _x({file:d,createPreview:PP,parentId:a.parentId,workspace:a.workspace,root:a.root,replaceId:s})),u=l.map(d=>d.id),c=l.map((d,f)=>({id:d.id,file:o[f],to:a,replaceId:s,status:0}));r(d=>[...c,...d]);try{await t.commit(...l);let d=await t.find({select:{...W,...an},type:an,id:{in:u}});r(f=>f.map(h=>{let p=d.find(v=>v.id===h.id);if(!p)return h;let m={...h,status:4,preview:p.preview,averageColor:p.averageColor,focus:p.focus,thumbHash:p.thumbHash,width:p.width,height:p.height};return e?.(p),m}))}catch(d){r(f=>f.map(h=>u.includes(h.id)?{...h,status:4,error:d}:h))}}return{upload:i,uploads:n}}b();b();var Bk=D(L(),1);function VP(e){return(0,Bk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Bk.jsx)("path",{fill:"currentColor",d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4c0-2.05 1.53-3.76 3.56-3.97l1.07-.11l.5-.95A5.469 5.469 0 0 1 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5l1.53.11A2.98 2.98 0 0 1 22 15c0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"})})}b();var _k=D(L(),1);function is(e){return(0,_k.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,_k.jsx)("path",{fill:"currentColor",d:"M8.12 9.29L12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"})})}b();var Fk=D(L(),1);function lu(e){return(0,Fk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Fk.jsx)("path",{fill:"currentColor",d:"M8.12 14.71L12 10.83l3.88 3.88a.996.996 0 1 0 1.41-1.41L12.7 8.71a.996.996 0 0 0-1.41 0L6.7 13.3a.996.996 0 0 0 0 1.41c.39.38 1.03.39 1.42 0z"})})}var Av=D($(),1);b();b();var UP=D($(),1),jP=D(L(),1),zue={root:"alinea-Ellipsis"},Pue=j(zue),lo=(0,UP.memo)(function({children:t,...n}){return(0,jP.jsx)("div",{...n,className:Pue.root.mergeProps(n)(),title:typeof t=="string"?t:void 0,children:t})});b();var Ik=D(L(),1);function $P(e){return(0,Ik.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Ik.jsx)("path",{fill:"currentColor",d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8s8 3.58 8 8s-3.58 8-8 8z"})})}var uo=D(L(),1),Hue={root:"alinea-FileUploadRow","root-preview":"alinea-FileUploadRow-preview",rootPreview:"alinea-FileUploadRow-preview","root-preview-image":"alinea-FileUploadRow-preview-image",rootPreviewImage:"alinea-FileUploadRow-preview-image","root-preview-icon":"alinea-FileUploadRow-preview-icon",rootPreviewIcon:"alinea-FileUploadRow-preview-icon","root-status":"alinea-FileUploadRow-status",rootStatus:"alinea-FileUploadRow-status"},Cv=j(Hue);function qP(e){return(0,uo.jsxs)(K,{center:!0,full:!0,gap:10,className:Cv.root(),children:[(0,uo.jsx)("div",{className:Cv.root.preview(),children:e.preview?(0,uo.jsx)("img",{alt:"Uploaded file",src:e.preview,className:Cv.root.preview.image()}):(0,uo.jsx)("div",{className:Cv.root.preview.icon(),children:(0,uo.jsx)(of,{})})}),(0,uo.jsx)(ut,{children:(0,uo.jsx)(lo,{children:(0,uo.jsx)(Ze,{label:e.file.name})})}),(0,uo.jsx)(eo,{style:{marginLeft:"auto"},children:e.file.name.toLowerCase().split(".").pop()}),(0,uo.jsx)("div",{className:Cv.root.status(),children:e.status===Sv.Done?(0,uo.jsx)(te,{icon:e.error?$P:qa,title:e.error?e.error.message:"Done"}):(0,uo.jsx)(gn,{})})]})}var _i=D(L(),1),Vue={root:"alinea-FileUploader","root-content":"alinea-FileUploader-content",rootContent:"alinea-FileUploader-content","is-over":"alinea-FileUploader-is-over",isOver:"alinea-FileUploader-is-over","root-uploads":"alinea-FileUploader-uploads",rootUploads:"alinea-FileUploader-uploads","root-uploads-row":"alinea-FileUploader-uploads-row",rootUploadsRow:"alinea-FileUploader-uploads-row","root-header":"alinea-FileUploader-header",rootHeader:"alinea-FileUploader-header","root-header-label":"alinea-FileUploader-header-label",rootHeaderLabel:"alinea-FileUploader-header-label","root-header-label-input":"alinea-FileUploader-header-label-input",rootHeaderLabelInput:"alinea-FileUploader-header-label-input","root-header-close":"alinea-FileUploader-header-close",rootHeaderClose:"alinea-FileUploader-header-close","root-divider":"alinea-FileUploader-divider",rootDivider:"alinea-FileUploader-divider","root-footer":"alinea-FileUploader-footer",rootFooter:"alinea-FileUploader-footer"},jc=j(Vue);function tm({onlyImages:e,destination:t,max:n,toggleSelect:r,position:i="right"}){let o=!t,{upload:a,uploads:s}=Fx(r),[l,u]=(0,Av.useState)(!1),c=s.length>0,d=s.filter(w=>w.status===Sv.Done).length,f=d===s.length,h=s.length-d,[p,m]=(0,Av.useState)(!0);function v(w){if(!o)return a([...w],t)}function g(w){let{files:x}=w.target;if(x)return v(x)}let y=c?f?`${d} upload${d>1?"s":""} complete`:`uploading ${h} file${h>1?"s":""}`:"Upload files";return(0,Av.useEffect)(()=>{let{body:w}=document,x;function S(T){x=T.target,u(!0)}function E(T){T.preventDefault()}function k(T){T.target===x&&u(!1)}function A(T){T.preventDefault(),u(!1);let R=T.dataTransfer?.files;R&&v(R)}return w.addEventListener("dragenter",S),w.addEventListener("dragover",E),w.addEventListener("dragleave",k),w.addEventListener("drop",A),()=>{w.removeEventListener("dragenter",S),w.removeEventListener("dragover",E),w.removeEventListener("dragleave",k),w.removeEventListener("drop",A)}},[t]),(0,_i.jsx)("div",{className:jc.root({over:l}),style:{[i]:0},children:(0,_i.jsxs)(ut,{className:jc.root.content(),children:[(0,_i.jsxs)(K,{as:"header",className:jc.root.header(),children:[(0,_i.jsxs)("label",{className:jc.root.header.label(),children:[!o&&(0,_i.jsx)("input",{type:"file",className:jc.root.header.label.input(),multiple:n!==1,onChange:g,accept:e?"image/jpeg, image/png, image/gif, image/webp, image/avif, image/heic, image/svg+xml":void 0}),(0,_i.jsxs)(K,{center:!0,gap:8,children:[(0,_i.jsx)(te,{icon:VP,size:17}),(0,_i.jsx)("span",{children:y})]})]}),c&&(0,_i.jsx)("button",{onClick:()=>m(!p),className:jc.root.header.close(),children:(0,_i.jsx)(te,{icon:p?is:lu,size:18})})]}),p&&(0,_i.jsx)("div",{className:jc.root.uploads(),children:s.map(w=>(0,_i.jsx)("div",{className:jc.root.uploads.row(),children:(0,_i.jsx)(qP,{...w})},w.id))})]})})}var me=D(L(),1),Uue={root:"alinea-EntryHeader","root-tabTrigger":"alinea-EntryHeader-tabTrigger",rootTabTrigger:"alinea-EntryHeader-tabTrigger","is-active":"alinea-EntryHeader-is-active",isActive:"alinea-EntryHeader-is-active","root-menuToggle":"alinea-EntryHeader-menuToggle",rootMenuToggle:"alinea-EntryHeader-menuToggle","root-description":"alinea-EntryHeader-description",rootDescription:"alinea-EntryHeader-description","root-description-separator":"alinea-EntryHeader-description-separator",rootDescriptionSeparator:"alinea-EntryHeader-description-separator","root-description-title":"alinea-EntryHeader-description-title",rootDescriptionTitle:"alinea-EntryHeader-description-title","root-description-action":"alinea-EntryHeader-description-action",rootDescriptionAction:"alinea-EntryHeader-description-action","root-description-action-button":"alinea-EntryHeader-description-action-button",rootDescriptionActionButton:"alinea-EntryHeader-description-action-button","root-url":"alinea-EntryHeader-url",rootUrl:"alinea-EntryHeader-url","root-more":"alinea-EntryHeader-more",rootMore:"alinea-EntryHeader-more","is-draft":"alinea-EntryHeader-is-draft",isDraft:"alinea-EntryHeader-is-draft","is-editing":"alinea-EntryHeader-is-editing",isEditing:"alinea-EntryHeader-is-editing","is-revision":"alinea-EntryHeader-is-revision",isRevision:"alinea-EntryHeader-is-revision","is-published":"alinea-EntryHeader-is-published",isPublished:"alinea-EntryHeader-is-published","is-archived":"alinea-EntryHeader-is-archived",isArchived:"alinea-EntryHeader-is-archived","is-publishing":"alinea-EntryHeader-is-publishing",isPublishing:"alinea-EntryHeader-is-publishing","is-archiving":"alinea-EntryHeader-is-archiving",isArchiving:"alinea-EntryHeader-is-archiving","is-unpublished":"alinea-EntryHeader-is-unpublished",isUnpublished:"alinea-EntryHeader-is-unpublished","root-action":"alinea-EntryHeader-action",rootAction:"alinea-EntryHeader-action","root-main":"alinea-EntryHeader-main",rootMain:"alinea-EntryHeader-main","root-previewToggle":"alinea-EntryHeader-previewToggle",rootPreviewToggle:"alinea-EntryHeader-previewToggle"},un=j(Uue),KP={draft:"Draft",editing:"Editing",published:"Published",archived:"Archived",untranslated:"Untranslated",revision:"Revision",unpublished:"Unpublished"},jue={[Po.SaveDraft]:"Saving",[Po.SaveTranslation]:"Saving",[Po.PublishEdits]:"Publishing",[Po.RestoreRevision]:"Restoring",[Po.PublishDraft]:"Publishing",[Po.UnpublishDraft]:"Unpublishing",[Po.DiscardDraft]:"Discarding",[Po.ArchivePublished]:"Archiving",[Po.PublishArchived]:"Publishing",[Po.DeleteFile]:"Deleting",[Po.DeleteEntry]:"Deleting"},$ue={draft:gf,editing:gf,published:Dx,archived:kx,untranslated:Sp,revision:Rx,transition:kP,unpublished:Zp};function nm({editor:e,editable:t=!0}){let n=sn(),r=Hn(),{canPublish:i,canDelete:o,untranslated:a,parentNeedsTranslation:s}=e,l=oe(e.statusInUrl),u=oe(e.selectedStatus),c=oe(e.previewRevision),d=e.activeStatus===u,f=e.activeVersion.type==="MediaFile",h=e.activeVersion.type==="MediaLibrary",p=oe(e.hasChanges),m=oe(e.transition),v=m!==void 0?"transition":c?"revision":a?"untranslated":p&&!l?"editing":u==="draft"&&e.activeVersion.main?"unpublished":u,g=it(e.saveDraft),y=it(e.publishEdits),w=it(e.publishDraft),x=it(e.restoreRevision),S=it(e.discardDraft),E=it(e.unPublish),k=it(e.archive),A=it(e.publishArchived),T=it(e.deleteEntry),R=it(e.deleteFile),M=it(e.deleteMediaLibrary),O=ug();function B(){return R()?.then(()=>{O.invalidateQueries("explorer"),Q(N.root(I))})}function _(){return M()?.then(()=>{O.invalidateQueries("explorer"),Q(N.root(I))})}let z=it(e.saveTranslation),V=it(e.discardEdits),P=()=>z(r),[F,U]=Bo(e.showHistory),I=vp(),Q=fr(),N=Vt(),{pathname:H}=Ka(),{isNavOpen:G,isPreviewOpen:Y,toggleNav:ne,togglePreview:ae}=Gp(),[ce,Ee]=(0,YP.useState)(!1),{upload:be}=Fx();function Se(){Ee(!0);let nt=document.createElement("input");nt.type="file";let re=e.activeVersion.data.extension;nt.accept=re,nt.onchange=async()=>{let ue=nt.files[0],Ae={parentId:e.activeVersion.parentId??void 0,workspace:e.activeVersion.workspace,root:e.activeVersion.root,directory:Sc(n,e.activeVersion.workspace)};await be([ue],Ae,e.entryId)},nt.click()}let pe=e.parents.some(nt=>nt.status==="draft"),ye=v==="draft"?(0,me.jsx)(de.Item,{className:un.root.action(),onClick:S,children:"Remove draft"}):v==="published"&&!e.activeVersion.seeded?f?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(de.Item,{className:un.root.action(),onClick:Se,children:"Replace"}),(0,me.jsx)(de.Item,{className:un.root.action(),onClick:B,children:"Delete"})]}):h?(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(de.Item,{className:un.root.action(),onClick:_,children:"Delete"})}):(0,me.jsxs)(me.Fragment,{children:[n.enableDrafts&&(0,me.jsx)(de.Item,{className:un.root.action(),onClick:E,children:"Unpublish"}),(0,me.jsx)(de.Item,{className:un.root.action(),onClick:k,children:"Archive"})]}):v==="archived"?(0,me.jsxs)(me.Fragment,{children:[i&&(0,me.jsx)(de.Item,{className:un.root.action(),onClick:A,children:"Publish"}),o&&(0,me.jsx)(de.Item,{className:un.root.action(),onClick:T,children:"Delete"})]}):v==="unpublished"?pe?(0,me.jsx)(de.Item,{className:un.root.action(),onClick:T,children:"Delete"}):(0,me.jsx)(de.Item,{className:un.root.action(),onClick:k,children:"Archive"}):null,Pe=m!==void 0;return(0,me.jsxs)(me.Fragment,{children:[ce&&(0,me.jsx)(tm,{}),(0,me.jsx)(Go.Root,{className:un.root(),variant:v,children:(0,me.jsxs)(K,{center:!0,gap:12,className:un.root.description(),children:[(0,me.jsx)("button",{type:"button",onClick:()=>ne(),title:G?"Hide menu":"Display menu",className:un.root.menuToggle(),children:(0,me.jsx)(te,{icon:Mx})}),(0,me.jsx)(te,{icon:$ue[v],size:18}),(0,me.jsxs)(de.Root,{bottom:!0,children:[(0,me.jsx)(de.Trigger,{className:un.root.description.title(),children:(0,me.jsxs)(K,{center:!0,gap:4,children:[(0,me.jsx)("span",{children:v==="transition"?jue[m]:KP[v]}),!c&&e.availableStatuses.length>1&&(0,me.jsx)(te,{icon:Ar})]})}),(0,me.jsxs)(de.Items,{children:[p&&(0,me.jsx)(de.Item,{onClick:()=>{Q(H)},children:"Editing"}),!c&&e.availableStatuses.map(nt=>(0,me.jsx)(de.Item,{onClick:()=>{Q(`${H}?${nt}`)},children:KP[nt]},nt))]})]}),!Pe&&!p&&!d&&e.availableStatuses.includes("draft")&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("span",{className:un.root.description.separator()}),(0,me.jsx)("div",{className:un.root.description.action(),children:"A newer draft version is available"})]}),!Pe&&a&&!s&&!p&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("span",{className:un.root.description.separator()}),(0,me.jsx)("div",{className:un.root.description.action(),children:(0,me.jsxs)(K,{center:!0,children:[(0,me.jsx)("span",{style:{marginRight:Me(8)},children:"Translate from"}),(0,me.jsx)(Kp,{selected:e.activeVersion.locale,locales:e.translations.map(({locale:nt})=>nt),onChange:nt=>{Q(`${H}?from=${nt}`)}})]})})]}),!Pe&&a&&e.parentNeedsTranslation&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("span",{className:un.root.description.separator()}),(0,me.jsx)("div",{className:un.root.description.action(),children:"Translate parent page first"})]}),v==="editing"&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("span",{className:un.root.description.separator()}),(0,me.jsx)("div",{className:un.root.description.action(),children:(0,me.jsxs)("button",{type:"button",className:un.root.description.action.button(),onClick:V,children:[(0,me.jsx)(te,{icon:DP}),(0,me.jsx)("span",{children:"Discard edits"})]})})]}),(0,me.jsx)(Vr.Right,{children:(0,me.jsxs)(K,{center:!0,gap:12,children:[!Pe&&(0,me.jsxs)(me.Fragment,{children:[a&&!e.parentNeedsTranslation&&(0,me.jsx)(nn,{icon:Ox,onClick:P,children:"Save translation"}),v==="editing"&&i&&(0,me.jsx)(nn,{icon:qa,onClick:y,children:"Publish"}),!a&&!p&&i&&u==="draft"&&(0,me.jsx)(nn,{icon:qa,onClick:w,className:un.root.main({unpublished:v==="unpublished"}),children:"Publish"}),n.enableDrafts&&v==="editing"&&(0,me.jsx)(nn,{outline:!0,icon:Ox,onClick:g,children:"Save"}),v==="revision"&&(0,me.jsx)(nn,{icon:Ox,onClick:x,children:"Restore"}),(0,me.jsxs)(de.Root,{bottom:!0,left:!0,children:[(0,me.jsx)(de.Trigger,{className:un.root.more(v),children:(0,me.jsx)(te,{icon:RP})}),(0,me.jsxs)(de.Items,{children:[!f&&!h&&(0,me.jsxs)(de.Item,{onClick:()=>U(!F),children:[F?"Hide":"Show"," history"]}),ye]})]})]}),(0,me.jsx)("button",{type:"button",onClick:()=>ae(),title:Y?"Hide preview":"Display preview",className:un.root.previewToggle(),children:(0,me.jsx)(te,{icon:MP,style:{transform:`scaleX(${Y?1:-1})`}})})]})})]})})]})}b();var WP=D($(),1),Fi=D(L(),1),que={root:"alinea-EntryHistory",list:"alinea-EntryHistory-list","list-revision":"alinea-EntryHistory-list-revision",listRevision:"alinea-EntryHistory-list-revision","is-selected":"alinea-EntryHistory-is-selected",isSelected:"alinea-EntryHistory-is-selected"},Nk=j(que);function GP({editor:e}){return(0,Fi.jsx)("header",{className:Nk.root(),children:(0,Fi.jsx)(WP.Suspense,{fallback:(0,Fi.jsx)(gn,{absolute:!0}),children:(0,Fi.jsx)(Kue,{editor:e})})})}function Kue({editor:e}){let t=oe(e.revisionsAtom);return(0,Fi.jsx)("ul",{className:Nk.list(),children:t.map((n,r)=>(0,Fi.jsx)(Yue,{editor:e,revision:n,isCurrent:r===0},n.ref))})}function Yue({editor:e,revision:t,isCurrent:n}){let r=new Date(t.createdAt),[i,o]=Bo(e.previewRevision);return(0,Fi.jsx)("button",{type:"button",title:t.description,className:Nk.list.revision({selected:i?i.ref===t.ref:n,current:n}),onClick:()=>o(n?void 0:t),children:(0,Fi.jsxs)(K,{center:!0,gap:10,children:[n?(0,Fi.jsx)(te,{icon:Dx,size:18}):(0,Fi.jsx)(te,{icon:Rx,size:18}),(0,Fi.jsxs)(ut,{align:"flex-start",children:[(0,Fi.jsx)("b",{children:r.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}),(0,Fi.jsx)(lo,{children:t.user?.name})]})]})},t.ref)}b();var $c=D(L(),1),Wue={root:"alinea-EntryNotice","root-title":"alinea-EntryNotice-title",rootTitle:"alinea-EntryNotice-title","is-draft":"alinea-EntryNotice-is-draft",isDraft:"alinea-EntryNotice-is-draft","is-published":"alinea-EntryNotice-is-published",isPublished:"alinea-EntryNotice-is-published","is-archived":"alinea-EntryNotice-is-archived",isArchived:"alinea-EntryNotice-is-archived","is-publishing":"alinea-EntryNotice-is-publishing",isPublishing:"alinea-EntryNotice-is-publishing"},QP=j(Wue);function JP({icon:e,title:t,variant:n,children:r}){return(0,$c.jsx)(Ja,{className:QP.root(n),children:(0,$c.jsxs)(K,{center:!0,gap:22,children:[e&&(0,$c.jsx)("div",{children:(0,$c.jsx)(te,{icon:e,size:24})}),(0,$c.jsxs)("div",{children:[(0,$c.jsx)("h2",{className:QP.root.title(),children:t}),r]})]})})}b();var Nx=D($(),1);b();b();var uu=(e=>(e.Ping="[alinea-ping]",e.Pong="[alinea-pong]",e.Reload="[alinea-reload]",e.Refetch="[alinea-refetch]",e.Previous="[alinea-previous]",e.Next="[alinea-next]",e.Preview="[alinea-preview]",e.Meta="[alinea-meta]",e))(uu||{});b();var Lk=D(L(),1);function qc(e){return(0,Lk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Lk.jsx)("path",{fill:"currentColor",d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0l-6.59 6.59a.996.996 0 0 0 0 1.41l6.59 6.59a.996.996 0 1 0 1.41-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"})})}b();var zk=D(L(),1);function XP(e){return(0,zk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,zk.jsx)("path",{fill:"currentColor",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"})})}b();var Pk=D(L(),1);function ZP(e){return(0,Pk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Pk.jsx)("path",{fill:"currentColor",d:"M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71l-.64.65z"})})}var Ii=D($(),1),Un=D(L(),1),Gue={root:"alinea-BrowserPreview","root-bar":"alinea-BrowserPreview-bar",rootBar:"alinea-BrowserPreview-bar","root-iframe":"alinea-BrowserPreview-iframe",rootIframe:"alinea-BrowserPreview-iframe","root-loader":"alinea-BrowserPreview-loader",rootLoader:"alinea-BrowserPreview-loader","is-loading":"alinea-BrowserPreview-is-loading",isLoading:"alinea-BrowserPreview-is-loading",mini:"alinea-BrowserPreview-mini","mini-footer":"alinea-BrowserPreview-mini-footer",miniFooter:"alinea-BrowserPreview-mini-footer"},Ix=j(Gue),Hk=(0,Ii.createContext)({setMetadata:()=>{}}),eH=({entryId:e,children:t})=>{let[n,r]=(0,Ii.useState)();return(0,Ii.useEffect)(()=>{r(void 0)},[e]),(0,Un.jsx)(Hk.Provider,{value:{setMetadata:r,metadata:n},children:t})};function tH(){return(0,Ii.useContext)(Hk)?.metadata}function nH({url:e,registerLivePreview:t}){let n=(0,Ii.useContext)(Hk),r=(0,Ii.useRef)(null),[i,o]=(0,Ii.useState)(!0),a=(0,Ii.useRef)(!1),s=new URL(e,window.location.href),l=`${s.protocol}//${s.host}`;(0,Ii.useEffect)(()=>{o(!0);function p(m){!m.data||typeof m.data!="object"||(m.data.action===uu.Ping&&(console.info("[Alinea preview window detected]"),a.current=!0,t({preview(v){u({action:uu.Preview,payload:v})}}),u({action:uu.Pong})),m.data.action===uu.Meta&&n.setMetadata(m.data))}return addEventListener("message",p),()=>removeEventListener("message",p)},[e]),(0,Ii.useEffect)(()=>{if(i){let p=setTimeout(()=>o(!1),3e3);return()=>clearTimeout(p)}},[i]);function u(p){r.current?.contentWindow?.postMessage(p,l)}function c(){u({action:uu.Previous})}function d(){u({action:uu.Next})}function f(){a.current?u({action:uu.Reload}):r.current?.setAttribute("src",e),o(!0)}let h=(0,Un.jsx)(Un.Fragment,{children:(0,Un.jsxs)("div",{style:{flexGrow:1,position:"relative",overflow:"hidden"},children:[(0,Un.jsx)("div",{className:Ix.root.loader({loading:i}),children:(0,Un.jsx)(gn,{})}),(0,Un.jsx)("iframe",{ref:r,className:Ix.root.iframe(),allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-top-navigation allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock",src:e,onLoad:()=>{o(!1)}},e)]})});return(0,Un.jsxs)("div",{className:Ix.root(),children:[(0,Un.jsx)(Go.Root,{className:Ix.root.bar(),children:(0,Un.jsxs)(K,{style:{height:"100%"},children:[(0,Un.jsx)(Go.Item,{as:"button",icon:qc,onClick:c}),(0,Un.jsx)(Go.Item,{as:"button",icon:ew,onClick:d}),(0,Un.jsx)(Go.Item,{as:"button",icon:ZP,onClick:f}),(0,Un.jsx)(Go.Item,{full:!0,style:{flexGrow:1,minWidth:0},children:(0,Un.jsx)(At.Monospace,{style:{display:"block",width:"100%",background:"var(--alinea-highlight)",padding:`${Me(6)} ${Me(15)}`,borderRadius:Me(8)},children:(0,Un.jsxs)(K,{gap:8,center:!0,children:[(0,Un.jsx)(XP,{style:{flexShrink:0}}),(0,Un.jsx)("span",{style:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e})]})})}),(0,Un.jsx)(Go.Item,{as:"a",icon:bp,href:`${e}&full`,target:"_blank"})]})}),h]})}var Tv=D(L(),1);function rH({editor:e,preview:t}){return t?typeof t=="boolean"?(0,Tv.jsx)(Que,{editor:e}):(0,Tv.jsx)(Jue,{editor:e,preview:t}):null}function Que({editor:e}){let t=sn(),n=oe(Wh(e.previewPayload)),i=`?preview=${oe(e.previewToken)}`,[o,a]=(0,Nx.useState)(void 0);(0,Nx.useEffect)(()=>{n&&o?.preview(n)},[n]);let s=new URL(t.handlerUrl??"",Mn.baseUrl(t)??location.href),l=new URL(i,s);return(0,Tv.jsx)(nH,{url:l.toString(),registerLivePreview:a})}function Jue({editor:e,preview:t}){let n=oe(e.draftEntry);return(0,Tv.jsx)(t,{entry:n})}b();var co=D(L(),1),Xue={root:"alinea-EntryTitle","root-inner":"alinea-EntryTitle-inner",rootInner:"alinea-EntryTitle-inner","root-title":"alinea-EntryTitle-title",rootTitle:"alinea-EntryTitle-title"},Vk=j(Xue);function Lx({children:e,editor:t,backLink:n}){let r=hr(),i=oe(t.selectedStatus),o=t.statuses[i],a=t.type,s=oe(t.activeTitle),l=i===t.activeStatus?s:o.title;return(0,co.jsxs)(co.Fragment,{children:[(0,co.jsx)(Zi,{children:(0,co.jsx)("title",{children:`${r.label}: ${l}`})}),(0,co.jsxs)("div",{className:Vk.root(),children:[(0,co.jsxs)(K,{center:!0,gap:12,wrap:!0,className:Vk.root.inner(),children:[(0,co.jsxs)(K,{center:!0,gap:8,children:[n&&(0,co.jsx)(qw,{icon:qc,href:n,style:{marginLeft:Me(-4)}}),(0,co.jsx)("h1",{className:Vk.root.title(),children:(0,co.jsx)("span",{children:l})})]}),(0,co.jsx)(eo,{children:he.label(a)})]}),e]})]})}b();var Uk=D(L(),1),Zue={root:"alinea-FieldToolbar","root-inner":"alinea-FieldToolbar-inner",rootInner:"alinea-FieldToolbar-inner","is-active":"alinea-FieldToolbar-is-active",isActive:"alinea-FieldToolbar-is-active"},iH=j(Zue),yf;(e=>{({Provider:e.Provider,Portal:e.Portal,Slot:e.Slot,useSlots:e.useSlots}=wc());let t=e.Portal;function n(r){let{shown:i}=(0,e.useSlots)();return(0,Uk.jsx)(Go.Root,{...r,className:iH.root.mergeProps(r)({active:i}),children:(0,Uk.jsx)(t,{className:iH.root.inner()})})}e.Root=n})(yf||(yf={}));var Ve=D(L(),1),ece={root:"alinea-EntryEdit","root-tabs":"alinea-EntryEdit-tabs",rootTabs:"alinea-EntryEdit-tabs"},oH=j(ece);function tce({editor:e}){let t=oe(e.draftEntry),r=oe(e.hasChanges)?e.activeVersion:e.statuses[e.availableStatuses.find(i=>i!=="draft")];return(0,Ve.jsx)(AP,{entryA:r,entryB:t})}function jk({editor:e}){let{alineaDev:t}=ur(),n=Hn(),r=sn(),{isPreviewOpen:i}=Gp(),o=Vt(),[a,s]=(0,Js.useState)(),l=oe(e.editMode),u=oe(e.hasChanges),c=oe(e.selectedStatus),d=(0,Js.useRef)(null);(0,Js.useEffect)(()=>{d.current?.scrollTo({top:0})},[e.entryId,l,c]);let{isBlocking:f,nextRoute:h,confirm:p,cancel:m}=x7("Are you sure you want to discard changes?",!e.untranslated&&u),v=h?.data.editor?.entryId!==e.entryId,g=oe(e.form),y=it(e.saveDraft),w=it(e.publishDraft),x=it(e.publishEdits),S=it(e.discardEdits),E=oe(e.showHistory),k=it(e.saveTranslation),A=oe(e.previewRevision),T=e.preview,R=()=>k(n);(0,Js.useEffect)(()=>{function V(P){if((P.ctrlKey||P.metaKey)&&P.key==="s"){if(P.preventDefault(),A){alert("todo");return}e.untranslated&&u?R():r.enableDrafts?u?y():c==="draft"&&w():u&&x()}}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[e,u,y,r.enableDrafts]);let M=he.sections(e.type),O=M.length===1&&M[0][xn.Data]instanceof t4,_=(O?M[0][xn.Data]:void 0)?.types.filter(V=>!he.isHidden(V)),z=0;return O&&_&&a!==void 0&&(z=a,a>=_.length&&(z=0)),(0,Js.useEffect)(()=>{f&&!v&&p?.()},[f,v,p]),(0,Ve.jsxs)(eH,{entryId:e.entryId,children:[t&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(No.Slot,{children:(0,Ve.jsxs)(No.Status,{icon:of,children:[e.activeVersion.filePath," @"," ",e.activeVersion.fileHash.slice(0,8)]})}),(0,Ve.jsx)(No.Slot,{children:(0,Ve.jsx)(No.Status,{icon:qs,children:e.activeVersion.url})})]}),f&&v&&(0,Ve.jsx)(ga,{open:!0,onClose:()=>m(),children:(0,Ve.jsxs)(ut,{gap:30,children:[(0,Ve.jsxs)("p",{children:["This document was changed,",(0,Ve.jsx)("br",{}),"would you like to save your changes?"]}),(0,Ve.jsx)(K,{as:"footer",children:(0,Ve.jsx)(Vr.Right,{children:(0,Ve.jsxs)(K,{gap:16,children:[(0,Ve.jsx)(nn,{outline:!0,type:"button",onClick:()=>{S(),p()},children:"Discard my changes"}),r.enableDrafts?(0,Ve.jsx)(nn,{onClick:()=>{y(),p()},children:"Save as draft"}):(0,Ve.jsx)(nn,{onClick:()=>{x(),p()},children:"Publish changes"})]})})})]})}),(0,Ve.jsx)($s,{scrollRef:d,className:oH.root(),children:(0,Ve.jsxs)(yf.Provider,{children:[(0,Ve.jsx)(nm,{editor:e}),E&&(0,Ve.jsx)(GP,{editor:e}),(0,Ve.jsxs)(ba.Root,{style:{flex:1},selectedIndex:z,onChange:V=>s(V),children:[(0,Ve.jsx)(Lx,{editor:e,backLink:e.activeVersion.parentId?o.entry({id:e.activeVersion.parentId,workspace:e.activeVersion.workspace}):o.entry({id:void 0}),children:O&&(0,Ve.jsx)("div",{className:oH.root.tabs(),children:(0,Ve.jsx)(O4,{backdrop:!1,section:M[0]})})}),(0,Ve.jsxs)($s.Container,{children:[e.untranslated&&(0,Ve.jsx)("div",{children:(0,Ve.jsx)(JP,{icon:Sp,title:"Untranslated",variant:"untranslated",children:e.parentNeedsTranslation?"Translate the parent page first.":"Enter the details below and save to start translating."})}),(0,Ve.jsx)(CL,{editor:e,children:(0,Ve.jsx)(Qa,{name:"input form",children:l===wk.Diff?(0,Ve.jsx)(tce,{editor:e}):O&&_?(0,Ve.jsx)(ba.Panels,{children:_.map((V,P)=>(0,Ve.jsx)(Zd,{form:g,children:(0,Ve.jsx)(ba.Panel,{unmount:!1,tabIndex:P,children:(0,Ve.jsx)(Qn,{type:V})})},P))}):(0,Ve.jsx)(ut,{gap:18,children:(0,Ve.jsx)(Qn,{form:g})})})})]})]}),(0,Ve.jsx)(yf.Root,{})]})}),T&&(0,Ve.jsx)(rP,{children:(0,Ve.jsx)(Js.Suspense,{children:(0,Ve.jsx)(rH,{preview:T,editor:e})})})]})}b();var Kk=D($(),1);b();function aH(e,t){let n;return function(...i){clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}b();var $k=D(L(),1);function as(e){return(0,$k.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,$k.jsx)("path",{fill:"currentColor",d:"M9.29 15.88L13.17 12L9.29 8.12a.996.996 0 1 1 1.41-1.41l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3a.996.996 0 0 1-1.41 0c-.38-.39-.39-1.03 0-1.42z"})})}b();var kv=D(L(),1);function sH(e){return(0,kv.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",opacity:".9",...e,children:[(0,kv.jsx)("path",{fill:"currentColor",d:"M13 4H6v16h12V9h-5zm3 14H8v-2h8zm0-6v2H8v-2z",opacity:".1"}),(0,kv.jsx)("path",{fill:"currentColor",d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5z"})]})}b();var Dv=D(L(),1);function lH(e){return(0,Dv.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",opacity:".9",...e,children:[(0,Dv.jsx)("path",{fill:"currentColor",d:"m11.17 8l-.58-.59L9.17 6H4v12h16V8h-8z",opacity:".1"}),(0,Dv.jsx)("path",{fill:"currentColor",d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V6h5.17l1.41 1.41l.59.59H20z"})]})}var Ni=D($(),1);b();b();pd();var zx=Ir({"node_modules/dataloader/index.js"(e,t){"use strict";var n=(function(){function m(g,y){if(typeof g!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+g+"."));this._batchLoadFn=g,this._maxBatchSize=u(y),this._batchScheduleFn=c(y),this._cacheKeyFn=d(y),this._cacheMap=f(y),this._batch=null,this.name=h(y)}var v=m.prototype;return v.load=function(y){if(y==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(y)+"."));var w=o(this),x=this._cacheMap,S=this._cacheKeyFn(y);if(x){var E=x.get(S);if(E){var k=w.cacheHits||(w.cacheHits=[]);return new Promise(function(T){k.push(function(){T(E)})})}}w.keys.push(y);var A=new Promise(function(T,R){w.callbacks.push({resolve:T,reject:R})});return x&&x.set(S,A),A},v.loadMany=function(y){if(!p(y))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+y+"."));for(var w=[],x=0;x<y.length;x++)w.push(this.load(y[x]).catch(function(S){return S}));return Promise.all(w)},v.clear=function(y){var w=this._cacheMap;if(w){var x=this._cacheKeyFn(y);w.delete(x)}return this},v.clearAll=function(){var y=this._cacheMap;return y&&y.clear(),this},v.prime=function(y,w){var x=this._cacheMap;if(x){var S=this._cacheKeyFn(y);if(x.get(S)===void 0){var E;w instanceof Error?(E=Promise.reject(w),E.catch(function(){})):E=Promise.resolve(w),x.set(S,E)}}return this},m})(),r=typeof C=="object"&&typeof C.nextTick=="function"?function(m){i||(i=Promise.resolve()),i.then(function(){C.nextTick(m)})}:typeof setImmediate=="function"?function(m){setImmediate(m)}:function(m){setTimeout(m)},i;function o(m){var v=m._batch;if(v!==null&&!v.hasDispatched&&v.keys.length<m._maxBatchSize)return v;var g={hasDispatched:!1,keys:[],callbacks:[]};return m._batch=g,m._batchScheduleFn(function(){a(m,g)}),g}function a(m,v){if(v.hasDispatched=!0,v.keys.length===0){l(v);return}var g;try{g=m._batchLoadFn(v.keys)}catch(y){return s(m,v,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(y)+".")))}if(!g||typeof g.then!="function")return s(m,v,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(g)+".")));g.then(function(y){if(!p(y))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(y)+"."));if(y.length!==v.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(v.keys))+(`

Values:
`+String(y)));l(v);for(var w=0;w<v.callbacks.length;w++){var x=y[w];x instanceof Error?v.callbacks[w].reject(x):v.callbacks[w].resolve(x)}}).catch(function(y){s(m,v,y)})}function s(m,v,g){l(v);for(var y=0;y<v.keys.length;y++)m.clear(v.keys[y]),v.callbacks[y].reject(g)}function l(m){if(m.cacheHits)for(var v=0;v<m.cacheHits.length;v++)m.cacheHits[v]()}function u(m){var v=!m||m.batch!==!1;if(!v)return 1;var g=m&&m.maxBatchSize;if(g===void 0)return 1/0;if(typeof g!="number"||g<1)throw new TypeError("maxBatchSize must be a positive number: "+g);return g}function c(m){var v=m&&m.batchScheduleFn;if(v===void 0)return r;if(typeof v!="function")throw new TypeError("batchScheduleFn must be a function: "+v);return v}function d(m){var v=m&&m.cacheKeyFn;if(v===void 0)return function(g){return g};if(typeof v!="function")throw new TypeError("cacheKeyFn must be a function: "+v);return v}function f(m){var v=!m||m.cache!==!1;if(!v)return null;var g=m&&m.cacheMap;if(g===void 0)return new Map;if(g!==null){var y=["get","set","delete","clear"],w=y.filter(function(x){return g&&typeof g[x]!="function"});if(w.length!==0)throw new TypeError("Custom cacheMap missing methods: "+w.join(", "))}return g}function h(m){return m&&m.name?m.name:null}function p(m){return typeof m=="object"&&m!==null&&typeof m.length=="number"&&(m.length===0||m.length>0&&Object.prototype.hasOwnProperty.call(m,m.length-1))}t.exports=n}});b();var uH=class Px extends Promise{constructor(t){super(n=>{n()}),this._executor=t}static from(t){return new Px(n=>{n(t())})}static resolve(t){return new Px(n=>{n(t)})}static reject(t){return new Px((n,r)=>{r(t)})}then(t,n){return this._promise=this._promise||new Promise(this._executor),this._promise.then(t,n)}catch(t){return this._promise=this._promise||new Promise(this._executor),this._promise.catch(t)}};pd();b();b();function cH(e="<mark>",t="</mark>",n="...",r=64){return new yt({type:"call",method:"snippet",args:[new yt({type:"value",value:e}),new yt({type:"value",value:t}),new yt({type:"value",value:n}),new yt({type:"value",value:r})]})}var L7e=W.id,z7e=W.title,P7e=W.type,H7e=W.index,V7e=W.workspace,U7e=W.root,j7e=W.status,$7e=W.parentId,q7e=W.locale,K7e=W.path,Y7e=W.url;function Hx(e){return{edge:"parents",...e}}function dH(e){return{edge:"translations",...e}}var fH=D($(),1);var nce=xs(zx(),1),Kc="@alinea/root",rce=J(e=>{let{schema:t}=e(oi);return le(t).filter(([n,r])=>!he.isHidden(r)).map(([n])=>n)});async function ice(e,t,n,r,i,o){return!!await e.first({workspace:n,root:r,parentId:i,locale:t,filter:{_type:{in:o}},status:"preferDraft"})}function hH(e,t,n,r,i,o,a){return uH.from(async()=>{let s=await e.find({select:{id:W.id,locale:W.locale},orderBy:a,workspace:n,root:r,parentId:i,filter:{_type:{in:o}},status:"preferDraft"}),l=new Set,u=new Set(s.filter(d=>d.locale===t).map(d=>d.id)),c=s.filter(d=>u.has(d.id)?d.locale===t:l.has(d.id)?!1:(l.add(d.id),!0));return[...new Set(c.map(d=>d.id))]})}async function oce(e,t,n,r,i){let o=e.config.workspaces[n][r],a=br(o).orderChildrenBy;return{id:Kc,index:"",type:Kc,isFolder:!0,isRoot:!0,entries:[],hasChildren:!0,children:hH(e,t,n,r,null,i,a)}}var ace=J(e=>{let t=e(wt),n=e(Qd),r=e(rce),{schema:i}=e(oi),o=e(mp),a=e(ma);return new nce.default(async s=>{let l=new Map,u=s.filter(h=>h!==Kc),c={id:W.id,type:W.type,title:W.title,status:W.status,locale:W.locale,workspace:W.workspace,main:W.main,root:W.root,path:W.path,parents:Hx({select:{path:W.path,type:W.type}})},d=await t.find({groupBy:W.id,select:{id:W.id,index:W.index,type:W.type,data:c,translations:dH({select:c})},id:{in:u},status:"preferDraft"});for(let h of d){let p=h.data.parents.length>0?!rt(i[h.data.parents.at(-1).type]).orderChildrenBy:!0,m=i[h.type],v=rt(m).orderChildrenBy,g=hH(t,n,h.data.workspace,h.data.root,h.id,r,v),y=await ice(t,n,h.data.workspace,h.data.root,h.id,r),w=[h.data].concat(h.translations);l.set(h.id,{id:h.id,type:h.type,index:h.index,entries:w,canDrag:p,hasChildren:y,children:g})}let f=[];for(let h of s){if(h===Kc){f.push(await oce(t,n,a.name,o.name,r));continue}let p=l.get(h);if(!p){f.push(void 0);continue}let m=p.entries[0].type,v=i[m],g=he.isContainer(v);f.push({...p,isFolder:g})}return f})});function pH(){let e=oe(ace),t=oe(wt);return(0,fH.useMemo)(()=>({canDrag(n){return n.every(r=>r.getItemData().canDrag)},canDrop(n,r){let{item:i}=r;if(n.length!==1)return!1;let[o]=n,a=o.getParent()!==i,s=i.getItemData(),l=o.getItemData();if(!l)return!1;let u=t.config.schema[l.type];if(!s)return!1;if(s.type===Kc){let f=l.entries[0],h=t.config.workspaces[f.workspace][f.root],p=br(h).orderChildrenBy;return a?Mn.rootContains(t.config,h,u):!p}let c=t.config.schema[s.type],d=rt(c).orderChildrenBy;return a?Mn.typeContains(t.config,c,u):!d},onDrop(n,r){let{item:i}=r;if(n.length!==1)return;let[o]=n,a=i.getChildren(),s="childIndex"in r?a[r.childIndex-1]:null,l=s?s.getId():null,u=o.getParent()!==i,c=i.getId().startsWith("@alinea")?o.getItemData().entries[0].root:void 0,d=!c&&u?i.getId():void 0;t.move({id:o.getId(),after:l,toParent:d,toRoot:c})},async getItem(n){let r=await e.clear(n).load(n);if(!r)throw new Error(`Item ${n} not found`);return r},async getChildren(n){return this.getItem(n).then(r=>r?.children??[])}}),[e])}var jn=D(L(),1),xH=D($(),1);function sce(e,t){return typeof e=="function"?e(t):e}function rm(e,t){return n=>{t.setState(r=>Object.assign(Object.assign({},r),{[e]:sce(n,r[e])}))}}var mH=(e,t=100,n=1e3)=>new Promise(r=>{let i,o=setInterval(()=>{e()&&(r(),clearInterval(o),clearTimeout(i))},t);i=setTimeout(()=>{clearInterval(o)},n)}),gH=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})},lce={key:"tree",getInitialState:e=>Object.assign({expandedItems:[],focusedItem:null},e),getDefaultConfig:(e,t)=>Object.assign({setExpandedItems:rm("expandedItems",t),setFocusedItem:rm("focusedItem",t)},e),stateHandlerNames:{expandedItems:"setExpandedItems",focusedItem:"setFocusedItem"},treeInstance:{getItemsMeta:({tree:e})=>{let{rootItemId:t}=e.getConfig(),{expandedItems:n}=e.getState(),r=[],i=new Set(n),o=(l,u,c,d,f)=>{var h;if(r.push({itemId:l,level:c,index:r.length,parentId:u,setSize:d,posInSet:f}),i.has(l)){let p=(h=e.retrieveChildrenIds(l))!==null&&h!==void 0?h:[],m=0;for(let v of p)o(v,l,c+1,p.length,m++)}},a=e.retrieveChildrenIds(t),s=0;for(let l of a)o(l,t,0,a.length,s++);return r},getFocusedItem:({tree:e})=>{var t,n;return(n=e.getItemInstance((t=e.getState().focusedItem)!==null&&t!==void 0?t:""))!==null&&n!==void 0?n:e.getItems()[0]},focusNextItem:({tree:e})=>{var t;let{index:n}=e.getFocusedItem().getItemMeta(),r=Math.min(n+1,e.getItems().length-1);(t=e.getItems()[r])===null||t===void 0||t.setFocused()},focusPreviousItem:({tree:e})=>{var t;let{index:n}=e.getFocusedItem().getItemMeta(),r=Math.max(n-1,0);(t=e.getItems()[r])===null||t===void 0||t.setFocused()},updateDomFocus:({tree:e})=>{setTimeout(()=>gH(void 0,void 0,void 0,function*(){var t,n;let r=e.getFocusedItem();(n=(t=e.getConfig()).scrollToItem)===null||n===void 0||n.call(t,r),yield mH(()=>r.getElement()!==null,20);let i=r.getElement();i&&i.focus()}))},getContainerProps:({prev:e,tree:t},n)=>Object.assign(Object.assign({},e?.()),{role:"tree","aria-label":n??"",ref:t.registerElement}),isSearchOpen:()=>!1},itemInstance:{scrollTo:(e,t)=>gH(void 0,[e,t],void 0,function*({tree:n,item:r},i){var o,a,s;(a=(o=n.getConfig()).scrollToItem)===null||a===void 0||a.call(o,r),yield mH(()=>r.getElement()!==null,20),(s=r.getElement())===null||s===void 0||s.scrollIntoView(i)}),getId:({itemId:e})=>e,getProps:({item:e,prev:t})=>{let n=e.getItemMeta();return Object.assign(Object.assign({},t?.()),{ref:e.registerElement,role:"treeitem","aria-setsize":n.setSize,"aria-posinset":n.posInSet,"aria-selected":"false","aria-label":e.getItemName(),"aria-level":n.level,tabIndex:e.isFocused()?0:-1,onClick:r=>{e.setFocused(),e.primaryAction(),!(r.ctrlKey||r.shiftKey||r.metaKey)&&e.isFolder()&&(e.isExpanded()?e.collapse():e.expand())}})},expand:({tree:e,item:t,itemId:n})=>{var r;t.isFolder()&&(!((r=e.getState().loadingItemChildrens)===null||r===void 0)&&r.includes(n)||(e.applySubStateUpdate("expandedItems",i=>[...i,n]),e.rebuildTree()))},collapse:({tree:e,item:t,itemId:n})=>{t.isFolder()&&(e.applySubStateUpdate("expandedItems",r=>r.filter(i=>i!==n)),e.rebuildTree())},getItemData:({tree:e,itemId:t})=>e.retrieveItemData(t),equals:({item:e},t)=>e.getId()===t?.getId(),isExpanded:({tree:e,itemId:t})=>e.getState().expandedItems.includes(t),isDescendentOf:({item:e},t)=>{let n=e.getParent();return!!(n?.getId()===t||n?.isDescendentOf(t))},isFocused:({tree:e,item:t,itemId:n})=>e.getState().focusedItem===n||e.getState().focusedItem===null&&t.getItemMeta().index===0,isFolder:({tree:e,item:t})=>t.getItemMeta().level===-1||e.getConfig().isItemFolder(t),getItemName:({tree:e,item:t})=>e.getConfig().getItemName(t),setFocused:({tree:e,itemId:t})=>{e.applySubStateUpdate("focusedItem",t)},primaryAction:({tree:e,item:t})=>{var n,r;return(r=(n=e.getConfig()).onPrimaryAction)===null||r===void 0?void 0:r.call(n,t)},getParent:({tree:e,item:t})=>t.getItemMeta().parentId?e.getItemInstance(t.getItemMeta().parentId):void 0,getIndexInParent:({item:e})=>e.getItemMeta().posInSet,getChildren:({tree:e,itemId:t})=>e.retrieveChildrenIds(t).map(n=>e.getItemInstance(n)),getTree:({tree:e})=>e,getItemAbove:({tree:e,item:t})=>e.getItems()[t.getItemMeta().index-1],getItemBelow:({tree:e,item:t})=>e.getItems()[t.getItemMeta().index+1]},hotkeys:{focusNextItem:{hotkey:"ArrowDown",canRepeat:!0,preventDefault:!0,isEnabled:e=>{var t,n;return!((n=(t=e.isSearchOpen)===null||t===void 0?void 0:t.call(e))!==null&&n!==void 0&&n)&&!e.getState().dnd},handler:(e,t)=>{t.focusNextItem(),t.updateDomFocus()}},focusPreviousItem:{hotkey:"ArrowUp",canRepeat:!0,preventDefault:!0,isEnabled:e=>{var t,n;return!((n=(t=e.isSearchOpen)===null||t===void 0?void 0:t.call(e))!==null&&n!==void 0&&n)&&!e.getState().dnd},handler:(e,t)=>{t.focusPreviousItem(),t.updateDomFocus()}},expandOrDown:{hotkey:"ArrowRight",canRepeat:!0,handler:(e,t)=>{let n=t.getFocusedItem();n.isExpanded()||!n.isFolder()?(t.focusNextItem(),t.updateDomFocus()):n.expand()}},collapseOrUp:{hotkey:"ArrowLeft",canRepeat:!0,handler:(e,t)=>{var n;let r=t.getFocusedItem();(!r.isExpanded()||!r.isFolder())&&r.getItemMeta().level!==0?((n=r.getParent())===null||n===void 0||n.setFocused(),t.updateDomFocus()):r.collapse()}},focusFirstItem:{hotkey:"Home",handler:(e,t)=>{var n;(n=t.getItems()[0])===null||n===void 0||n.setFocused(),t.updateDomFocus()}},focusLastItem:{hotkey:"End",handler:(e,t)=>{var n;(n=t.getItems()[t.getItems().length-1])===null||n===void 0||n.setFocused(),t.updateDomFocus()}}}},uce=(e,t,n)=>{let r={};return[r,()=>{let o=n(r);e:for(let a=0;a<e.length;a++){let s=e[a][t];if(!s)continue e;t:for(let[l,u]of Object.entries(s)){if(!u)continue t;let c=r[l];r[l]=(...d)=>u(Object.assign(Object.assign({},o),{prev:c}),...d)}}}]},cce=e=>Error(`Headless Tree: ${e}`),dce=e=>{var t;let n=e?.map(r=>r.key);for(let r of e??[]){let i=(t=r.deps)===null||t===void 0?void 0:t.find(o=>!n?.includes(o));if(i)throw cce(`${r.key} needs ${i}`)}},fce=e=>(t,n)=>{var r,i;return n.key&&(!((r=t.overwrites)===null||r===void 0)&&r.includes(n.key))?1:t.key&&(!((i=n.overwrites)===null||i===void 0)&&i.includes(t.key))?-1:e.indexOf(t)-e.indexOf(n)},hce=(e=[])=>e.sort(fce(e)),pce=e=>{var t,n,r,i;let o=(t=e.instanceBuilder)!==null&&t!==void 0?t:uce,a=[lce,...hce(e.features)];dce(a);let s=[...a],[l,u]=o(s,"treeInstance",A=>({tree:A})),c=a.reduce((A,T)=>{var R,M;return(M=(R=T.getInitialState)===null||R===void 0?void 0:R.call(T,A,l))!==null&&M!==void 0?M:A},(r=(n=e.initialState)!==null&&n!==void 0?n:e.state)!==null&&r!==void 0?r:{}),d=a.reduce((A,T)=>{var R,M;return(M=(R=T.getDefaultConfig)===null||R===void 0?void 0:R.call(T,A,l))!==null&&M!==void 0?M:A},e),f=a.reduce((A,T)=>Object.assign(Object.assign({},A),T.stateHandlerNames),{}),h,p={current:{}},m={},v=[],g={},y={},w={},x={},S=()=>{v=[],w={};let[A,T]=o(s,"itemInstance",R=>({item:R,tree:l,itemId:d.rootItemId}));T(),m[d.rootItemId]=A,w[d.rootItemId]={itemId:d.rootItemId,index:-1,parentId:null,level:-1,posInSet:0,setSize:1};for(let R of l.getItemsMeta())if(w[R.itemId]=R,m[R.itemId])v.push(m[R.itemId]);else{let[M,O]=o(s,"itemInstance",B=>({item:B,tree:l,itemId:R.itemId}));O(),m[R.itemId]=M,v.push(M)}},E=A=>{for(let T of a)A(T)},k={key:"main",treeInstance:{getState:()=>c,setState:({},A)=>{var T;(T=d.setState)===null||T===void 0||T.call(d,c)},applySubStateUpdate:({},A,T)=>{c[A]=typeof T=="function"?T(c[A]):T;let R=d[f[A]];R?.(c[A])},rebuildTree:()=>{var A;S(),(A=d.setState)===null||A===void 0||A.call(d,c)},getConfig:()=>d,setConfig:(A,T)=>{var R,M,O;let B=typeof T=="function"?T(d):T,_=((R=B.state)===null||R===void 0?void 0:R.expandedItems)&&((M=B.state)===null||M===void 0?void 0:M.expandedItems)!==c.expandedItems;d=B,B.state&&(c=Object.assign(Object.assign({},c),B.state)),_&&(S(),(O=d.setState)===null||O===void 0||O.call(d,c))},getItemInstance:({},A)=>m[A],getItems:()=>v,registerElement:({},A)=>{h!==A&&(h&&!A?E(T=>{var R;return(R=T.onTreeUnmount)===null||R===void 0?void 0:R.call(T,l,h)}):!h&&A&&E(T=>{var R;return(R=T.onTreeMount)===null||R===void 0?void 0:R.call(T,l,A)}),h=A)},getElement:()=>h,getDataRef:()=>p,getHotkeyPresets:()=>x},itemInstance:{registerElement:({itemId:A,item:T},R)=>{if(g[A]===R)return;let M=g[A];M&&!R?E(O=>{var B;return(B=O.onItemUnmount)===null||B===void 0?void 0:B.call(O,T,M,l)}):!M&&R&&E(O=>{var B;return(B=O.onItemMount)===null||B===void 0?void 0:B.call(O,T,R,l)}),g[A]=R},getElement:({itemId:A})=>g[A],getDataRef:({itemId:A})=>{var T;return(T=y[A])!==null&&T!==void 0?T:y[A]={current:{}}},getItemMeta:({itemId:A})=>w[A]}};s.unshift(k);for(let A of s)Object.assign(x,(i=A.hotkeys)!==null&&i!==void 0?i:{});return u(),S(),l},mce={key:"selection",getInitialState:e=>Object.assign({selectedItems:[]},e),getDefaultConfig:(e,t)=>Object.assign({setSelectedItems:rm("selectedItems",t)},e),stateHandlerNames:{selectedItems:"setSelectedItems"},treeInstance:{setSelectedItems:({tree:e},t)=>{e.applySubStateUpdate("selectedItems",t)},getSelectedItems:({tree:e})=>e.getState().selectedItems.map(e.getItemInstance)},itemInstance:{select:({tree:e,itemId:t})=>{let{selectedItems:n}=e.getState();e.setSelectedItems(n.includes(t)?n:[...n,t])},deselect:({tree:e,itemId:t})=>{let{selectedItems:n}=e.getState();e.setSelectedItems(n.filter(r=>r!==t))},isSelected:({tree:e,item:t})=>{let{selectedItems:n}=e.getState();return n.includes(t.getItemMeta().itemId)},selectUpTo:({tree:e,item:t},n)=>{let r=t.getItemMeta().index,i=e.getFocusedItem().getItemMeta().index,[o,a]=r<i?[r,i]:[i,r],s=e.getItems().slice(o,a+1).map(c=>c.getItemMeta().itemId);if(!n){e.setSelectedItems(s);return}let{selectedItems:l}=e.getState(),u=[...new Set([...l,...s])];e.setSelectedItems(u)},toggleSelect:({item:e})=>{e.isSelected()?e.deselect():e.select()},getProps:({tree:e,item:t,prev:n})=>Object.assign(Object.assign({},n?.()),{"aria-selected":t.isSelected()?"true":"false",onClick:r=>{var i,o;r.shiftKey?t.selectUpTo(r.ctrlKey||r.metaKey):r.ctrlKey||r.metaKey?t.toggleSelect():e.setSelectedItems([t.getItemMeta().itemId]),(o=(i=n?.())===null||i===void 0?void 0:i.onClick)===null||o===void 0||o.call(i,r)}})},hotkeys:{toggleSelectedItem:{hotkey:"Control+Space",preventDefault:!0,handler:(e,t)=>{t.getFocusedItem().toggleSelect()}},selectUpwards:{hotkey:"Shift+ArrowUp",handler:(e,t)=>{let n=t.getFocusedItem(),r=n.getItemAbove();r&&(n.isSelected()&&r.isSelected()?n.deselect():r.select(),r.setFocused(),t.updateDomFocus())}},selectDownwards:{hotkey:"Shift+ArrowDown",handler:(e,t)=>{let n=t.getFocusedItem(),r=n.getItemBelow();r&&(n.isSelected()&&r.isSelected()?n.deselect():r.select(),r.setFocused(),t.updateDomFocus())}},selectAll:{hotkey:"Control+a",preventDefault:!0,handler:(e,t)=>{t.setSelectedItems(t.getItems().map(n=>n.getId()))}}}},Vx=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})},gce={key:"async-data-loader",getInitialState:e=>Object.assign({loadingItemData:[],loadingItemChildrens:[]},e),getDefaultConfig:(e,t)=>Object.assign({setLoadingItemData:rm("loadingItemData",t),setLoadingItemChildrens:rm("loadingItemChildrens",t)},e),stateHandlerNames:{loadingItemData:"setLoadingItemData",loadingItemChildrens:"setLoadingItemChildrens"},treeInstance:{waitForItemDataLoaded:(e,t)=>Vx(void 0,[e,t],void 0,function*({tree:n},r){n.retrieveItemData(r),n.getState().loadingItemData.includes(r)&&(yield new Promise(i=>{var o,a,s,l;let u=n.getDataRef();(o=(s=u.current).awaitingItemDataLoading)!==null&&o!==void 0||(s.awaitingItemDataLoading={}),(a=(l=u.current.awaitingItemDataLoading)[r])!==null&&a!==void 0||(l[r]=[]),u.current.awaitingItemDataLoading[r].push(i)}))}),waitForItemChildrenLoaded:(e,t)=>Vx(void 0,[e,t],void 0,function*({tree:n},r){n.retrieveChildrenIds(r),n.getState().loadingItemChildrens.includes(r)&&(yield new Promise(i=>{var o,a,s,l;let u=n.getDataRef();(o=(s=u.current).awaitingItemChildrensLoading)!==null&&o!==void 0||(s.awaitingItemChildrensLoading={}),(a=(l=u.current.awaitingItemChildrensLoading)[r])!==null&&a!==void 0||(l[r]=[]),u.current.awaitingItemChildrensLoading[r].push(i)}))}),retrieveItemData:({tree:e},t)=>{var n,r,i,o,a,s;let l=e.getConfig(),u=e.getDataRef();return(n=(a=u.current).itemData)!==null&&n!==void 0||(a.itemData={}),(r=(s=u.current).childrenIds)!==null&&r!==void 0||(s.childrenIds={}),u.current.itemData[t]?u.current.itemData[t]:(e.getState().loadingItemData.includes(t)||(e.applySubStateUpdate("loadingItemData",c=>[...c,t]),Vx(void 0,void 0,void 0,function*(){var c,d,f;let h=yield l.dataLoader.getItem(t);u.current.itemData[t]=h,(c=l.onLoadedItem)===null||c===void 0||c.call(l,t,h),e.applySubStateUpdate("loadingItemData",p=>p.filter(m=>m!==t)),(d=u.current.awaitingItemDataLoading)===null||d===void 0||d[t].forEach(p=>p()),(f=u.current.awaitingItemDataLoading)===null||f===void 0||delete f[t]})),(o=(i=l.createLoadingItemData)===null||i===void 0?void 0:i.call(l))!==null&&o!==void 0?o:null)},retrieveChildrenIds:({tree:e},t)=>{var n,r;let i=e.getConfig(),o=e.getDataRef();return(n=(r=o.current).childrenIds)!==null&&n!==void 0||(r.childrenIds={}),o.current.childrenIds[t]?o.current.childrenIds[t]:e.getState().loadingItemChildrens.includes(t)?[]:(e.applySubStateUpdate("loadingItemChildrens",a=>[...a,t]),Vx(void 0,void 0,void 0,function*(){var a,s,l,u;let c=yield i.dataLoader.getChildren(t);o.current.childrenIds[t]=c,(a=i.onLoadedChildren)===null||a===void 0||a.call(i,t,c),e.applySubStateUpdate("loadingItemChildrens",d=>d.filter(f=>f!==t)),e.rebuildTree(),(l=(s=o.current.awaitingItemChildrensLoading)===null||s===void 0?void 0:s[t])===null||l===void 0||l.forEach(d=>d()),(u=o.current.awaitingItemChildrensLoading)===null||u===void 0||delete u[t]}),[])}},itemInstance:{isLoading:({tree:e,item:t})=>e.getState().loadingItemData.includes(t.getItemMeta().itemId)||e.getState().loadingItemChildrens.includes(t.getItemMeta().itemId),invalidateItemData:({tree:e,itemId:t})=>{var n;(n=e.getDataRef().current.itemData)===null||n===void 0||delete n[t],e.retrieveItemData(t)},invalidateChildrenIds:({tree:e,itemId:t})=>{var n;(n=e.getDataRef().current.childrenIds)===null||n===void 0||delete n[t],e.retrieveChildrenIds(t)},updateCachedChildrenIds:({tree:e,itemId:t},n)=>{let r=e.getDataRef();r.current.childrenIds[t]=n,e.rebuildTree()}}},bf;(function(e){e[e.Item=0]="Item",e[e.ExpandedFolder=1]="ExpandedFolder",e[e.LastInGroup=2]="LastInGroup"})(bf||(bf={}));var fi;(function(e){e[e.ReorderAbove=0]="ReorderAbove",e[e.ReorderBelow=1]="ReorderBelow",e[e.MakeChild=2]="MakeChild",e[e.Reparent=3]="Reparent"})(fi||(fi={}));var Ux=(e,t,n)=>{var r,i,o;let a=(r=n.getState().dnd)===null||r===void 0?void 0:r.draggedItems,s=n.getConfig();return!(a&&!(!((o=(i=s.canDrop)===null||i===void 0?void 0:i.call(s,a,t))!==null&&o!==void 0)||o)||a&&a.some(l=>t.item.getId()===l.getId()||t.item.isDescendentOf(l.getId()))||!a&&e&&s.canDropForeignDragObject&&!s.canDropForeignDragObject(e,t))},vce=e=>e.isExpanded()?bf.ExpandedFolder:e.getParent()&&e.getIndexInParent()===e.getItemMeta().setSize-1?bf.LastInGroup:bf.Item,bH=(e,t,n)=>{var r;let i=(r=e.slice(0,t).reduce((o,a)=>a&&n?.some(s=>s.getId()===a.getId())?++o:o,0))!==null&&r!==void 0?r:0;return t-i},wH=(e,t,n,r)=>{var i,o,a,s,l;let u=n.getConfig();if(!u.canReorder)return r?{type:fi.MakeChild}:{type:fi.ReorderBelow};let c=(i=t.getElement())===null||i===void 0?void 0:i.getBoundingClientRect(),d=c?(e.clientY-c.top)/c.height:.5,f=c?e.clientX-c.left:0,h=vce(t),p=r?(o=u.reorderAreaPercentage)!==null&&o!==void 0?o:.3:.5,m=(a=u.indent)!==null&&a!==void 0?a:20,v=r?fi.MakeChild:fi.ReorderBelow;if(h===bf.ExpandedFolder)return d<p?{type:fi.ReorderAbove}:{type:v};if(h===bf.LastInGroup&&f<t.getItemMeta().level*m){if(d<.5)return{type:fi.ReorderAbove};let g=(l=(s=t.getItemBelow())===null||s===void 0?void 0:s.getItemMeta().level)!==null&&l!==void 0?l:0;return{type:fi.Reparent,reparentLevel:Math.max(g,Math.floor(f/m))}}return d<p?{type:fi.ReorderAbove}:d>1-p?{type:fi.ReorderBelow}:{type:v}},yce=(e,t,n)=>{let r=wH(e,t,n,!0);return[t.getId(),r.type,r.type===fi.Reparent?r.reparentLevel:0].join("__")},qk=(e,t)=>t===e.getItemMeta().level?e:qk(e.getParent(),t),bce=(e,t,n)=>{let r=e.getItemMeta(),i=qk(e,t-1),a=qk(e,t).getIndexInParent()+1;return{item:i,childIndex:a,insertionIndex:bH(i.getChildren(),a,n),dragLineIndex:r.index+1,dragLineLevel:t}},jx=(e,t,n,r=n.getConfig().canReorder)=>{var i;let o=(i=n.getState().dnd)===null||i===void 0?void 0:i.draggedItems,a=t.getItemMeta(),s=t.getParent(),l={item:t},u=s?{item:s}:null,c=u&&Ux(e.dataTransfer,u,n),d=Ux(e.dataTransfer,l,n),f=wH(e,t,n,d);if(!r&&s&&c&&f.type!==fi.MakeChild)return u;if(!r&&s&&!c)return jx(e,s,n,!1);if(!s||f.type===fi.MakeChild)return l;if(!c)return jx(e,s,n,!1);if(f.type===fi.Reparent)return bce(t,f.reparentLevel,o);let h=f.type===fi.ReorderAbove?0:1,p=t.getIndexInParent()+h;return{item:s,dragLineIndex:a.index+h,dragLineLevel:a.level,childIndex:p,insertionIndex:bH(s.getChildren(),p,o)}},wce=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})},xce={key:"drag-and-drop",deps:["selection"],getDefaultConfig:(e,t)=>Object.assign({canDrop:(n,r)=>r.item.isFolder(),canDropForeignDragObject:()=>!1,setDndState:rm("dnd",t),canReorder:!0},e),stateHandlerNames:{dnd:"setDndState"},treeInstance:{getDragTarget:({tree:e})=>{var t,n;return(n=(t=e.getState().dnd)===null||t===void 0?void 0:t.dragTarget)!==null&&n!==void 0?n:null},getDragLineData:({tree:e})=>{var t,n,r,i,o,a;let s=e.getDragTarget(),l=((t=s?.item.getItemMeta().level)!==null&&t!==void 0?t:0)+1,u=(n=e.getElement())===null||n===void 0?void 0:n.getBoundingClientRect();if(!s||!u||!("childIndex"in s))return null;let c=s.dragLineLevel*((r=e.getConfig().indent)!==null&&r!==void 0?r:1),d=e.getItems()[s.dragLineIndex];if(!d){let h=(o=(i=e.getItems()[s.dragLineIndex-1])===null||i===void 0?void 0:i.getElement())===null||o===void 0?void 0:o.getBoundingClientRect();if(h)return{indent:l,top:h.bottom-u.top,left:h.left+c-u.left,width:h.width-c}}let f=(a=d.getElement())===null||a===void 0?void 0:a.getBoundingClientRect();return f?{indent:l,top:f.top-u.top,left:f.left+c-u.left,width:f.width-c}:null},getDragLineStyle:({tree:e},t=-1,n=-8)=>{let r=e.getDragLineData();return r?{top:`${r.top+t}px`,left:`${r.left+n}px`,width:`${r.width-n}px`,pointerEvents:"none"}:{display:"none"}},getContainerProps:({prev:e},t)=>{let n=e?.(t);return Object.assign(Object.assign({},n),{style:Object.assign(Object.assign({},n?.style),{position:"relative"})})}},itemInstance:{getProps:({tree:e,item:t,prev:n})=>Object.assign(Object.assign({},n?.()),{draggable:!0,onDragStart:r=>{var i,o,a;let s=e.getSelectedItems(),l=s.includes(t)?s:[t],u=e.getConfig();if(s.includes(t)||e.setSelectedItems([t.getItemMeta().itemId]),!(!((o=(i=u.canDrag)===null||i===void 0?void 0:i.call(u,l))!==null&&o!==void 0)||o)){r.preventDefault();return}if(u.createForeignDragObject){let{format:c,data:d}=u.createForeignDragObject(l);(a=r.dataTransfer)===null||a===void 0||a.setData(c,d)}e.applySubStateUpdate("dnd",{draggedItems:l,draggingOverItem:e.getFocusedItem()})},onDragOver:r=>{var i,o,a;let s=e.getDataRef(),l=yce(r,t,e);if(l===s.current.lastDragCode){s.current.lastAllowDrop&&r.preventDefault();return}s.current.lastDragCode=l;let u=jx(r,t,e);if(!(!((i=e.getState().dnd)===null||i===void 0)&&i.draggedItems)&&(!r.dataTransfer||!(!((a=(o=e.getConfig()).canDropForeignDragObject)===null||a===void 0)&&a.call(o,r.dataTransfer,u)))){s.current.lastAllowDrop=!1;return}if(!Ux(r.dataTransfer,u,e)){s.current.lastAllowDrop=!1;return}e.applySubStateUpdate("dnd",c=>Object.assign(Object.assign({},c),{dragTarget:u,draggingOverItem:t})),s.current.lastAllowDrop=!0,r.preventDefault()},onDragLeave:()=>{let r=e.getDataRef();r.current.lastDragCode="no-drag",e.applySubStateUpdate("dnd",i=>Object.assign(Object.assign({},i),{draggingOverItem:void 0,dragTarget:void 0}))},onDragEnd:r=>{var i,o,a,s;let l=(i=e.getState().dnd)===null||i===void 0?void 0:i.draggedItems;e.applySubStateUpdate("dnd",null),!(((o=r.dataTransfer)===null||o===void 0?void 0:o.dropEffect)==="none"||!l)&&((s=(a=e.getConfig()).onCompleteForeignDrop)===null||s===void 0||s.call(a,l))},onDrop:r=>wce(void 0,void 0,void 0,function*(){var i,o,a;let s=e.getDataRef(),l=jx(r,t,e);if(!Ux(r.dataTransfer,l,e))return;r.preventDefault();let u=e.getConfig(),c=(i=e.getState().dnd)===null||i===void 0?void 0:i.draggedItems;s.current.lastDragCode=void 0,e.applySubStateUpdate("dnd",null),c?yield(o=u.onDrop)===null||o===void 0?void 0:o.call(u,c,l):r.dataTransfer&&(yield(a=u.onDropForeignDragObject)===null||a===void 0?void 0:a.call(u,r.dataTransfer,l))})}),isDragTarget:({tree:e,item:t})=>{let n=e.getDragTarget();return n?n.item.getId()===t.getId():!1},isDragTargetAbove:({tree:e,item:t})=>{let n=e.getDragTarget();return!n||!("childIndex"in n)||n.item!==t.getParent()?!1:n.childIndex===t.getItemMeta().posInSet},isDragTargetBelow:({tree:e,item:t})=>{let n=e.getDragTarget();return!n||!("childIndex"in n)||n.item!==t.getParent()?!1:n.childIndex-1===t.getItemMeta().posInSet},isDraggingOver:({tree:e,item:t})=>{var n,r;return((r=(n=e.getState().dnd)===null||n===void 0?void 0:n.draggingOverItem)===null||r===void 0?void 0:r.getId())===t.getId()}}},vH=(e,t)=>{var n;(n=t.memoizedProps)!==null&&n!==void 0||(t.memoizedProps={});for(let r in e)typeof e[r]=="function"&&(r in t.memoizedProps?e[r]=t.memoizedProps[r]:t.memoizedProps[r]=e[r]);return e},Ece={key:"prop-memoization",overwrites:["main","async-data-loader","sync-data-loader","drag-and-drop","expand-all","hotkeys-core","renaming","search","selection"],treeInstance:{getContainerProps:({tree:e,prev:t},n)=>{var r;let i=e.getDataRef(),o=(r=t?.(n))!==null&&r!==void 0?r:{};return vH(o,i.current)}},itemInstance:{getProps:({item:e,prev:t})=>{var n;let r=e.getDataRef(),i=(n=t?.())!==null&&n!==void 0?n:{};return vH(i,r.current)}}},Sce=e=>{let[t]=(0,Kk.useState)(()=>({current:pce(e)})),[n,r]=(0,Kk.useState)(()=>t.current.getState());return t.current.setConfig(i=>Object.assign(Object.assign(Object.assign({},i),e),{state:Object.assign(Object.assign({},n),e.state),setState:o=>{var a;r(o),(a=e.setState)===null||a===void 0||a.call(e,o)}})),t.current},Cce={tree:"alinea-EntryTree-tree","tree-item":"alinea-EntryTree-tree-item",treeItem:"alinea-EntryTree-tree-item","tree-item-icon":"alinea-EntryTree-tree-item-icon",treeItemIcon:"alinea-EntryTree-tree-item-icon","is-drop":"alinea-EntryTree-is-drop",isDrop:"alinea-EntryTree-is-drop","is-dropAbove":"alinea-EntryTree-is-dropAbove",isDropAbove:"alinea-EntryTree-is-dropAbove","is-dropBelow":"alinea-EntryTree-is-dropBelow",isDropBelow:"alinea-EntryTree-is-dropBelow","is-selected":"alinea-EntryTree-is-selected",isSelected:"alinea-EntryTree-is-selected","tree-item-label-itemName":"alinea-EntryTree-tree-item-label-itemName",treeItemLabelItemName:"alinea-EntryTree-tree-item-label-itemName","is-parentSelected":"alinea-EntryTree-is-parentSelected",isParentSelected:"alinea-EntryTree-is-parentSelected","is-archived":"alinea-EntryTree-is-archived",isArchived:"alinea-EntryTree-is-archived","is-unpublished":"alinea-EntryTree-is-unpublished",isUnpublished:"alinea-EntryTree-is-unpublished","is-untranslated":"alinea-EntryTree-is-untranslated",isUntranslated:"alinea-EntryTree-is-untranslated","tree-item-label":"alinea-EntryTree-tree-item-label",treeItemLabel:"alinea-EntryTree-tree-item-label","tree-item-arrow":"alinea-EntryTree-tree-item-arrow",treeItemArrow:"alinea-EntryTree-tree-item-arrow","tree-title":"alinea-EntryTree-tree-title",treeTitle:"alinea-EntryTree-tree-title","tree-status":"alinea-EntryTree-tree-status",treeStatus:"alinea-EntryTree-tree-status","is-draft":"alinea-EntryTree-is-draft",isDraft:"alinea-EntryTree-is-draft","is-children":"alinea-EntryTree-is-children",isChildren:"alinea-EntryTree-is-children"},Xs=j(Cce);function yH(e,t){return t.entries.find(n=>n.locale===e)??t.entries[0]}var Ace=(0,Ni.memo)((0,Ni.forwardRef)(function({id:t,title:n,type:r,locale:i,isSelected:o,isDraft:a,isFolder:s,isExpanded:l,isArchived:u,isUnpublished:c,isUntranslated:d,isParentSelected:f,isDragTarget:h,isDragTargetAbove:p,isDragTargetBelow:m,hasChildren:v,toggleExpand:g,level:y,...w},x){let S=(0,Ni.useRef)(),{schema:E}=sn(),{icon:k}=rt(E[r]);(0,Ni.useLayoutEffect)(()=>{if(!o)return;let T=S?.current;T&&T.scrollIntoView({block:"nearest",inline:"nearest"})},[o]);let A=!!(s&&v);return(0,xH.createElement)("div",{...w,ref:T=>{typeof x=="function"?x(T):x&&(x.current=T),S.current=T},className:Xs.tree.item({selected:o,plain:!A,archived:u,unpublished:!d&&c,untranslated:d,drop:h,dropAbove:p,dropBelow:m,parentSelected:f}),key:t,"data-id":t,style:{paddingLeft:Me(y*14+8)}},(0,jn.jsx)("button",{type:"button",className:Xs.tree.item.arrow(),onClick:T=>{T.stopPropagation(),g()},disabled:!A,children:A&&(l?(0,jn.jsx)(te,{icon:is,size:14}):(0,jn.jsx)(te,{icon:as,size:14}))}),(0,jn.jsxs)("button",{type:"button",className:Xs.tree.item.label(),title:n,children:[(0,jn.jsx)("span",{className:Xs.tree.item.icon(),children:(0,jn.jsx)(te,{icon:k??(s?lH:sH)})}),(0,jn.jsx)("span",{className:Xs.tree.item.label.itemName(),children:n}),!d&&!c&&a&&(0,jn.jsx)("span",{className:Xs.tree.status({draft:!0}),children:(0,jn.jsx)(te,{icon:gf})}),!d&&u&&(0,jn.jsx)("span",{className:Xs.tree.status({archived:!0}),children:(0,jn.jsx)(te,{icon:kx})}),!d&&c&&(0,jn.jsx)("span",{className:Xs.tree.status({unpublished:!0}),children:(0,jn.jsx)(te,{icon:Zp})}),d&&(0,jn.jsx)("span",{className:Xs.tree.status({untranslated:!0}),children:(0,jn.jsx)(te,{icon:Sp})})]}))}));function EH({selectedId:e,expanded:t=[]}){let n=oe(wt),r=pH(),i=fr(),o=Vt(),a=(0,Ni.useRef)(o);a.current=o;let s=(0,Ni.useMemo)(()=>({itemInstance:{getProps:({item:h,prev:p})=>({...p?.(),onAuxClick(){let m=a.current.entry({id:h.getId()});window.open(`#${m}`,"_blank")},onClick(m){h.isSelected()&&h.isFolder()&&h.isExpanded()?h.collapse():h.isFolder()&&!h.isExpanded()&&h.expand(),h.setFocused();let v=a.current.entry({id:h.getId()});m.metaKey||m.ctrlKey?window.open(`#${v}`,"_blank"):i(v)}})}}),[]),l=Hn(),u=Sce({rootItemId:Kc,canDrag:h=>r.canDrag(h),canDrop(h,p){return r.canDrop(h,p)},onDrop(h,p){return r.onDrop(h,p)},dataLoader:r,getItemName:h=>yH(l,h.getItemData()).title,isItemFolder:h=>!!h.getItemData().isFolder,onPrimaryAction:h=>{i(o.entry({id:h.getId()}))},initialState:{expandedItems:[...t].concat(e??[])},state:{selectedItems:e?[e]:[]},features:[gce,mce,xce,s,Ece]}),c=aH(h=>{let p=u.getDataRef(),m=p.current.childrenIds?Object.keys(p.current.childrenIds):[],v=p.current.itemData?Object.keys(p.current.itemData):[],g=m.map(async y=>{try{let w=await h.getChildren(y);p.current.childrenIds[y]=w}catch{delete p.current.childrenIds[y]}}).concat(v.map(async y=>{try{let w=await h.getItem(y);p.current.itemData[y]=w}catch{delete p.current.itemData[y]}}));Promise.all(g).then(()=>{u.rebuildTree()})},0),d=li();(0,Ni.useEffect)(()=>{let h=u.getDataRef();h.current.childrenIds[Kc]=[],u.rebuildTree()},[d]),(0,Ni.useEffect)(()=>{c(r)},[r]),(0,Ni.useEffect)(()=>{return n.events.addEventListener(en.type,h),()=>n.events.removeEventListener(en.type,h);function h(p){we(p instanceof en),p.data.op==="index"&&c(r)}},[n,r]);let f=u.getItems().filter(h=>h.getItemData());return(0,jn.jsx)(jn.Fragment,{children:(0,jn.jsx)("div",{...u.getContainerProps(),className:Xs.tree(),children:f.map(h=>{let p=h.getId(),m=h.getItemData(),v=h.getItemName(),g=yH(l,m),y=!1,w=h.getParent();for(;w&&!y;)w.isSelected()?y=!0:w=w.getParent();return(0,jn.jsx)(Ace,{id:p,type:m.type,locale:g.locale,title:v,isSelected:e===p,isDraft:g.status==="draft",isFolder:h.isFolder(),isExpanded:h.isExpanded(),isUntranslated:g.locale!==l,isArchived:g.status==="archived",isUnpublished:g.status==="draft"&&g.main,isDragTarget:h.isDragTarget()&&h.isDraggingOver(),isDragTargetAbove:h.isDragTargetAbove()&&h.isDraggingOver(),isParentSelected:y,isDragTargetBelow:h.isDragTargetBelow()&&h.isDraggingOver(),hasChildren:m.hasChildren,toggleExpand:h.isExpanded()?h.collapse:h.expand,level:h.getItemMeta().level,...h.getProps()},p)})})})}b();var fo=D(L(),1),Tce={root:"alinea-RootOverview","root-icon":"alinea-RootOverview-icon",rootIcon:"alinea-RootOverview-icon"},SH=j(Tce);function Yk({root:e}){let t=hr();return(0,fo.jsxs)(fo.Fragment,{children:[(0,fo.jsx)(Zi,{children:(0,fo.jsx)("title",{children:`${t.label}: ${e.label}`})}),(0,fo.jsx)($s,{children:(0,fo.jsxs)("div",{className:SH.root(),children:[(0,fo.jsx)(te,{icon:e.icon||dp,className:SH.root.icon()}),(0,fo.jsx)(At.H1,{children:(0,fo.jsx)(Ze,{label:e.label})}),(0,fo.jsxs)(At.P,{style:{textAlign:"center"},children:["Select an entry in the navigation tree",(0,fo.jsx)("br",{}),"on the left to start editing"]})]})})]})}b();b();var Wk=D(L(),1);function $x(e){return(0,Wk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Wk.jsx)("path",{fill:"currentColor",d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"})})}b();var Gk=D(L(),1);function im(e){return(0,Gk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Gk.jsx)("path",{fill:"currentColor",d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7zm-4 6h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"})})}b();var Qk=D(L(),1);function qx(e){return(0,Qk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Qk.jsx)("path",{fill:"currentColor",d:"M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0c.41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14z"})})}var Wc=D($(),1);b();var xa=D($(),1),CH=D(L(),1),AH=(0,xa.createContext)(void 0);function Kx({onClear:e}){let t=(0,xa.useRef)(),{reSelect:n,...r}=(0,xa.useMemo)(()=>{let i=new WeakMap,o,a=[],s=!0,l;function u(g){if(o&&o.removeAttribute("aria-selected"),!g)return o=void 0;g.setAttribute("aria-selected","true"),o=g,o.scrollIntoView({block:"nearest"})}function c(g){if(o){let y=a.indexOf(o),w=a[y+g];if(w)return u(w)}u(a[g===1?0:a.length-1])}function d(g){switch(g.key){case"ArrowUp":c(-1),g.preventDefault();break;case"ArrowDown":c(1),g.preventDefault();break;case"Escape":g.currentTarget.blur(),g.preventDefault(),e();break;case"Enter":g.preventDefault(),i.get(o??a[0])?.();break;default:}}let f={ref:t,onKeyDown:d,onBlur(){u(void 0),s=!0}};function h(g,y){let w=0;for(let x of a){if(y.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING)break;w++}return a.splice(w,0,y),i.set(y,g),()=>{o===y&&(o=void 0),a=a.filter(x=>x!==y)}}function p({children:g}){return(0,CH.jsx)(AH.Provider,{value:{registerItem:h},children:g})}function m(){document.activeElement!==t.current&&!t.current?.contains(document.activeElement)||s&&(o||u(a[0]),s=!1)}function v(){s=!0}return{focusProps:f,Container:p,reSelect:v}},[]);return(0,xa.useLayoutEffect)(n),r}function TH(e){let t=(0,xa.useContext)(AH),n=(0,xa.useRef)(null);return(0,xa.useLayoutEffect)(()=>{if(n.current&&t)return t.registerItem(e,n.current)},[]),n}b();pd();var GH=D($(),1),nV=D($(),1);b();function Yx(e){let t=e.MediaFile;return{id:W.id,locale:W.locale,type:W.type,workspace:W.workspace,root:W.root,title:W.title,path:W.path,url:W.url,extension:t.extension,size:t.size,preview:t.preview,thumbHash:t.thumbHash,averageColor:t.averageColor,focus:t.focus,width:t.width,height:t.height,parents:{edge:"parents",select:{id:W.id,title:W.title}},childrenAmount:{edge:"children",count:!0}}}var iV=D($(),1),_v=D($(),1);b();var Wx=D($(),1),kH=(0,Wx.createContext)(void 0);function DH(){return(0,Wx.useContext)(kH)}var MH=kH.Provider;b();var Jk=D($(),1);var Sn=D(L(),1),kce={row:"alinea-EntrySummary-row",thumb:"alinea-EntrySummary-thumb","thumb-header":"alinea-EntrySummary-thumb-header",thumbHeader:"alinea-EntrySummary-thumb-header","thumb-title":"alinea-EntrySummary-thumb-title",thumbTitle:"alinea-EntrySummary-thumb-title","thumb-footer":"alinea-EntrySummary-thumb-footer",thumbFooter:"alinea-EntrySummary-thumb-footer"},Mv=j(kce);function Gx({id:e,title:t,path:n,url:r,type:i,parents:o}){let a=Vt(),{schema:s}=ur().config,l=s[i];return l?(0,Sn.jsxs)(K,{center:!0,full:!0,gap:10,className:Mv.row(),children:[(0,Sn.jsxs)(ut,{children:[o.length>0&&(0,Sn.jsx)(lo,{style:{marginTop:Me(-1)},children:(0,Sn.jsx)(At.Small,{children:(0,Sn.jsx)(K,{center:!0,gap:3,title:r,children:o.map(({id:u,title:c})=>(0,Sn.jsx)(Jk.Fragment,{children:c},u)).reduce((u,c,d)=>[u,(0,Sn.jsx)(as,{},`s${d}`),c])})})}),(0,Sn.jsx)(lo,{children:(0,Sn.jsx)(Ze,{label:t,title:t})})]}),(0,Sn.jsx)(eo,{style:{marginLeft:"auto"},children:(0,Sn.jsx)(Ze,{label:he.label(l),title:he.label(l)})})]}):null}function RH({id:e,title:t,type:n,parents:r}){let{schema:i}=ur().config,o=i[n];return(0,Sn.jsxs)("div",{className:Mv.thumb(),children:[r.length>0&&(0,Sn.jsx)("header",{className:Mv.thumb.header(),children:(0,Sn.jsx)(At.Small,{children:(0,Sn.jsx)(K,{center:!0,gap:3,children:r.map(({id:a,title:s})=>(0,Sn.jsx)(Jk.Fragment,{children:s},a)).reduce((a,s,l)=>[a,(0,Sn.jsx)(as,{},`s${l}`),s])})})}),(0,Sn.jsx)("div",{className:Mv.thumb.title(),children:(0,Sn.jsx)(Ze,{label:t})}),(0,Sn.jsx)("div",{className:Mv.thumb.footer(),children:(0,Sn.jsx)(eo,{style:{marginLeft:"auto"},children:(0,Sn.jsx)(Ze,{label:he.label(o)})})})]})}b();var IH=D($(),1);b();function Zs(){return oe(wt)}b();b();var qt;(e=>{e.entry="_entry";function t(n){return n&&e.entry in n}e.isEntryReference=t})(qt||(qt={}));b();var Xk=D(L(),1);function OH(e){return(0,Xk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Xk.jsx)("path",{fill:"currentColor",d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"})})}b();var Zk=D(L(),1);function BH(e){return(0,Zk.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,Zk.jsx)("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8.29 13.29a.996.996 0 0 1-1.41 0L5.71 12.7a.996.996 0 1 1 1.41-1.41L10 14.17l6.88-6.88a.996.996 0 1 1 1.41 1.41l-7.58 7.59z"})})}b();var eD=D(L(),1);function _H(e){return(0,eD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,eD.jsx)("path",{fill:"currentColor",d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm1-16H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})})}var Wr=D(L(),1),Dce={root:"alinea-ExplorerItem","is-row":"alinea-ExplorerItem-is-row",isRow:"alinea-ExplorerItem-is-row","is-thumb":"alinea-ExplorerItem-is-thumb",isThumb:"alinea-ExplorerItem-is-thumb","root-inner":"alinea-ExplorerItem-inner",rootInner:"alinea-ExplorerItem-inner","is-border":"alinea-ExplorerItem-is-border",isBorder:"alinea-ExplorerItem-is-border","root-inner-hitBox":"alinea-ExplorerItem-inner-hitBox",rootInnerHitBox:"alinea-ExplorerItem-inner-hitBox","root-children":"alinea-ExplorerItem-children",rootChildren:"alinea-ExplorerItem-children","root-children-badge":"alinea-ExplorerItem-children-badge",rootChildrenBadge:"alinea-ExplorerItem-children-badge","root-checkbox":"alinea-ExplorerItem-checkbox",rootCheckbox:"alinea-ExplorerItem-checkbox","root-selection":"alinea-ExplorerItem-selection",rootSelection:"alinea-ExplorerItem-selection"},wf=j(Dce);function FH({schema:e,entry:t,summaryView:n,defaultView:r}){let i=Vt(),{views:o}=ur(),a=DH(),s=TH(()=>a?.onSelect(t)),l=e[t.type],u=l&&rt(l)[n],c=u?zs(o,u):r,d=a.selectable===!0||Array.isArray(a.selectable)&&a.selectable.includes(t.type),f=d?"label":"a",h=d?{}:a.selectable?{onClick:v}:zo(i.entry(t)),p=!!(d&&a.selection.find(g=>qt.isEntryReference(g)&&g[qt.entry]===t.id)),m=t.childrenAmount??0;function v(){a.onNavigate?.(t.id)}return(0,Wr.jsx)("div",{ref:s,className:wf.root(n==="summaryRow"?"row":"thumb",{selected:p,border:a.border}),children:(0,Wr.jsxs)("div",{className:wf.root.inner(),children:[(0,Wr.jsxs)(f,{className:wf.root.inner.hitBox(),style:{flexGrow:1},...h,children:[d&&(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsx)("input",{type:"checkbox",checked:p,onChange:()=>{a.onSelect(t)},className:wf.root.checkbox()}),(0,Wr.jsx)("div",{className:wf.root.selection(),children:p?(0,Wr.jsx)(BH,{}):(0,Wr.jsx)(_H,{})})]}),(0,Wr.jsx)(c,{...t})]}),a.withNavigation&&a.onNavigate&&m>0&&(0,Wr.jsxs)("button",{type:"button",className:wf.root.children(),onClick:v,children:[(0,Wr.jsx)(te,{icon:OH,size:18}),(0,Wr.jsx)("span",{className:wf.root.children.badge(),children:m}),(0,Wr.jsx)(te,{icon:as,size:18})]})]})},t.id)}var Qx=D(L(),1),Mce={root:"alinea-ExplorerRow"},Rce=j(Mce),tD=(0,IH.memo)(function({schema:t,query:n,batchSize:r,amount:i,from:o,summaryView:a,defaultView:s}){let l=Zs(),u=Math.floor(o/r),c=o%r,{data:d}=ri(["explorer","batch",n,r,u],async()=>l.find({...n,skip:u*r,take:r,status:"preferDraft"}),{refetchOnWindowFocus:!1,keepPreviousData:!0,staleTime:1e4}),f=d?.slice(c,c+i);return(0,Qx.jsx)("div",{className:Rce.root(),children:(0,Qx.jsx)("div",{style:{display:"grid",gridTemplateColumns:`repeat(${i}, 1fr)`,height:"100%"},children:f?.map(h=>h?(0,Qx.jsx)(FH,{schema:t,entry:h,summaryView:a,defaultView:s},h.id):null)})})});var tl=D(L(),1),Oce=Ir({"node_modules/react-is/cjs/react-is.production.min.js"(e){"use strict";var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function x(E){if(typeof E=="object"&&E!==null){var k=E.$$typeof;switch(k){case n:switch(E=E.type,E){case u:case c:case i:case a:case o:case f:return E;default:switch(E=E&&E.$$typeof,E){case l:case d:case m:case p:case s:return E;default:return k}}case r:return k}}}function S(E){return x(E)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=l,e.ContextProvider=s,e.Element=n,e.ForwardRef=d,e.Fragment=i,e.Lazy=m,e.Memo=p,e.Portal=r,e.Profiler=a,e.StrictMode=o,e.Suspense=f,e.isAsyncMode=function(E){return S(E)||x(E)===u},e.isConcurrentMode=S,e.isContextConsumer=function(E){return x(E)===l},e.isContextProvider=function(E){return x(E)===s},e.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===n},e.isForwardRef=function(E){return x(E)===d},e.isFragment=function(E){return x(E)===i},e.isLazy=function(E){return x(E)===m},e.isMemo=function(E){return x(E)===p},e.isPortal=function(E){return x(E)===r},e.isProfiler=function(E){return x(E)===a},e.isStrictMode=function(E){return x(E)===o},e.isSuspense=function(E){return x(E)===f},e.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===i||E===c||E===a||E===o||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===p||E.$$typeof===s||E.$$typeof===l||E.$$typeof===d||E.$$typeof===g||E.$$typeof===y||E.$$typeof===w||E.$$typeof===v)},e.typeOf=x}}),Jze=Ir({"node_modules/react-is/cjs/react-is.development.js"(e){"use strict"}}),Bce=Ir({"node_modules/react-is/index.js"(e,t){"use strict";t.exports=Oce()}}),_ce=Ir({"node_modules/object-assign/index.js"(e,t){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function a(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var l={},u=0;u<10;u++)l["_"+String.fromCharCode(u)]=u;var c=Object.getOwnPropertyNames(l).map(function(f){return l[f]});if(c.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}t.exports=a()?Object.assign:function(s,l){for(var u,c=o(s),d,f=1;f<arguments.length;f++){u=Object(arguments[f]);for(var h in u)r.call(u,h)&&(c[h]=u[h]);if(n){d=n(u);for(var p=0;p<d.length;p++)i.call(u,d[p])&&(c[d[p]]=u[d[p]])}}return c}}}),WH=Ir({"node_modules/prop-types/lib/ReactPropTypesSecret.js"(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n}}),Fce=Ir({"node_modules/prop-types/lib/has.js"(e,t){t.exports=Function.call.bind(Object.prototype.hasOwnProperty)}}),Ice=Ir({"node_modules/prop-types/checkPropTypes.js"(e,t){"use strict";var n=function(){},r,i,o;function a(s,l,u,c,d){if(0){for(var f in s)if(o(s,f)){var h;try{if(typeof s[f]!="function")var p}catch(v){}if(h instanceof Error&&!(h.message in i))var m}}}a.resetWarningCache=function(){},t.exports=a}}),Xze=Ir({"node_modules/prop-types/factoryWithTypeCheckers.js"(e,t){"use strict";var n=Bce(),r=_ce(),i=WH(),o=Fce(),a=Ice(),s=function(){};function l(){return null}t.exports=function(u,c){var d=typeof Symbol=="function"&&Symbol.iterator,f="@@iterator";function h(N){var H=N&&(d&&N[d]||N[f]);if(typeof H=="function")return H}var p="<<anonymous>>",m={array:w("array"),bigint:w("bigint"),bool:w("boolean"),func:w("function"),number:w("number"),object:w("object"),string:w("string"),symbol:w("symbol"),any:x(),arrayOf:S,element:E(),elementType:k(),instanceOf:A,node:O(),objectOf:R,oneOf:T,oneOfType:M,shape:_,exact:z};function v(N,H){return N===H?N!==0||1/N===1/H:N!==N&&H!==H}function g(N,H){this.message=N,this.data=H&&typeof H=="object"?H:{},this.stack=""}g.prototype=Error.prototype;function y(N){if(0)var H,G;function Y(ae,ce,Ee,be,Se,pe,ye){if(be=be||p,pe=pe||Ee,ye!==i){if(c){var Pe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Pe.name="Invariant Violation",Pe}else if(0)var nt}return ce[Ee]==null?ae?ce[Ee]===null?new g("The "+Se+" `"+pe+"` is marked as required "+("in `"+be+"`, but its value is `null`.")):new g("The "+Se+" `"+pe+"` is marked as required in "+("`"+be+"`, but its value is `undefined`.")):null:N(ce,Ee,be,Se,pe)}var ne=Y.bind(null,!1);return ne.isRequired=Y.bind(null,!0),ne}function w(N){function H(G,Y,ne,ae,ce,Ee){var be=G[Y],Se=F(be);if(Se!==N){var pe=U(be);return new g("Invalid "+ae+" `"+ce+"` of type "+("`"+pe+"` supplied to `"+ne+"`, expected ")+("`"+N+"`."),{expectedType:N})}return null}return y(H)}function x(){return y(l)}function S(N){function H(G,Y,ne,ae,ce){if(typeof N!="function")return new g("Property `"+ce+"` of component `"+ne+"` has invalid PropType notation inside arrayOf.");var Ee=G[Y];if(!Array.isArray(Ee)){var be=F(Ee);return new g("Invalid "+ae+" `"+ce+"` of type "+("`"+be+"` supplied to `"+ne+"`, expected an array."))}for(var Se=0;Se<Ee.length;Se++){var pe=N(Ee,Se,ne,ae,ce+"["+Se+"]",i);if(pe instanceof Error)return pe}return null}return y(H)}function E(){function N(H,G,Y,ne,ae){var ce=H[G];if(!u(ce)){var Ee=F(ce);return new g("Invalid "+ne+" `"+ae+"` of type "+("`"+Ee+"` supplied to `"+Y+"`, expected a single ReactElement."))}return null}return y(N)}function k(){function N(H,G,Y,ne,ae){var ce=H[G];if(!n.isValidElementType(ce)){var Ee=F(ce);return new g("Invalid "+ne+" `"+ae+"` of type "+("`"+Ee+"` supplied to `"+Y+"`, expected a single ReactElement type."))}return null}return y(N)}function A(N){function H(G,Y,ne,ae,ce){if(!(G[Y]instanceof N)){var Ee=N.name||p,be=Q(G[Y]);return new g("Invalid "+ae+" `"+ce+"` of type "+("`"+be+"` supplied to `"+ne+"`, expected ")+("instance of `"+Ee+"`."))}return null}return y(H)}function T(N){if(!Array.isArray(N))return l;function H(G,Y,ne,ae,ce){for(var Ee=G[Y],be=0;be<N.length;be++)if(v(Ee,N[be]))return null;var Se=JSON.stringify(N,function(ye,Pe){var nt=U(Pe);return nt==="symbol"?String(Pe):Pe});return new g("Invalid "+ae+" `"+ce+"` of value `"+String(Ee)+"` "+("supplied to `"+ne+"`, expected one of "+Se+"."))}return y(H)}function R(N){function H(G,Y,ne,ae,ce){if(typeof N!="function")return new g("Property `"+ce+"` of component `"+ne+"` has invalid PropType notation inside objectOf.");var Ee=G[Y],be=F(Ee);if(be!=="object")return new g("Invalid "+ae+" `"+ce+"` of type "+("`"+be+"` supplied to `"+ne+"`, expected an object."));for(var Se in Ee)if(o(Ee,Se)){var pe=N(Ee,Se,ne,ae,ce+"."+Se,i);if(pe instanceof Error)return pe}return null}return y(H)}function M(N){if(!Array.isArray(N))return l;for(var H=0;H<N.length;H++){var G=N[H];if(typeof G!="function")return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+I(G)+" at index "+H+"."),l}function Y(ne,ae,ce,Ee,be){for(var Se=[],pe=0;pe<N.length;pe++){var ye=N[pe],Pe=ye(ne,ae,ce,Ee,be,i);if(Pe==null)return null;Pe.data&&o(Pe.data,"expectedType")&&Se.push(Pe.data.expectedType)}var nt=Se.length>0?", expected one of type ["+Se.join(", ")+"]":"";return new g("Invalid "+Ee+" `"+be+"` supplied to "+("`"+ce+"`"+nt+"."))}return y(Y)}function O(){function N(H,G,Y,ne,ae){return V(H[G])?null:new g("Invalid "+ne+" `"+ae+"` supplied to "+("`"+Y+"`, expected a ReactNode."))}return y(N)}function B(N,H,G,Y,ne){return new g((N||"React class")+": "+H+" type `"+G+"."+Y+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+ne+"`.")}function _(N){function H(G,Y,ne,ae,ce){var Ee=G[Y],be=F(Ee);if(be!=="object")return new g("Invalid "+ae+" `"+ce+"` of type `"+be+"` "+("supplied to `"+ne+"`, expected `object`."));for(var Se in N){var pe=N[Se];if(typeof pe!="function")return B(ne,ae,ce,Se,U(pe));var ye=pe(Ee,Se,ne,ae,ce+"."+Se,i);if(ye)return ye}return null}return y(H)}function z(N){function H(G,Y,ne,ae,ce){var Ee=G[Y],be=F(Ee);if(be!=="object")return new g("Invalid "+ae+" `"+ce+"` of type `"+be+"` "+("supplied to `"+ne+"`, expected `object`."));var Se=r({},G[Y],N);for(var pe in Se){var ye=N[pe];if(o(N,pe)&&typeof ye!="function")return B(ne,ae,ce,pe,U(ye));if(!ye)return new g("Invalid "+ae+" `"+ce+"` key `"+pe+"` supplied to `"+ne+"`.\nBad object: "+JSON.stringify(G[Y],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(N),null,"  "));var Pe=ye(Ee,pe,ne,ae,ce+"."+pe,i);if(Pe)return Pe}return null}return y(H)}function V(N){switch(typeof N){case"number":case"string":case"undefined":return!0;case"boolean":return!N;case"object":if(Array.isArray(N))return N.every(V);if(N===null||u(N))return!0;var H=h(N);if(H){var G=H.call(N),Y;if(H!==N.entries){for(;!(Y=G.next()).done;)if(!V(Y.value))return!1}else for(;!(Y=G.next()).done;){var ne=Y.value;if(ne&&!V(ne[1]))return!1}}else return!1;return!0;default:return!1}}function P(N,H){return N==="symbol"?!0:H?H["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&H instanceof Symbol:!1}function F(N){var H=typeof N;return Array.isArray(N)?"array":N instanceof RegExp?"object":P(H,N)?"symbol":H}function U(N){if(typeof N>"u"||N===null)return""+N;var H=F(N);if(H==="object"){if(N instanceof Date)return"date";if(N instanceof RegExp)return"regexp"}return H}function I(N){var H=U(N);switch(H){case"array":case"object":return"an "+H;case"boolean":case"date":case"regexp":return"a "+H;default:return H}}function Q(N){return!N.constructor||!N.constructor.name?p:N.constructor.name}return m.checkPropTypes=a,m.resetWarningCache=a.resetWarningCache,m.PropTypes=m,m}}}),Nce=Ir({"node_modules/prop-types/factoryWithThrowingShims.js"(e,t){"use strict";var n=WH();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function o(l,u,c,d,f,h){if(h!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}o.isRequired=o;function a(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:a,element:o,elementType:o,instanceOf:a,node:o,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:i,resetWarningCache:r};return s.PropTypes=s,s}}}),Lce=Ir({"node_modules/prop-types/index.js"(e,t){t.exports=Nce()();var n,r}}),Ef=[],zce=function(){return Ef.some(function(e){return e.activeTargets.length>0})},Pce=function(){return Ef.some(function(e){return e.skippedTargets.length>0})},NH="ResizeObserver loop completed with undelivered notifications.",Hce=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:NH}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=NH),window.dispatchEvent(e)},Bv;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Bv||(Bv={}));var Sf=function(e){return Object.freeze(e)},Vce=(function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Sf(this)}return e})(),QH=(function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Sf(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,o=t.right,a=t.bottom,s=t.left,l=t.width,u=t.height;return{x:n,y:r,top:i,right:o,bottom:a,left:s,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e})(),aD=function(e){return e instanceof SVGElement&&"getBBox"in e},JH=function(e){if(aD(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},LH=function(e){var t;if(e instanceof Element)return!0;var n=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Uce=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ov=typeof window<"u"?window:{},Jx=new WeakMap,zH=/auto|scroll/,jce=/^tb|vertical/,$ce=/msie|trident/i.test(Ov.navigator&&Ov.navigator.userAgent),el=function(e){return parseFloat(e||"0")},om=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Vce((n?t:e)||0,(n?e:t)||0)},PH=Sf({devicePixelContentBoxSize:om(),borderBoxSize:om(),contentBoxSize:om(),contentRect:new QH(0,0,0,0)}),XH=function(e,t){if(t===void 0&&(t=!1),Jx.has(e)&&!t)return Jx.get(e);if(JH(e))return Jx.set(e,PH),PH;var n=getComputedStyle(e),r=aD(e)&&e.ownerSVGElement&&e.getBBox(),i=!$ce&&n.boxSizing==="border-box",o=jce.test(n.writingMode||""),a=!r&&zH.test(n.overflowY||""),s=!r&&zH.test(n.overflowX||""),l=r?0:el(n.paddingTop),u=r?0:el(n.paddingRight),c=r?0:el(n.paddingBottom),d=r?0:el(n.paddingLeft),f=r?0:el(n.borderTopWidth),h=r?0:el(n.borderRightWidth),p=r?0:el(n.borderBottomWidth),m=r?0:el(n.borderLeftWidth),v=d+u,g=l+c,y=m+h,w=f+p,x=s?e.offsetHeight-w-e.clientHeight:0,S=a?e.offsetWidth-y-e.clientWidth:0,E=i?v+y:0,k=i?g+w:0,A=r?r.width:el(n.width)-E-S,T=r?r.height:el(n.height)-k-x,R=A+v+S+y,M=T+g+x+w,O=Sf({devicePixelContentBoxSize:om(Math.round(A*devicePixelRatio),Math.round(T*devicePixelRatio),o),borderBoxSize:om(R,M,o),contentBoxSize:om(A,T,o),contentRect:new QH(d,l,A,T)});return Jx.set(e,O),O},ZH=function(e,t,n){var r=XH(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case Bv.DEVICE_PIXEL_CONTENT_BOX:return a;case Bv.BORDER_BOX:return i;default:return o}},qce=(function(){function e(t){var n=XH(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Sf([n.borderBoxSize]),this.contentBoxSize=Sf([n.contentBoxSize]),this.devicePixelContentBoxSize=Sf([n.devicePixelContentBoxSize])}return e})(),eV=function(e){if(JH(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Kce=function(){var e=1/0,t=[];Ef.forEach(function(a){if(a.activeTargets.length!==0){var s=[];a.activeTargets.forEach(function(u){var c=new qce(u.target),d=eV(u.target);s.push(c),u.lastReportedSize=ZH(u.target,u.observedBox),d<e&&(e=d)}),t.push(function(){a.callback.call(a.observer,s,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},HH=function(e){Ef.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(eV(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},Yce=function(){var e=0;for(HH(e);zce();)e=Kce(),HH(e);return Pce()&&Hce(),e>0},nD,tV=[],Wce=function(){return tV.splice(0).forEach(function(e){return e()})},Gce=function(e){if(!nD){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Wce()}).observe(n,r),nD=function(){n.textContent="".concat(t?t--:t++)}}tV.push(e),nD()},Qce=function(e){Gce(function(){requestAnimationFrame(e)})},oE=0,Jce=function(){return!!oE},Xce=250,Zce={attributes:!0,characterData:!0,childList:!0,subtree:!0},VH=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],UH=function(e){return e===void 0&&(e=0),Date.now()+e},rD=!1,ede=(function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Xce),!rD){rD=!0;var r=UH(t);Qce(function(){var i=!1;try{i=Yce()}finally{if(rD=!1,t=r-UH(),!Jce())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,Zce)};document.body?n():Ov.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),VH.forEach(function(n){return Ov.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),VH.forEach(function(n){return Ov.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e})(),iD=new ede,jH=function(e){!oE&&e>0&&iD.start(),oE+=e,!oE&&iD.stop()},tde=function(e){return!aD(e)&&!Uce(e)&&getComputedStyle(e).display==="inline"},nde=(function(){function e(t,n){this.target=t,this.observedBox=n||Bv.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=ZH(this.target,this.observedBox,!0);return tde(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e})(),rde=(function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e})(),Xx=new WeakMap,$H=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Zx=(function(){function e(){}return e.connect=function(t,n){var r=new rde(t,n);Xx.set(t,r)},e.observe=function(t,n,r){var i=Xx.get(t),o=i.observationTargets.length===0;$H(i.observationTargets,n)<0&&(o&&Ef.push(i),i.observationTargets.push(new nde(n,r&&r.box)),jH(1),iD.schedule())},e.unobserve=function(t,n){var r=Xx.get(t),i=$H(r.observationTargets,n),o=r.observationTargets.length===1;i>=0&&(o&&Ef.splice(Ef.indexOf(r),1),r.observationTargets.splice(i,1),jH(-1))},e.disconnect=function(t){var n=this,r=Xx.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e})(),ide=(function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Zx.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!LH(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Zx.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!LH(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Zx.unobserve(this,t)},e.prototype.disconnect=function(){Zx.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e})(),ode=nV.default[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],rV=ode;function ade(){}var qH,sde=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:ide;function lde(e,t){var n,r,i,o,a=qH||(n=0,r=[],i=new Map,o=new sde((l,u)=>{r=r.concat(l),n||window.requestAnimationFrame(function(){for(var c=new Set,d=function(h){if(c.has(r[h].target))return"continue";c.add(r[h].target);var p=i.get(r[h].target);p?.forEach(m=>m(r[h],u))},f=0;f<r.length;f++)d(f);r=[],n=0}),n=1}),qH={observer:o,subscribe(l,u){var c;o.observe(l);var d=(c=i.get(l))!==null&&c!==void 0?c:[];d.push(u),i.set(l,d)},unsubscribe(l,u){var c,d=(c=i.get(l))!==null&&c!==void 0?c:[];if(d.length===1)return o.unobserve(l),void i.delete(l);var f=d.indexOf(u);f!==-1&&d.splice(f,1),i.set(l,d)}}),s=x2(t);return rV(()=>{function l(d,f){u||s.current(d,f)}var u=0,c=e&&"current"in e?e.current:e;return c?(a.subscribe(c,l),()=>{u=1,a.unsubscribe(c,l)}):ade},[e,a,s]),a.observer}var ude=(e,t)=>{var[n,r]=(0,GH.useState)(()=>{var i,o,a=e&&"current"in e?e.current:e;return a?[a.offsetWidth,a.offsetHeight]:[(i=t?.initialWidth)!==null&&i!==void 0?i:0,(o=t?.initialHeight)!==null&&o!==void 0?o:0]});return rV(()=>{var i=e&&"current"in e?e.current:e;i&&r([i.offsetWidth,i.offsetHeight])},[e]),lde(e,i=>{var o=i.target;r([o.offsetWidth,o.offsetHeight])}),n},On=xs(Lce()),oD=function(e,t){return oD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},oD(e,t)};function cde(e,t){oD(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Yc=function(){return Yc=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Yc.apply(this,arguments)};function dde(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}var nl;(function(e){e.AUTO="auto",e.START="start",e.CENTER="center",e.END="end"})(nl||(nl={}));var Jn;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Jn||(Jn={}));var xf;(function(e){e.OBSERVED="observed",e.REQUESTED="requested"})(xf||(xf={}));var KH=(eE={},eE[Jn.VERTICAL]="scrollTop",eE[Jn.HORIZONTAL]="scrollLeft",eE),Rv=(tE={},tE[Jn.VERTICAL]="height",tE[Jn.HORIZONTAL]="width",tE),fde=(nE={},nE[Jn.VERTICAL]="top",nE[Jn.HORIZONTAL]="left",nE),hde=(rE={},rE[Jn.VERTICAL]="marginTop",rE[Jn.HORIZONTAL]="marginLeft",rE),pde=(iE={},iE[Jn.VERTICAL]="marginBottom",iE[Jn.HORIZONTAL]="marginRight",iE),eE,tE,nE,rE,iE,mde=(function(){function e(t){var n=t.itemCount,r=t.itemSizeGetter,i=t.estimatedItemSize;this.itemSizeGetter=r,this.itemCount=n,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}return e.prototype.updateConfig=function(t){var n=t.itemCount,r=t.itemSizeGetter,i=t.estimatedItemSize;n!=null&&(this.itemCount=n),i!=null&&(this.estimatedItemSize=i),r!=null&&(this.itemSizeGetter=r)},e.prototype.getLastMeasuredIndex=function(){return this.lastMeasuredIndex},e.prototype.getSizeAndPositionForIndex=function(t){if(t<0||t>=this.itemCount)throw Error("Requested index "+t+" is outside of range 0.."+this.itemCount);if(t>this.lastMeasuredIndex){for(var n=this.getSizeAndPositionOfLastMeasuredItem(),r=n.offset+n.size,i=this.lastMeasuredIndex+1;i<=t;i++){var o=this.itemSizeGetter(i);if(o==null||isNaN(o))throw Error("Invalid size returned for index "+i+" of value "+o);this.itemSizeAndPositionData[i]={offset:r,size:o},r+=o}this.lastMeasuredIndex=t}return this.itemSizeAndPositionData[t]},e.prototype.getSizeAndPositionOfLastMeasuredItem=function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}},e.prototype.getTotalSize=function(){var t=this.getSizeAndPositionOfLastMeasuredItem();return t.offset+t.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize},e.prototype.getUpdatedOffsetForIndex=function(t){var n=t.align,r=n===void 0?nl.START:n,i=t.containerSize,o=t.currentOffset,a=t.targetIndex;if(i<=0)return 0;var s=this.getSizeAndPositionForIndex(a),l=s.offset,u=l-i+s.size,c;switch(r){case nl.END:c=u;break;case nl.CENTER:c=l-(i-s.size)/2;break;case nl.START:c=l;break;default:c=Math.max(u,Math.min(l,o))}var d=this.getTotalSize();return Math.max(0,Math.min(d-i,c))},e.prototype.getVisibleRange=function(t){var n=t.containerSize,r=t.offset,i=t.overscanCount,o=this.getTotalSize();if(o===0)return{};var a=r+n,s=this.findNearestItem(r);if(typeof s>"u")throw Error("Invalid offset "+r+" specified");var l=this.getSizeAndPositionForIndex(s);r=l.offset+l.size;for(var u=s;r<a&&u<this.itemCount-1;)u++,r+=this.getSizeAndPositionForIndex(u).size;return i&&(s=Math.max(0,s-i),u=Math.min(u+i,this.itemCount-1)),{start:s,stop:u}},e.prototype.resetItem=function(t){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,t-1)},e.prototype.findNearestItem=function(t){if(isNaN(t))throw Error("Invalid offset "+t+" specified");t=Math.max(0,t);var n=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return n.offset>=t?this.binarySearch({high:r,low:0,offset:t}):this.exponentialSearch({index:r,offset:t})},e.prototype.binarySearch=function(t){for(var n=t.low,r=t.high,i=t.offset,o=0,a=0;n<=r;){if(o=n+Math.floor((r-n)/2),a=this.getSizeAndPositionForIndex(o).offset,a===i)return o;a<i?n=o+1:a>i&&(r=o-1)}return n>0?n-1:0},e.prototype.exponentialSearch=function(t){for(var n=t.index,r=t.offset,i=1;n<this.itemCount&&this.getSizeAndPositionForIndex(n).offset<r;)n+=i,i*=2;return this.binarySearch({high:Math.min(n,this.itemCount-1),low:Math.floor(n/2),offset:r})},e})(),gde={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},vde={position:"relative",width:"100%",minHeight:"100%"},oV={position:"absolute",top:0,left:0,width:"100%"},yde=Yc({},oV,{position:"sticky"}),bde=(function(e){cde(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.itemSizeGetter=function(r){return function(i){return n.getSize(i,r)}},n.sizeAndPositionManager=new mde({itemCount:n.props.itemCount,itemSizeGetter:n.itemSizeGetter(n.props.itemSize),estimatedItemSize:n.getEstimatedItemSize()}),n.state={offset:n.props.scrollOffset||n.props.scrollToIndex!=null&&n.getOffsetForIndex(n.props.scrollToIndex)||0,scrollChangeReason:xf.REQUESTED},n.styleCache={},n.getRef=function(r){n.rootNode=r},n.handleScroll=function(r){var i=n.props.onScroll,o=n.getNodeOffset();o<0||n.state.offset===o||r.target!==n.rootNode||(n.setState({offset:o,scrollChangeReason:xf.OBSERVED}),typeof i=="function"&&i(o,r))},n}return t.prototype.componentDidMount=function(){var n=this.props,r=n.scrollOffset,i=n.scrollToIndex;this.rootNode.addEventListener("scroll",this.handleScroll,{passive:!0}),r!=null?this.scrollTo(r):i!=null&&this.scrollTo(this.getOffsetForIndex(i))},t.prototype.componentWillReceiveProps=function(n){var r=this.props,i=r.estimatedItemSize,o=r.itemCount,a=r.itemSize,s=r.scrollOffset,l=r.scrollToAlignment,u=r.scrollToIndex,c=n.scrollToIndex!==u||n.scrollToAlignment!==l,d=n.itemCount!==o||n.itemSize!==a||n.estimatedItemSize!==i;n.itemSize!==a&&this.sizeAndPositionManager.updateConfig({itemSizeGetter:this.itemSizeGetter(n.itemSize)}),(n.itemCount!==o||n.estimatedItemSize!==i)&&this.sizeAndPositionManager.updateConfig({itemCount:n.itemCount,estimatedItemSize:this.getEstimatedItemSize(n)}),d&&this.recomputeSizes(),n.scrollOffset!==s?this.setState({offset:n.scrollOffset||0,scrollChangeReason:xf.REQUESTED}):typeof n.scrollToIndex=="number"&&(c||d)&&this.setState({offset:this.getOffsetForIndex(n.scrollToIndex,n.scrollToAlignment,n.itemCount),scrollChangeReason:xf.REQUESTED})},t.prototype.componentDidUpdate=function(n,r){var i=this.state,o=i.offset,a=i.scrollChangeReason;r.offset!==o&&a===xf.REQUESTED&&this.scrollTo(o)},t.prototype.componentWillUnmount=function(){this.rootNode.removeEventListener("scroll",this.handleScroll)},t.prototype.scrollTo=function(n){var r=this.props.scrollDirection,i=r===void 0?Jn.VERTICAL:r;this.rootNode[KH[i]]=n},t.prototype.getOffsetForIndex=function(n,r,i){r===void 0&&(r=this.props.scrollToAlignment),i===void 0&&(i=this.props.itemCount);var o=this.props.scrollDirection,a=o===void 0?Jn.VERTICAL:o;return(n<0||n>=i)&&(n=0),this.sizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:this.props[Rv[a]],currentOffset:this.state&&this.state.offset||0,targetIndex:n})},t.prototype.recomputeSizes=function(n){n===void 0&&(n=0),this.styleCache={},this.sizeAndPositionManager.resetItem(n)},t.prototype.render=function(){var n=this,r=this.props,i=r.estimatedItemSize,o=r.height,a=r.overscanCount,s=a===void 0?3:a,l=r.renderItem,u=r.itemCount,c=r.itemSize,d=r.onItemsRendered,f=r.onScroll,h=r.scrollDirection,p=h===void 0?Jn.VERTICAL:h,m=r.scrollOffset,v=r.scrollToIndex,g=r.scrollToAlignment,y=r.stickyIndices,w=r.style,x=r.width,S=dde(r,["estimatedItemSize","height","overscanCount","renderItem","itemCount","itemSize","onItemsRendered","onScroll","scrollDirection","scrollOffset","scrollToIndex","scrollToAlignment","stickyIndices","style","width"]),E=this.state.offset,k=this.sizeAndPositionManager.getVisibleRange({containerSize:this.props[Rv[p]]||0,offset:E,overscanCount:s}),A=k.start,T=k.stop,R=[],M=Yc({},gde,w,{height:o,width:x}),O=Yc({},vde,(_={},_[Rv[p]]=this.sizeAndPositionManager.getTotalSize(),_));if(y!=null&&y.length!==0&&(y.forEach(function(z){return R.push(l({index:z,style:n.getStyle(z,!0)}))}),p===Jn.HORIZONTAL&&(O.display="flex")),typeof A<"u"&&typeof T<"u"){for(var B=A;B<=T;B++)y!=null&&y.includes(B)||R.push(l({index:B,style:this.getStyle(B,!1)}));typeof d=="function"&&d({startIndex:A,stopIndex:T})}return(0,_v.createElement)("div",Yc({ref:this.getRef},S,{style:M}),(0,_v.createElement)("div",{style:O},R));var _},t.prototype.getNodeOffset=function(){var n=this.props.scrollDirection,r=n===void 0?Jn.VERTICAL:n;return this.rootNode[KH[r]]},t.prototype.getEstimatedItemSize=function(n){return n===void 0&&(n=this.props),n.estimatedItemSize||typeof n.itemSize=="number"&&n.itemSize||50},t.prototype.getSize=function(n,r){return typeof r=="function"?r(n):Array.isArray(r)?r[n]:r},t.prototype.getStyle=function(n,r){var i=this.styleCache[n];if(i)return i;var o=this.props.scrollDirection,a=o===void 0?Jn.VERTICAL:o,s=this.sizeAndPositionManager.getSizeAndPositionForIndex(n),l=s.size,u=s.offset;return this.styleCache[n]=r?Yc({},yde,(c={},c[Rv[a]]=l,c[hde[a]]=u,c[pde[a]]=-(u+l),c.zIndex=1,c)):Yc({},oV,(d={},d[Rv[a]]=l,d[fde[a]]=u,d));var c,d},t.defaultProps={overscanCount:3,scrollDirection:Jn.VERTICAL,width:"100%"},t.propTypes={estimatedItemSize:On.number,height:(0,On.oneOfType)([On.number,On.string]).isRequired,itemCount:On.number.isRequired,itemSize:(0,On.oneOfType)([On.number,On.array,On.func]).isRequired,onScroll:On.func,onItemsRendered:On.func,overscanCount:On.number,renderItem:On.func.isRequired,scrollOffset:On.number,scrollToIndex:On.number,scrollToAlignment:(0,On.oneOf)([nl.AUTO,nl.START,nl.CENTER,nl.END]),scrollDirection:(0,On.oneOf)([Jn.HORIZONTAL,Jn.VERTICAL]),stickyIndices:(0,On.arrayOf)(On.number),style:On.object,width:(0,On.oneOfType)([On.number,On.string])},t})(_v.PureComponent),wde=bde,xde={root:"alinea-Explorer","root-list":"alinea-Explorer-list",rootList:"alinea-Explorer-list"},YH=j(xde),Ede={summaryRow:Gx,summaryThumb:RH};function am({type:e,query:t,virtualized:n,max:r,selectable:i,selection:o=[],toggleSelect:a=()=>{},onNavigate:s,withNavigation:l,showMedia:u,border:c=!0}){let{schema:d}=sn(),f=oe(wt),h=ug(),p=oe(hp);$p(()=>{h.invalidateQueries("explorer")},[p]);let{data:m,isLoading:v}=ri(["explorer",e,t,r],async()=>{let A=e==="row"?"summaryRow":"summaryThumb",T=Ede[A],R=Yx(d),M=await f.count({...t,status:"preferDraft"}),O={...t,select:R};return{type:e,total:r?Math.min(r,M):M,selection:R,query:O,summaryView:A,defaultView:T}},{keepPreviousData:!0}),g=(0,iV.useRef)(null),[y,w]=ude(g),x=m?.type==="thumb"?Math.round(y/260):1,S=m?.type==="thumb"?180:50,E=m?.type==="thumb"?x*10:50,k=m&&y>0&&(!n||w>0);return(0,tl.jsx)(MH,{value:{selectable:i,selection:o,onSelect:a,onNavigate:s,withNavigation:l,showMedia:u,border:c},children:(0,tl.jsx)("div",{ref:g,className:YH.root(),children:k?m.total>0?n?(0,tl.jsx)(wde,{className:YH.root.list(),width:"100%",height:w,overscanCount:2,itemCount:Math.ceil(m.total/x),itemSize:S,renderItem:({index:A,style:T})=>{let R=A*x;return(0,tl.jsx)("div",{style:{...T,height:S,flexShrink:0},children:(0,tl.jsx)(tD,{schema:d,query:m.query,amount:x,from:R,batchSize:E,summaryView:m.summaryView,defaultView:m.defaultView})},A)},scrollToIndex:m.total>0?0:void 0}):Array.from({length:Math.ceil(m.total/x)}).map((A,T)=>{let R=T*x;return(0,tl.jsx)("div",{style:{height:S,flexShrink:0},children:(0,tl.jsx)(tD,{schema:d,query:m.query,amount:x,from:R,batchSize:E,summaryView:m.summaryView,defaultView:m.defaultView})},T)}):(0,tl.jsx)("div",{style:{margin:"auto"},children:"No results"}):(0,tl.jsx)(gn,{absolute:!0})})})}var ho=D(L(),1),Sde={root:"alinea-SearchBox","root-label":"alinea-SearchBox-label",rootLabel:"alinea-SearchBox-label","root-label-icon":"alinea-SearchBox-label-icon",rootLabelIcon:"alinea-SearchBox-label-icon","root-label-input":"alinea-SearchBox-label-input",rootLabelInput:"alinea-SearchBox-label-input","root-popover":"alinea-SearchBox-popover",rootPopover:"alinea-SearchBox-popover","root-popover-item":"alinea-SearchBox-popover-item",rootPopoverItem:"alinea-SearchBox-popover-item"},Fv=j(Sde);function aV(){let e=Vt(),t=fr(),n=Ka(),{name:r}=hr(),{name:i}=li(),o=Hn(),[a,s]=(0,Wc.useState)(""),[l,u]=(0,Wc.useState)(!1),c=Kx({onClear:()=>s("")}),d=(0,Wc.useMemo)(()=>{let p=a.replace(/,/g," ").split(" ").filter(Boolean);return{select:void 0,workspace:r,root:i,locale:o,search:p}},[r,i,a,o]),[f,h]=(0,Wc.useState)("row");return(0,Wc.useLayoutEffect)(()=>{s("")},[n]),(0,ho.jsxs)("div",{className:Fv.root(),onFocus:()=>{u(!0)},onBlur:({currentTarget:p,relatedTarget:m})=>{p.contains(m)||(u(!1),c.focusProps.onBlur())},children:[(0,ho.jsx)("div",{children:(0,ho.jsxs)("label",{className:Fv.root.label(),...c.focusProps,children:[(0,ho.jsx)(qx,{className:Fv.root.label.icon()}),(0,ho.jsx)("input",{placeholder:"Search",value:a,onChange:p=>s(p.target.value),className:Fv.root.label.input()}),l&&(0,ho.jsx)(Vr.Right,{children:(0,ho.jsxs)(K,{gap:10,children:[(0,ho.jsx)(Le,{size:12,icon:im,active:f==="row",onClick:()=>h("row")}),(0,ho.jsx)(Le,{size:12,icon:$x,active:f==="thumb",onClick:()=>h("thumb")})]})})]})}),(0,ho.jsx)(c.Container,{children:l&&a&&(0,ho.jsx)("div",{className:Fv.root.popover(),children:(0,ho.jsx)(am,{border:!1,query:d,type:f,toggleSelect:p=>t(e.entry(p)),max:25})})})]})}b();b();var ke;(e=>{e.id="_id",e.type="_type"})(ke||(ke={}));b();b();b();b();b();b();var sV=class{find(e){return this.resolve(e)}first(e){return this.resolve({...e,first:!0})}async get(e){let t=await this.resolve({...e,get:!0});if(!t)throw new Error("Entry not found");return t}count(e){return this.resolve({...e,count:!0})}};function Iv(e){return e?.constructor!==Object?void 0:e.edge}var sm=class extends sV{async create(e){let t=new OP(e);return await this.commit(t),this.get({id:t.id,type:e.type,locale:e.locale,status:e.status==="draft"?"preferDraft":e.status==="archived"?"archived":"preferPublished"})}async update(e){let t=new FP(e);return await this.commit(t),this.get({type:e.type,id:e.id,locale:e.locale??null,status:e.status??"published"})}async remove(...e){await this.commit(new BP(e))}async publish(e){await this.commit(new NP(e))}async unpublish(e){await this.commit(new LP(e))}async archive(e){await this.commit(new zP(e))}async move(e){let t=new IP(e);return await this.commit(t),this.get({id:e.id,select:{index:W.index},status:"preferDraft"})}async discard(e){let t=new _P(e);await this.commit(t)}async upload(e){let t=new _x(e);return await this.commit(t),this.get({type:an,id:t.id})}async commit(...e){let t=await Promise.all(e.map(n=>n.task(this)));await this.mutate(t.flat())}};var lV=class extends sm{config;constructor(e){super(),this.config=zw(e)}get schema(){return this.config.schema}get workspaces(){return this.config.workspaces}};var Cde=class extends lV{async sync(){throw new Error("Not implemented")}async resolve(e){throw new Error("Not implemented")}async mutate(e){throw new Error("Not implemented")}async prepareUpload(e){throw new Error("Not implemented")}};function sD(e){return new Cde(e)}b();var aE=class extends He{constructor(e,t,n){super({shape:new Sx(n.options.label,t,n.options.initialValue,n.postProcess),referencedViews:kn.referencedViews(e),...n})}};b();var sE=class extends He{constructor(e,t){super({shape:he.shape(e),referencedViews:he.referencedViews(e),...t})}};b();var Ade=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(e=>e.charCodeAt(0))),Tde=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(e=>e.charCodeAt(0))),lD,kde=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Dde=(lD=String.fromCodePoint)!==null&&lD!==void 0?lD:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Mde(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=kde.get(e))!==null&&t!==void 0?t:e}var Mr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Mr||(Mr={}));var Rde=32,Gc;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Gc||(Gc={}));function uD(e){return e>=Mr.ZERO&&e<=Mr.NINE}function Ode(e){return e>=Mr.UPPER_A&&e<=Mr.UPPER_F||e>=Mr.LOWER_A&&e<=Mr.LOWER_F}function Bde(e){return e>=Mr.UPPER_A&&e<=Mr.UPPER_Z||e>=Mr.LOWER_A&&e<=Mr.LOWER_Z||uD(e)}function _de(e){return e===Mr.EQUALS||Bde(e)}var Dr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Dr||(Dr={}));var Cf;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Cf||(Cf={}));var Fde=class{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Dr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Cf.Strict}startEntity(e){this.decodeMode=e,this.state=Dr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Dr.EntityStart:return e.charCodeAt(t)===Mr.NUM?(this.state=Dr.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Dr.NamedEntity,this.stateNamedEntity(e,t));case Dr.NumericStart:return this.stateNumericStart(e,t);case Dr.NumericDecimal:return this.stateNumericDecimal(e,t);case Dr.NumericHex:return this.stateNumericHex(e,t);case Dr.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|Rde)===Mr.LOWER_X?(this.state=Dr.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Dr.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){let i=n-t;this.result=this.result*Math.pow(r,i)+parseInt(e.substr(t,i),r),this.consumed+=i}}stateNumericHex(e,t){let n=t;for(;t<e.length;){let r=e.charCodeAt(t);if(uD(r)||Ode(r))t+=1;else return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){let n=t;for(;t<e.length;){let r=e.charCodeAt(t);if(uD(r))t+=1;else return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Mr.SEMI)this.consumed+=1;else if(this.decodeMode===Cf.Strict)return 0;return this.emitCodePoint(Mde(this.result),this.consumed),this.errors&&(e!==Mr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:n}=this,r=n[this.treeIndex],i=(r&Gc.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let o=e.charCodeAt(t);if(this.treeIndex=Ide(n,r,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return this.result===0||this.decodeMode===Cf.Attribute&&(i===0||_de(o))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],i=(r&Gc.VALUE_LENGTH)>>14,i!==0){if(o===Mr.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Cf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:n}=this,r=(n[t]&Gc.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){let{decodeTree:r}=this;return this.emitCodePoint(t===1?r[e]&~Gc.VALUE_LENGTH:r[e+1],n),t===3&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case Dr.NamedEntity:return this.result!==0&&(this.decodeMode!==Cf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Dr.NumericDecimal:return this.emitNumericEntity(0,2);case Dr.NumericHex:return this.emitNumericEntity(0,3);case Dr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Dr.EntityStart:return 0}}};function mV(e){let t="",n=new Fde(e,r=>t+=Dde(r));return function(i,o){let a=0,s=0;for(;(s=i.indexOf("&",s))>=0;){t+=i.slice(a,s),n.startEntity(o);let u=n.write(i,s+1);if(u<0){a=s+n.end();break}a=s+u,s=u===0?a+1:a}let l=t+i.slice(a);return t="",l}}function Ide(e,t,n,r){let i=(t&Gc.BRANCH_LENGTH)>>7,o=t&Gc.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){let l=r-o;return l<0||l>=i?-1:e[n+l]-1}let a=n,s=a+i-1;for(;a<=s;){let l=a+s>>>1,u=e[l];if(u<r)a=l+1;else if(u>r)s=l-1;else return e[l+i]}return-1}var nHe=mV(Ade),rHe=mV(Tde),uV;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(uV||(uV={}));var cV;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(cV||(cV={}));var dV;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(dV||(dV={}));var iHe={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};var ss;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(ss||(ss={}));var oHe=ss.Root,aHe=ss.Text,sHe=ss.Directive,lHe=ss.Comment,uHe=ss.Script,cHe=ss.Style,dHe=ss.Tag,fHe=ss.CDATA,hHe=ss.Doctype;function lE(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}var pHe=new Map(lE([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(lE([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(lE([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(lE([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Nde=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),mHe=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):((e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t));function cD(e,t){return function(r){let i,o=0,a="";for(;i=e.exec(r);)o!==i.index&&(a+=r.substring(o,i.index)),a+=t.get(i[0].charCodeAt(0)),o=i.index+1;return a+r.substring(o)}}var gHe=cD(/[&<>'"]/g,Nde),vHe=cD(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),yHe=cD(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),fV;(function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"})(fV||(fV={}));var hV;(function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"})(hV||(hV={}));var bHe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),wHe=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),pV;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(pV||(pV={}));var gV=class extends He{constructor(e,t){super({shape:new Cx(t.options.label,e&&kn.shapes(e),t.options.initialValue,t.options.searchable),referencedViews:e?kn.referencedViews(e):[],...t})}};b();var vV=class extends He{constructor(e,t,n){super({shape:new Ax(n.options.label,t,n.options.initialValue,n.postProcess),referencedViews:e?kn.referencedViews(e):[],...n})}};b();var Lde=class extends vV{first(e){return{edge:"entrySingle",first:!0,field:this,...e}}};function rl(e,t){let n=le(t.pickers),r=Rt(n.filter(([o,a])=>a.fields).map(([o,a])=>[o,a.fields])),i=Rt(n.map(([o,a])=>[o,a.shape]));return new Lde(r,i,{options:{label:e,...t},async postProcess(o,a){let s=o[ke.type],l=t.pickers[s];l&&l.postProcess&&await l.postProcess(o,a)},view:Je.SingleLinkInput})}var zde=class extends aE{find(e){return{edge:"entryMultiple",field:this,...e}}first(e){return{edge:"entryMultiple",first:!0,field:this,...e}}count(e){return{edge:"entryMultiple",count:!0,field:this,...e}}};function il(e,t){let n=le(t.pickers),r=Rt(n.filter(([o,a])=>a.fields).map(([o,a])=>[o,a.fields])),i=Rt(n.map(([o,a])=>[o,a.shape]));return new zde(r,i,{options:{label:e,...t},async postProcess(o,a){let s=[];for(let l of o){let u=l[ge.type],c=t.pickers[u];c&&c.postProcess&&s.push(c.postProcess(l,a))}await Promise.all(s)},view:Je.MultipleLinksInput})}b();b();function uE(e,t){return(...r)=>({...e(...r),...t})}b();var yV=D($(),1),lm=D(L(),1),Pde={root:"alinea-Breadcrumbs","root-separator":"alinea-Breadcrumbs-separator",rootSeparator:"alinea-Breadcrumbs-separator"},bV=j(Pde);function wV({children:e}){return(0,lm.jsx)(K,{center:!0,gap:8,className:bV.root(),children:e})}function cE({children:e}){return(0,lm.jsxs)(yV.Fragment,{children:[e,(0,lm.jsx)("span",{className:bV.root.separator(),children:(0,lm.jsx)(te,{icon:as,size:17})})]})}var Ea=D($(),1);b();function xV(e){let t=he.isType(e.fields)?e.fields:e.fields&&Tn("Entry fields",{fields:e.fields}),n=t&&he.shape(t);return{shape:new ao("Entry",{[ke.id]:new on("Id"),[ke.type]:new on("Type"),[qt.entry]:new on("Entry")}).concat(n),fields:t,label:e.label||"Page link",handlesMultiple:!0,options:e,async postProcess(r,i){let{[ke.id]:o,[ke.type]:a,[qt.entry]:s,[ge.index]:l,...u}=r;for(let y of It(u))delete r[y];if(r.fields=u,!s)return;let c=[s];if(!e.selection)return;let[d]=await i.resolveLinks(e.selection,c);if(a!=="image")return Zo(r,d);if(!d)return r;let{src:f,previewUrl:h,filePath:p,...m}=d;if(!h)return Zo(r,d,{src:f});let g=i.includedAtBuild(p)?f:h;r.src=g,Zo(r,m)}}}b();b();b();pd();var Hde=xs(zx(),1),Vde=J(e=>{let t=e(wt),{schema:n}=e(oi),r=Yx(n);return new Hde.default(async i=>{let o=new Map,a=await t.find({select:r,id:{in:i},status:"preferDraft"});for(let s of a){let l=s.locale??"";o.has(s.id)?o.get(s.id)[l]=s:o.set(s.id,{[l]:s})}return i.map(s=>o.get(s))})}),EV=ii(e=>J(async t=>{let r=await t(Vde).clear(e.id).load(e.id);if(!r)return;let i=r[e.locale??""]??r[Object.keys(r)[0]];if(t(pp(i.id)),i?.parents)for(let o of i.parents)t(pp(o.id));return i}),(e,t)=>e.id===t.id&&e.locale===t.locale);function SV(e){let t=Hn();return oe(EV({id:e,locale:t}))}var CV=D(L(),1);function AV({reference:e}){let{views:t}=ur(),n=SV(e[qt.entry]),{schema:r}=sn();if(!n)return null;let i=r[n.type],o=i&&rt(i).summaryRow,a=(o&&zs(t,o))??Gx;return(0,CV.jsx)(a,{...n})}var Ye=D(L(),1),Ude={root:"alinea-EntryPicker","root-footer":"alinea-EntryPicker-footer",rootFooter:"alinea-EntryPicker-footer","root-header":"alinea-EntryPicker-header",rootHeader:"alinea-EntryPicker-header","root-search":"alinea-EntryPicker-search",rootSearch:"alinea-EntryPicker-search","root-search-icon":"alinea-EntryPicker-search-icon",rootSearchIcon:"alinea-EntryPicker-search-icon","root-search-input":"alinea-EntryPicker-search-input",rootSearchInput:"alinea-EntryPicker-search-input","root-results":"alinea-EntryPicker-results",rootResults:"alinea-EntryPicker-results","root-results-list":"alinea-EntryPicker-results-list",rootResultsList:"alinea-EntryPicker-results-list","root-results-list-item":"alinea-EntryPicker-results-list-item",rootResultsListItem:"alinea-EntryPicker-results-list-item"},Sa=uE(xV,{view:jde,viewRow:AV}),Af=j(Ude);function jde({type:e,options:t,selection:n,onConfirm:r,onCancel:i}){let o=sn(),a=Zs(),s=Cp(),{title:l,defaultView:u,max:c,pickChildren:d,showMedia:f}=t,[h,p]=(0,Ea.useState)(""),m=Kx({onClear:()=>p("")}),[v,g]=(0,Ea.useState)(()=>n||[]),{name:y}=hr(),{name:w}=li(),x=Hn(),S=(0,Ea.useMemo)(()=>{if(!s)return;let{id:Y,type:ne,workspace:ae,root:ce,parentId:Ee,locale:be}=s.activeVersion;return{id:Y,type:ne,workspace:ae,root:ce,parentId:Ee,locale:be}},[s?.activeVersion]),k=ri(["entry-location",a,S,t.location],async()=>{if(S)return typeof t.location=="function"?t.location({graph:a,entry:S}):t.location},{suspense:!0}).data,[A,T]=(0,Ea.useState)({workspace:y,parentId:d?s?.entryId:void 0,root:f?Gt.defaultMediaRoot(o.workspaces[y]):w,...k,locale:x}),R=o.workspaces[A.workspace],M=Gt.data(R),O=Dn.data(R[A.root]),B=O.i18n?.locales,_=O.i18n?B&&A.locale&&B.includes(A.locale)?A.locale:O.i18n.locales[0]:void 0,{data:z}=ri(["picker-parents",A,_],async()=>{if(!A.parentId)return[];let Y=await a.get({locale:_,select:{title:W.title,parents:{edge:"parents",select:{id:W.id,title:W.title}}},id:A.parentId,status:"preferDraft"});return Y?.parents.concat({id:A.parentId,title:Y.title})}),V=t.enableNavigation||!t.condition&&!t.pickChildren,P=ri(["entry-condition",a,S],()=>{if(S)return typeof t.condition=="function"?t.condition({graph:a,entry:S}):t.condition},{suspense:!0}),F=(0,Ea.useMemo)(()=>{let Y=h.replace(/,/g," ").split(" ").filter(Boolean),ne=P.data,ae=V&&!h||d?A.parentId??null:void 0,ce={and:[ne,{_workspace:A.workspace,_root:A.root,_parentId:ae,_locale:_}]};return{select:W,filter:ce,search:Y}},[V,A,_,h,P.data]),[U,I]=(0,Ea.useState)(u||"row"),Q=(0,Ea.useCallback)(Y=>{g(ne=>{let ae=ne.findIndex(Ee=>qt.isEntryReference(Ee)&&Ee[qt.entry]===Y.id),ce=ne.slice();return ae===-1?ce=ce.concat({[ke.id]:Qt(),[ke.type]:e,[qt.entry]:Y.id}).slice(-(c||0)):(ce.splice(ae,1),ce=ce.slice(-(c||0))),c===1&&ce.length===1&&r(ce),ce})},[r,e,c]);function N(){r(v)}function H(){T({...A,parentId:void 0})}function G(){if(!A.parentId)return i();let Y=z?.findIndex(({id:ae})=>ae===A.parentId);if(Y===void 0)return;let ne=z?.[Y-1];if(!ne)return H();T({...A,parentId:ne.id})}return(0,Ye.jsx)(ga,{open:!0,onClose:i,className:Af.root(),children:(0,Ye.jsxs)(Ea.Suspense,{fallback:(0,Ye.jsx)(gn,{absolute:!0}),children:[(0,Ye.jsx)("div",{className:Af.root.header(),children:(0,Ye.jsxs)(ut,{gap:24,children:[(0,Ye.jsxs)(K,{align:"flex-end",gap:18,children:[(0,Ye.jsx)(Le,{icon:qc,onClick:G}),(0,Ye.jsxs)(ut,{children:[V&&(0,Ye.jsxs)(wV,{children:[(0,Ye.jsx)(cE,{children:(0,Ye.jsx)("button",{type:"button",style:{cursor:"pointer"},onClick:H,children:M.label})}),(0,Ye.jsxs)(cE,{children:[(0,Ye.jsxs)(de.Root,{bottom:!0,children:[(0,Ye.jsx)(de.Trigger,{children:(0,Ye.jsxs)(K,{center:!0,gap:4,children:[Dn.label(R[A.root]),(0,Ye.jsx)(te,{icon:Ar})]})}),(0,Ye.jsx)(de.Items,{children:le(R).map(([Y,ne])=>(0,Ye.jsx)(de.Item,{onClick:()=>{T({workspace:A.workspace,root:Y})},children:Dn.label(ne)},Y))})]}),O.i18n&&(0,Ye.jsx)(Kp,{inline:!0,selected:_,locales:O.i18n.locales,onChange:Y=>{T({...A,parentId:void 0,locale:Y})}})]}),z?.map(({id:Y,title:ne})=>(0,Ye.jsx)(cE,{children:(0,Ye.jsx)("button",{type:"button",style:{cursor:"pointer"},onClick:()=>{T({...A,parentId:Y})},children:ne})},Y))]}),(0,Ye.jsx)("h2",{children:l?(0,Ye.jsx)(Ze,{label:l}):"Select a reference"})]})]}),(0,Ye.jsxs)("label",{className:Af.root.search(),children:[(0,Ye.jsx)(qx,{className:Af.root.search.icon()}),(0,Ye.jsx)("input",{type:"text",placeholder:"Search",value:h,onChange:Y=>p(Y.target.value),className:Af.root.search.input(),...m.focusProps}),(0,Ye.jsx)(Vr.Right,{children:(0,Ye.jsxs)(K,{gap:16,children:[(0,Ye.jsx)(Le,{icon:im,active:U==="row",onClick:()=>I("row")}),(0,Ye.jsx)(Le,{icon:$x,active:U==="thumb",onClick:()=>I("thumb")})]})})]})]})}),(0,Ye.jsxs)(ut,{style:{flexGrow:1,minHeight:0},children:[(0,Ye.jsx)(m.Container,{children:(0,Ye.jsx)("div",{className:Af.root.results(),children:(0,Ye.jsx)(am,{virtualized:!0,query:F,type:U,selectable:f?["MediaFile"]:!0,selection:v,toggleSelect:Q,showMedia:f,onNavigate:h&&!f?void 0:Y=>{f&&h&&p(""),T({...A,parentId:Y})},withNavigation:V})})}),f&&(0,Ye.jsx)(tm,{position:"left",destination:{...A,directory:Sc(o,A.workspace)},max:c,toggleSelect:Q,onlyImages:e==="image"})]}),(0,Ye.jsx)(K,{as:"footer",className:Af.root.footer(),children:(0,Ye.jsx)(Vr.Right,{children:(0,Ye.jsxs)(K,{gap:16,children:[(0,Ye.jsx)(nn,{outline:!0,type:"button",onClick:i,children:"Cancel"}),(0,Ye.jsx)(nn,{onClick:N,children:"Confirm"})]})})})]})})}var cu;(e=>{e.entryId=W.id,e.title=W.title,e.entryType=W.type,e.url=W.url,e.href=W.url,e.path=W.path})(cu||(cu={}));function Tf(e,t={}){return rl(e,{...t,pickers:{entry:Sa({...t,title:"Select a page",max:1,selection:cu})}})}(e=>{function t(n,r={}){return il(n,{...r,pickers:{entry:Sa({...r,title:"Select a page",selection:cu})}})}e.multiple=t})(Tf||(Tf={}));b();var dD;(e=>{e.title=W.title,e.url=an.location,e.href=an.location,e.extension=an.extension,e.size=an.size})(dD||(dD={}));var $de={_type:"MediaFile",extension:{notIn:em}};function Nv(e,t){return Sa({...t,max:e?void 0:1,label:"File",title:e?"Select files":"Select a file",condition:{or:[$de,{_type:"MediaLibrary"}]},showMedia:!0,defaultView:"thumb",selection:dD})}function dE(e,t={}){return rl(e,{...t,pickers:{file:Nv(!1,t)}})}(e=>{function t(n,r={}){return il(n,{...r,pickers:{file:Nv(!0,r)}})}e.multiple=t})(dE||(dE={}));b();var fD;(e=>{e.title=W.title,e.src=an.location,e.extension=an.extension,e.size=an.size,e.hash=an.hash,e.width=an.width,e.height=an.height,e.averageColor=an.averageColor,e.thumbHash=an.thumbHash,e.focus=an.focus})(fD||(fD={}));var qde={_type:"MediaFile",extension:{in:[...em,...em.map(e=>e.toUpperCase())]}};function TV(e,t){return Sa({...t,max:e?void 0:1,label:"Image",title:e?"Select images":"Select an image",condition:qde,showMedia:!0,defaultView:"thumb",selection:{...fD,filePath:W.filePath,previewUrl:an.previewUrl}})}function um(e,t={}){return rl(e,{...t,pickers:{image:TV(!1,t)}})}(e=>{function t(n,r={}){return il(n,{...r,pickers:{image:TV(!0,r)}})}e.multiple=t})(um||(um={}));b();b();b();var Kde=class extends zn{};function cm(e,t={}){return new Kde({options:{...t,label:e},view:Je.CheckInput})}var MV=D($(),1);b();var Bn;(e=>{e.url="_url",e.title="_title",e.target="_target";function t(n){return n&&n[ke.type]==="url"}e.isUrl=t})(Bn||(Bn={}));function kV(e){let t=he.isType(e.fields)?e.fields:e.fields&&Tn("URL fields",{fields:e.fields}),n=t&&he.shape(t);return{shape:new ao("Url",{[ke.id]:new on("Id"),[ke.type]:new on("Type"),[Bn.url]:new on("Url"),[Bn.title]:new on("Title"),[Bn.target]:new on("Target")}).concat(n),label:"External website",handlesMultiple:!1,fields:t,options:e,async postProcess(r,i){let{[ke.id]:o,[ke.type]:a,[Bn.url]:s,[Bn.title]:l,[Bn.target]:u,[ge.index]:c,...d}=r,f=It(d);for(let h of f)delete r[h];r.url=s,r.href=s,r.title=l,r.target=u,r.fields=d}}}b();var Lv=D(L(),1),Yde={root:"alinea-UrlPickerRow","root-url":"alinea-UrlPickerRow-url",rootUrl:"alinea-UrlPickerRow-url","root-desc":"alinea-UrlPickerRow-desc",rootDesc:"alinea-UrlPickerRow-desc","is-description":"alinea-UrlPickerRow-is-description",isDescription:"alinea-UrlPickerRow-is-description"},hD=j(Yde);function DV({reference:e}){return(0,Lv.jsxs)(K,{gap:16,className:hD.root({description:!!e._title}),children:[(0,Lv.jsx)("span",{className:hD.root.url(),children:e._url}),e._title&&(0,Lv.jsx)("span",{className:hD.root.desc(),children:e._title})]})}var ls=D(L(),1),dm=uE(kV,{view:Gde,viewRow:DV});function Wde({selection:e,options:t,onConfirm:n,onCancel:r}){let i=e?.[0],o=(0,MV.useMemo)(()=>Tn("Link",{fields:{url:cr("Url",{required:!0,help:"Url of the link"}),title:cr("Description",{help:"Text to display inside the link element"}),blank:cm("Target",{description:"Open link in new tab",initialValue:!0})}}),[]),a=yp(o,{initialValue:i?{url:i[Bn.url],title:i[Bn.title],blank:i[Bn.target]==="_blank"}:void 0});function s(l){l.preventDefault(),l.stopPropagation();let u=a.data(),c={[ke.id]:i?._id??Qt(),[ke.type]:"url",[Bn.url]:u.url,[Bn.title]:u.title||"",[Bn.target]:u.blank?"_blank":"_self"};n([c])}return(0,ls.jsxs)("form",{onSubmit:s,children:[(0,ls.jsx)(Qn,{border:!1,form:a}),(0,ls.jsx)(K,{children:(0,ls.jsx)(Vr.Right,{children:(0,ls.jsxs)(K,{gap:16,children:[(0,ls.jsx)(nn,{outline:!0,type:"button",onClick:r,children:"Cancel"}),(0,ls.jsx)(nn,{children:"Confirm"})]})})})]})}function Gde(e){return(0,ls.jsx)(ga,{open:!0,onClose:e.onCancel,children:(0,ls.jsx)(Wde,{...e})})}function fm(e,t={}){return rl(e,{...t,pickers:{entry:Sa({...t,title:"Select a page",max:1,selection:cu}),url:dm(t),file:Nv(!1,t)}})}(e=>{function t(n,r={}){return il(n,{...r,pickers:{entry:Sa({...r,title:"Select a page",selection:cu}),url:dm(r),file:Nv(!0,r)}})}e.multiple=t})(fm||(fm={}));b();function fE(e,t={}){return rl(e,{...t,pickers:{url:dm(t)}})}(e=>{function t(n,r={}){return il(n,{...r,pickers:{url:dm(r)}})}e.multiple=t})(fE||(fE={}));b();var Qde=class extends zn{};function du(e,t){return new Qde({options:{label:e,...t},view:Je.SelectInput})}b();var RV=D(L(),1),Jde={root:"alinea-Link"},Xde=j(Jde);function OV({href:e,external:t,children:n,...r}){let o=e&&!t?zo(e):{href:e};return(0,RV.jsx)("a",{...r,...o,className:Xde.root.mergeProps(r)(),children:n})}var Qo=D($(),1);b();function BV(){return oe(wt)}var Ca=D(L(),1),Zde={root:"alinea-NewEntry","root-header":"alinea-NewEntry-header",rootHeader:"alinea-NewEntry-header","root-footer":"alinea-NewEntry-footer",rootFooter:"alinea-NewEntry-footer","root-footer-link":"alinea-NewEntry-footer-link",rootFooterLink:"alinea-NewEntry-footer-link",form:"alinea-NewEntry-form","is-loading":"alinea-NewEntry-is-loading",isLoading:"alinea-NewEntry-is-loading"},hE=j(Zde),_V={id:W.id,type:W.type,path:W.path,url:W.url,level:W.level,parent:W.parentId,parentPaths:Hx({select:W.path})},efe=cr("Title",{autoFocus:!0});function tfe({parentId:e}){let t=sn(),n=Hn(),r=BV(),{data:i}=ri(["parent-req",e],async()=>e?r.first({select:_V,id:e,locale:n,status:"preferDraft"}):null,{suspense:!0,keepPreviousData:!0,staleTime:0}),o=i&&(he.isContainer(t.schema[i.type])?i.id:i.parent),{pathname:a}=Ka(),s=Vt(),l=fr(),{name:u}=hr(),c=le(t.schema).filter(([,M])=>he.isContainer(M)).map(M=>M[0]),d=li(),f=(0,Qo.useMemo)(()=>Tf("Parent",{location:{workspace:u,root:d.name},condition:{_type:{in:c}},enableNavigation:!0,initialValue:o?{[ke.id]:"parent",[ke.type]:"entry",[qt.entry]:o}:void 0}),[]);async function h(M){if(!M)return d.contains?kn.contained(t.schema,d.contains):It(t.schema);let O=M?await r.get({select:_V,id:M,status:"preferDraft"}):null,B=O&&t.schema[O.type];return B?kn.contained(t.schema,he.contains(B)):It(t.schema)}let p=(0,Qo.useMemo)(()=>{let M=du("Select type",{options:{}});return Wa.options(M,async O=>{let _=O(f)?.[qt.entry],z=await h(_);return{options:Rt(z.map(V=>[V,t.schema[V]]).filter(V=>V[1]).map(([V,P])=>[V,he.label(P)||V]))}})},[]),m=(0,Qo.useMemo)(()=>{let M=du("Insert order",{initialValue:"last",options:{first:"At the top of the list",last:"At the bottom of the list"}});return Wa.options(M,async O=>{let _=O(f)?.[qt.entry],z=await r.first({select:{type:W.type},id:_,status:"preferDraft"}),V=z&&t.schema[z.type];return{hidden:(V&&he.insertOrder(V))!=="free"}})},[]),v=(0,Qo.useMemo)(()=>{let M=Tf("Copy content from");return Wa.options(M,O=>{let B=O(p);return{readOnly:!B,pickers:{entry:Sa({condition:{_type:B},title:"Copy content from",max:1,selection:cu})}}})},[]),[g,y]=(0,Qo.useState)(!1),w=(0,Qo.useMemo)(()=>Tn("New entry",{fields:{parent:f,title:efe,type:p,order:m,copyFrom:v}}),[]),x=yp(w),S=x.fieldInfo(f),E=x.fieldInfo(p),k=x.fieldInfo(v),A=oe(E.value),T=oe(S.value);(0,Qo.useEffect)(()=>{h(T?.[qt.entry]).then(M=>{M.length>0&&E.mutator(M[0])})},[T]),(0,Qo.useEffect)(()=>{k.mutator.replace(void 0)},[A]);async function R(M){M.preventDefault();let{title:O,type:B}=x.data();if(g||!B||!O)return;y(!0);let _=to(O),z=Qt(),V=x.data().parent?.[qt.entry],P=t.schema[B],F=x.data().copyFrom?.[qt.entry],U=F?await r.first({select:W.data,id:F,locale:n,status:"preferPublished"}):he.initialValue(P),I=V?await r.first({id:V}):void 0,Q=I&&t.schema[I._type],N=Q&&he.insertOrder(Q);return r.create({type:P,id:z,insertOrder:!N||N==="free"?x.data().order:N,parentId:V,locale:n,root:d.name,workspace:u,status:t.enableDrafts?"draft":"published",set:{...U,title:O,path:_}}).then(H=>{l(s.entry({id:H._id}))}).finally(()=>{y(!1)})}return(0,Ca.jsxs)("form",{onSubmit:R,className:hE.form({loading:g}),children:[g&&(0,Ca.jsx)(gn,{absolute:!0}),(0,Ca.jsx)(Qn,{border:!1,form:x}),(0,Ca.jsxs)("div",{className:hE.root.footer(),children:[(0,Ca.jsx)(OV,{href:a,className:hE.root.footer.link(),children:"Cancel"}),(0,Ca.jsx)(nn,{children:"Create"})]})]})}function FV({parentId:e}){let t=fr(),{pathname:n}=Ka();function r(){t(n)}return(0,Ca.jsx)(ga,{open:!0,onClose:r,className:hE.root(),children:(0,Ca.jsx)(Qo.Suspense,{fallback:(0,Ca.jsx)(gn,{}),children:(0,Ca.jsx)(tfe,{parentId:e})})})}var Rr=D(L(),1),nfe={"root-sidebar":"alinea-ContentView-sidebar",rootSidebar:"alinea-ContentView-sidebar","root-create":"alinea-ContentView-create",rootCreate:"alinea-ContentView-create","root-create-button":"alinea-ContentView-create-button",rootCreateButton:"alinea-ContentView-create-button"},IV=j(nfe);function NV({editor:e}){let{views:t}=ur(),n=hr(),r=li(),i=Hn(),{search:o}=Ka(),a=(e?.view?zs(t,e.view):jk)??jk,s=(r?.view?zs(t,r.view):Yk)??Yk,l=Vt(),u=fr(),{schema:c}=sn(),d=e&&c[e.activeVersion.type];return(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsxs)(Yo.Tree,{children:[(0,Rr.jsx)(aV,{}),(0,Rr.jsx)(EH,{selectedId:e?.activeVersion.id,expanded:e?.activeVersion.parents}),(0,Rr.jsx)("div",{className:IV.root.create(),children:(0,Rr.jsx)("button",{type:"button",className:IV.root.create.button(),onClick:()=>u(l.create({id:e?.activeVersion.id,workspace:n.name,root:r.name})),children:(0,Rr.jsxs)(K,{center:!0,gap:8,align:"center",children:[(0,Rr.jsx)(te,{icon:qg,size:17}),(0,Rr.jsx)("span",{children:"Create new"})]})})})]}),o==="?new"&&(0,Rr.jsx)(FV,{parentId:e?.entryId}),(0,Rr.jsx)(Qa,{name:"content view",fallback:(0,Rr.jsx)(gn,{absolute:!0}),children:d&&e?(0,Rr.jsx)(a,{type:d,editor:e}):(0,Rr.jsx)(s,{root:r})})]})}var zV=D(L(),1),rfe=ii(()=>J(async e=>{let t=e(jw),n=e(Qd);return{editor:await e(Y7({locale:n,id:t?.id}))}})),ife=new $T({path:"*",loader:rfe,component:NV}),ofe=ii(()=>J(async e=>{let t=e(Lo),n=new URLSearchParams(t.search),r=n.get("url"),i=n.get("workspace")??void 0,o=n.get("root")??void 0,s=await(await e(wt)).first({select:{id:W.id,locale:W.locale,root:W.root,workspace:W.workspace},url:r,workspace:i,root:o,status:"preferDraft"});return s?{...s,locale:s.locale||void 0}:null})),afe=new $T({path:"/edit",loader:ofe,component:sfe});function sfe(e){let t=Vt(),n=fr();return(0,LV.useLayoutEffect)(()=>{e&&n(t.entry(e))},[e]),(0,zV.jsx)(gn,{absolute:!0})}var lfe=[afe,ife],PV=new v7({routes:lfe});b();b();var Cn=D($(),1),pD=(0,Cn.createContext)(null);pD.displayName="GroupContext";var ufe=Cn.Fragment;function cfe(e){var t;let[n,r]=(0,Cn.useState)(null),[i,o]=mf(),[a,s]=ax(),l=(0,Cn.useMemo)(()=>({switch:n,setSwitch:r}),[n,r]),u={},c=e,d=ot();return Cn.default.createElement(s,{name:"Switch.Description",value:a},Cn.default.createElement(o,{name:"Switch.Label",value:i,props:{htmlFor:(t=l.switch)==null?void 0:t.id,onClick(f){n&&(f.currentTarget instanceof HTMLLabelElement&&f.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},Cn.default.createElement(pD.Provider,{value:l},d({ourProps:u,theirProps:c,slot:{},defaultTag:ufe,name:"Switch.Group"}))))}var dfe="button";function ffe(e,t){var n;let r=(0,Rn.useId)(),i=dv(),o=Up(),{id:a=i||`headlessui-switch-${r}`,disabled:s=o||!1,checked:l,defaultChecked:u,onChange:c,name:d,value:f,form:h,autoFocus:p=!1,...m}=e,v=(0,Cn.useContext)(pD),[g,y]=(0,Cn.useState)(null),w=(0,Cn.useRef)(null),x=Et(w,t,v===null?null:v.setSwitch,y),S=vx(u),[E,k]=gx(l,c,S??!1),A=Vo(),[T,R]=(0,Cn.useState)(!1),M=se(()=>{R(!0),k?.(!E),A.nextFrame(()=>{R(!1)})}),O=se(ae=>{if(iu(ae.currentTarget))return ae.preventDefault();ae.preventDefault(),M()}),B=se(ae=>{ae.key===Te.Space?(ae.preventDefault(),M()):ae.key===Te.Enter&&yx(ae.currentTarget)}),_=se(ae=>ae.preventDefault()),z=fv(),V=ox(),{isFocusVisible:P,focusProps:F}=Xa({autoFocus:p}),{isHovered:U,hoverProps:I}=Hs({isDisabled:s}),{pressed:Q,pressProps:N}=Vs({disabled:s}),H=(0,Cn.useMemo)(()=>({checked:E,disabled:s,hover:U,focus:P,active:Q,autofocus:p,changing:T}),[E,U,P,Q,s,T,p]),G=Oi({id:a,ref:x,role:"switch",type:Us(e,g),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":E,"aria-labelledby":z,"aria-describedby":V,disabled:s||void 0,autoFocus:p,onClick:O,onKeyUp:B,onKeyPress:_},F,I,N),Y=(0,Cn.useCallback)(()=>{if(S!==void 0)return k?.(S)},[k,S]),ne=ot();return Cn.default.createElement(Cn.default.Fragment,null,d!=null&&Cn.default.createElement(bx,{disabled:s,data:{[d]:f||"on"},overrides:{type:"checkbox",checked:E},form:h,onReset:Y}),ne({ourProps:G,theirProps:m,slot:H,defaultTag:dfe,name:"Switch"}))}var hfe=at(ffe),pfe=cfe,mfe=ux,gfe=qz,pE=Object.assign(hfe,{Group:pfe,Label:mfe,Description:gfe});var vt={};XR(vt,{check:()=>cm,code:()=>HV,create:()=>vfe,date:()=>VV,entry:()=>Tf,file:()=>dE,image:()=>um,json:()=>UV,link:()=>fm,list:()=>jV,metadata:()=>gE,number:()=>$V,object:()=>mE,path:()=>vE,richText:()=>qV,select:()=>du,tab:()=>Kg,tabs:()=>Xw,text:()=>cr,time:()=>KV,url:()=>fE,view:()=>YV});b();b();function vfe({label:e,options:t,view:n}){return new zn({options:{label:e,...t},view:n})}b();var yfe=class extends zn{};function HV(e,t={}){return new yfe({options:{label:e,...t},view:Je.CodeInput})}b();var bfe=class extends zn{};function VV(e,t={}){return new bfe({options:{label:e,...t},view:Je.DateInput})}b();var wfe=class extends zn{};function UV(e,t={}){return new wfe({options:{label:e,...t},view:Je.JsonInput})}b();function jV(e,t){return new aE(t.schema,kn.shapes(t.schema),{options:{label:e,...t,get initialValue(){let n=t.initialValue;if(!Array.isArray(n))return[];let r=Jp(null,null,n.length);return n.map((i,o)=>({[ge.id]:Qt(),[ge.index]:r[o],...i}))}},view:Je.ListInput})}b();b();var xfe=class extends sE{};function mE(e,t){let n=Tn("Object fields",{fields:t.fields});return Object.assign(new xfe(n,{options:{label:e,...t,fields:n},view:Je.ObjectInput}),n)}var Efe=class extends sE{};function gE(e="Metadata",t={}){let n=Tn("Fields",{fields:{title:cr("Title",{width:.5}),description:cr("Description",{multiline:!0}),openGraph:mE("Open Graph",{fields:{image:um("Image",{help:"Recommended size: 1200x630 pixels"}),title:cr("Title"),description:cr("Description",{multiline:!0})}})}});return new Efe(n,{options:{label:e,...t,fields:n},view:Je.MetadataInput})}b();var Sfe=class extends zn{};function $V(e,t={}){return new Sfe({options:{label:e,...t},view:Je.NumberInput})}b();var Cfe=class extends zn{};function vE(e,t={}){if(t.shared)throw new Error("The shared option is not supported on Path fields");return new Cfe({options:{label:e,...t},view:Je.PathInput})}b();function qV(e,t={}){return new gV(t.schema,{options:{label:e,...t},view:Je.RichTextInput})}b();var Afe=class extends zn{};function KV(e,t={}){return new Afe({options:{label:e,...t},view:Je.TimeInput})}b();var Tfe=class{view;definition={};fields={};sections=[];constructor(e){this.view=e}};function YV(e){return Gh(new Tfe(typeof e=="string"?e:()=>e))}b();var mD=D(L(),1);function gD(e){return(0,mD.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,mD.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"})})}b();var vD=D(L(),1);function Aa(e){return(0,vD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,vD.jsx)("path",{fill:"currentColor",d:"M2.5 5.5C2.5 6.33 3.17 7 4 7h3.5v10.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V7H14c.83 0 1.5-.67 1.5-1.5S14.83 4 14 4H4c-.83 0-1.5.67-1.5 1.5zM20 9h-6c-.83 0-1.5.67-1.5 1.5S13.17 12 14 12h1.5v5.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V12H20c.83 0 1.5-.67 1.5-1.5S20.83 9 20 9z"})})}b();var yD=D(L(),1);function yE(e){return(0,yD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,yD.jsx)("path",{fill:"currentColor",d:"M20 15.31L23.31 12L20 8.69V4h-4.69L12 .69L8.69 4H4v4.69L.69 12L4 15.31V20h4.69L12 23.31L15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"})})}b();var bE=D($(),1),WV=D($(),1),pu=D($(),1),XV=D($(),1),Ce=D($(),1),fu=D(L(),1),kfe=(0,bE.createContext)(()=>{});function Dfe({value:e,children:t}){return bE.default.createElement(kfe.Provider,{value:e},t)}function Mfe(e,t,n,r){let i=$r(n);(0,WV.useEffect)(()=>{e=e??window;function o(a){i.current(a)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function Rfe({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=rs(n),i=se(()=>{var o,a;let s=[];for(let l of e)l!==null&&(l instanceof HTMLElement?s.push(l):"current"in l&&l.current instanceof HTMLElement&&s.push(l.current));if(t!=null&&t.current)for(let l of t.current)s.push(l);for(let l of(o=r?.querySelectorAll("html > *, body > *"))!=null?o:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((a=n?.getRootNode())==null?void 0:a.host))||s.some(u=>l.contains(u))||s.push(l));return s});return{resolveContainers:i,contains:se(o=>i().some(a=>a.contains(o)))}}var GV=(0,pu.createContext)(null);function QV({children:e,node:t}){let[n,r]=(0,pu.useState)(null),i=JV(t??n);return pu.default.createElement(GV.Provider,{value:i},e,i===null&&pu.default.createElement(ts,{features:es.Hidden,ref:o=>{var a,s;if(o){for(let l of(s=(a=jr(o))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(o)){r(l);break}}}}))}function JV(e=null){var t;return(t=(0,pu.useContext)(GV))!=null?t:e}var hu=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(hu||{});function ZV(){let e=(0,XV.useRef)(0);return Q4(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}var Ofe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ofe||{}),Bfe=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(Bfe||{}),_fe={0:e=>({...e,popoverState:jt(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},wD=(0,Ce.createContext)(null);wD.displayName="PopoverContext";function wE(e){let t=(0,Ce.useContext)(wD);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,wE),n}return t}var xE=(0,Ce.createContext)(null);xE.displayName="PopoverAPIContext";function xD(e){let t=(0,Ce.useContext)(xE);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xD),n}return t}var ED=(0,Ce.createContext)(null);ED.displayName="PopoverGroupContext";function eU(){return(0,Ce.useContext)(ED)}var EE=(0,Ce.createContext)(null);EE.displayName="PopoverPanelContext";function Ffe(){return(0,Ce.useContext)(EE)}function Ife(e,t){return jt(t.type,_fe,e,t)}var Nfe="div";function Lfe(e,t){var n;let{__demoMode:r=!1,...i}=e,o=(0,Ce.useRef)(null),a=Et(t,m2(U=>{o.current=U})),s=(0,Ce.useRef)([]),l=(0,Ce.useReducer)(Ife,{__demoMode:r,popoverState:r?0:1,buttons:s,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,Ce.createRef)(),afterPanelSentinel:(0,Ce.createRef)(),afterButtonSentinel:(0,Ce.createRef)()}),[{popoverState:u,button:c,buttonId:d,panel:f,panelId:h,beforePanelSentinel:p,afterPanelSentinel:m,afterButtonSentinel:v},g]=l,y=rs((n=o.current)!=null?n:c),w=(0,Ce.useMemo)(()=>{if(!c||!f)return!1;for(let Y of document.querySelectorAll("body > *"))if(Number(Y?.contains(c))^Number(Y?.contains(f)))return!0;let U=xp(),I=U.indexOf(c),Q=(I+U.length-1)%U.length,N=(I+1)%U.length,H=U[Q],G=U[N];return!f.contains(H)&&!f.contains(G)},[c,f]),x=$r(d),S=$r(h),E=(0,Ce.useMemo)(()=>({buttonId:x,panelId:S,close:()=>g({type:1})}),[x,S,g]),k=eU(),A=k?.registerPopover,T=se(()=>{var U;return(U=k?.isFocusWithinPopoverGroup())!=null?U:y?.activeElement&&(c?.contains(y.activeElement)||f?.contains(y.activeElement))});(0,Ce.useEffect)(()=>A?.(E),[A,E]);let[R,M]=Nz(),O=JV(c),B=Rfe({mainTreeNode:O,portals:R,defaultContainers:[c,f]});Mfe(y?.defaultView,"focus",U=>{var I,Q,N,H,G,Y;U.target!==window&&U.target instanceof HTMLElement&&u===0&&(T()||c&&f&&(B.contains(U.target)||(Q=(I=p.current)==null?void 0:I.contains)!=null&&Q.call(I,U.target)||(H=(N=m.current)==null?void 0:N.contains)!=null&&H.call(N,U.target)||(Y=(G=v.current)==null?void 0:G.contains)!=null&&Y.call(G,U.target)||g({type:1})))},!0),Rp(u===0,B.resolveContainers,(U,I)=>{g({type:1}),eu(I,Zl.Loose)||(U.preventDefault(),c?.focus())});let _=se(U=>{g({type:1});let I=U?U instanceof HTMLElement?U:"current"in U&&U.current instanceof HTMLElement?U.current:c:c;I?.focus()}),z=(0,Ce.useMemo)(()=>({close:_,isPortalled:w}),[_,w]),V=(0,Ce.useMemo)(()=>({open:u===0,close:_}),[u,_]),P={ref:a},F=ot();return Ce.default.createElement(QV,{node:O},Ce.default.createElement(Pp,null,Ce.default.createElement(EE.Provider,{value:null},Ce.default.createElement(wD.Provider,{value:l},Ce.default.createElement(xE.Provider,{value:z},Ce.default.createElement(Dfe,{value:_},Ce.default.createElement(Hp,{value:jt(u,{0:Tr.Open,1:Tr.Closed})},Ce.default.createElement(M,null,F({ourProps:P,theirProps:i,slot:V,defaultTag:Nfe,name:"Popover"})))))))))}var zfe="button";function Pfe(e,t){let n=(0,Rn.useId)(),{id:r=`headlessui-popover-button-${n}`,disabled:i=!1,autoFocus:o=!1,...a}=e,[s,l]=wE("Popover.Button"),{isPortalled:u}=xD("Popover.Button"),c=(0,Ce.useRef)(null),d=`headlessui-focus-sentinel-${(0,Rn.useId)()}`,f=eU(),h=f?.closeOthers,p=Ffe()!==null;(0,Ce.useEffect)(()=>{if(!p)return l({type:3,buttonId:r}),()=>{l({type:3,buttonId:null})}},[p,r,l]);let[m]=(0,Ce.useState)(()=>Symbol()),v=Et(c,t,Np(),se(I=>{if(!p){if(I)s.buttons.current.push(m);else{let Q=s.buttons.current.indexOf(m);Q!==-1&&s.buttons.current.splice(Q,1)}s.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),I&&l({type:2,button:I})}})),g=Et(c,t),y=rs(c),w=se(I=>{var Q,N,H;if(p){if(s.popoverState===1)return;switch(I.key){case Te.Space:case Te.Enter:I.preventDefault(),(N=(Q=I.target).click)==null||N.call(Q),l({type:1}),(H=s.button)==null||H.focus();break}}else switch(I.key){case Te.Space:case Te.Enter:I.preventDefault(),I.stopPropagation(),s.popoverState===1&&h?.(s.buttonId),l({type:0});break;case Te.Escape:if(s.popoverState!==0)return h?.(s.buttonId);if(!c.current||y!=null&&y.activeElement&&!c.current.contains(y.activeElement))return;I.preventDefault(),I.stopPropagation(),l({type:1});break}}),x=se(I=>{p||I.key===Te.Space&&I.preventDefault()}),S=se(I=>{var Q,N;iu(I.currentTarget)||i||(p?(l({type:1}),(Q=s.button)==null||Q.focus()):(I.preventDefault(),I.stopPropagation(),s.popoverState===1&&h?.(s.buttonId),l({type:0}),(N=s.button)==null||N.focus()))}),E=se(I=>{I.preventDefault(),I.stopPropagation()}),{isFocusVisible:k,focusProps:A}=Xa({autoFocus:o}),{isHovered:T,hoverProps:R}=Hs({isDisabled:i}),{pressed:M,pressProps:O}=Vs({disabled:i}),B=s.popoverState===0,_=(0,Ce.useMemo)(()=>({open:B,active:M||B,disabled:i,hover:T,focus:k,autofocus:o}),[B,T,k,M,i,o]),z=Us(e,s.button),V=p?Oi({ref:g,type:z,onKeyDown:w,onClick:S,disabled:i||void 0,autoFocus:o},A,R,O):Oi({ref:v,id:s.buttonId,type:z,"aria-expanded":s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,disabled:i||void 0,autoFocus:o,onKeyDown:w,onKeyUp:x,onClick:S,onMouseDown:E},A,R,O),P=ZV(),F=se(()=>{let I=s.panel;if(!I)return;function Q(){jt(P.current,{[hu.Forwards]:()=>ci(I,Jt.First),[hu.Backwards]:()=>ci(I,Jt.Last)})===js.Error&&ci(xp().filter(N=>N.dataset.headlessuiFocusGuard!=="true"),jt(P.current,{[hu.Forwards]:Jt.Next,[hu.Backwards]:Jt.Previous}),{relativeTo:s.button})}Q()}),U=ot();return Ce.default.createElement(Ce.default.Fragment,null,U({ourProps:V,theirProps:a,slot:_,defaultTag:zfe,name:"Popover.Button"}),B&&!p&&u&&Ce.default.createElement(ts,{id:d,ref:s.afterButtonSentinel,features:es.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:F}))}var Hfe="div",Vfe=Ri.RenderStrategy|Ri.Static;function tU(e,t){let n=(0,Rn.useId)(),{id:r=`headlessui-popover-backdrop-${n}`,transition:i=!1,...o}=e,[{popoverState:a},s]=wE("Popover.Backdrop"),[l,u]=(0,Ce.useState)(null),c=Et(t,u),d=pf(),[f,h]=ff(i,l,d!==null?(d&Tr.Open)===Tr.Open:a===0),p=se(g=>{if(iu(g.currentTarget))return g.preventDefault();s({type:1})}),m=(0,Ce.useMemo)(()=>({open:a===0}),[a]),v={ref:c,id:r,"aria-hidden":!0,onClick:p,...df(h)};return ot()({ourProps:v,theirProps:o,slot:m,defaultTag:Hfe,features:Vfe,visible:f,name:"Popover.Backdrop"})}var Ufe="div",jfe=Ri.RenderStrategy|Ri.Static;function $fe(e,t){let n=(0,Rn.useId)(),{id:r=`headlessui-popover-panel-${n}`,focus:i=!1,anchor:o,portal:a=!1,modal:s=!1,transition:l=!1,...u}=e,[c,d]=wE("Popover.Panel"),{close:f,isPortalled:h}=xD("Popover.Panel"),p=`headlessui-focus-sentinel-before-${n}`,m=`headlessui-focus-sentinel-after-${n}`,v=(0,Ce.useRef)(null),g=Ip(o),[y,w]=zp(g),x=Lp();g&&(a=!0);let[S,E]=(0,Ce.useState)(null),k=Et(v,t,g?y:null,se(I=>d({type:4,panel:I})),E),A=rs(v);ht(()=>(d({type:5,panelId:r}),()=>{d({type:5,panelId:null})}),[r,d]);let T=pf(),[R,M]=ff(l,S,T!==null?(T&Tr.Open)===Tr.Open:c.popoverState===0);Mp(R,c.button,()=>{d({type:1})});let O=c.__demoMode?!1:s&&R;Op(O,A);let B=se(I=>{var Q;switch(I.key){case Te.Escape:if(c.popoverState!==0||!v.current||A!=null&&A.activeElement&&!v.current.contains(A.activeElement))return;I.preventDefault(),I.stopPropagation(),d({type:1}),(Q=c.button)==null||Q.focus();break}});(0,Ce.useEffect)(()=>{var I;e.static||c.popoverState===1&&((I=e.unmount)==null||I)&&d({type:4,panel:null})},[c.popoverState,e.unmount,e.static,d]),(0,Ce.useEffect)(()=>{if(c.__demoMode||!i||c.popoverState!==0||!v.current)return;let I=A?.activeElement;v.current.contains(I)||ci(v.current,Jt.First)},[c.__demoMode,i,v.current,c.popoverState]);let _=(0,Ce.useMemo)(()=>({open:c.popoverState===0,close:f}),[c.popoverState,f]),z=Oi(g?x():{},{ref:k,id:r,onKeyDown:B,onBlur:i&&c.popoverState===0?I=>{var Q,N,H,G,Y;let ne=I.relatedTarget;ne&&v.current&&((Q=v.current)!=null&&Q.contains(ne)||(d({type:1}),((H=(N=c.beforePanelSentinel.current)==null?void 0:N.contains)!=null&&H.call(N,ne)||(Y=(G=c.afterPanelSentinel.current)==null?void 0:G.contains)!=null&&Y.call(G,ne))&&ne.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...u.style,...w,"--button-width":Dp(c.button,!0).width},...df(M)}),V=ZV(),P=se(()=>{let I=v.current;if(!I)return;function Q(){jt(V.current,{[hu.Forwards]:()=>{var N;ci(I,Jt.First)===js.Error&&((N=c.afterPanelSentinel.current)==null||N.focus())},[hu.Backwards]:()=>{var N;(N=c.button)==null||N.focus({preventScroll:!0})}})}Q()}),F=se(()=>{let I=v.current;if(!I)return;function Q(){jt(V.current,{[hu.Forwards]:()=>{if(!c.button)return;let N=xp(),H=N.indexOf(c.button),G=N.slice(0,H+1),Y=[...N.slice(H+1),...G];for(let ne of Y.slice())if(ne.dataset.headlessuiFocusGuard==="true"||S!=null&&S.contains(ne)){let ae=Y.indexOf(ne);ae!==-1&&Y.splice(ae,1)}ci(Y,Jt.First,{sorted:!1})},[hu.Backwards]:()=>{var N;ci(I,Jt.Previous)===js.Error&&((N=c.button)==null||N.focus())}})}Q()}),U=ot();return Ce.default.createElement(Bz,null,Ce.default.createElement(EE.Provider,{value:r},Ce.default.createElement(xE.Provider,{value:{close:f,isPortalled:h}},Ce.default.createElement(Vp,{enabled:a?e.static||R:!1},R&&h&&Ce.default.createElement(ts,{id:p,ref:c.beforePanelSentinel,features:es.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:P}),U({ourProps:z,theirProps:u,slot:_,defaultTag:Ufe,features:jfe,visible:R,name:"Popover.Panel"}),R&&h&&Ce.default.createElement(ts,{id:m,ref:c.afterPanelSentinel,features:es.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:F})))))}var qfe="div";function Kfe(e,t){let n=(0,Ce.useRef)(null),r=Et(n,t),[i,o]=(0,Ce.useState)([]),a=se(m=>{o(v=>{let g=v.indexOf(m);if(g!==-1){let y=v.slice();return y.splice(g,1),y}return v})}),s=se(m=>(o(v=>[...v,m]),()=>a(m))),l=se(()=>{var m;let v=jr(n);if(!v)return!1;let g=v.activeElement;return(m=n.current)!=null&&m.contains(g)?!0:i.some(y=>{var w,x;return((w=v.getElementById(y.buttonId.current))==null?void 0:w.contains(g))||((x=v.getElementById(y.panelId.current))==null?void 0:x.contains(g))})}),u=se(m=>{for(let v of i)v.buttonId.current!==m&&v.close()}),c=(0,Ce.useMemo)(()=>({registerPopover:s,unregisterPopover:a,isFocusWithinPopoverGroup:l,closeOthers:u}),[s,a,l,u]),d=(0,Ce.useMemo)(()=>({}),[]),f=e,h={ref:r},p=ot();return Ce.default.createElement(QV,null,Ce.default.createElement(ED.Provider,{value:c},p({ourProps:h,theirProps:f,slot:d,defaultTag:qfe,name:"Popover.Group"})))}var Yfe=at(Lfe),Wfe=at(Pfe),Gfe=at(tU),Qfe=at(tU),Jfe=at($fe),Xfe=at(Kfe),bD=Object.assign(Yfe,{Button:Wfe,Backdrop:Qfe,Overlay:Gfe,Panel:Jfe,Group:Xfe}),Zfe={root:"alinea-PopoverMenu",trigger:"alinea-PopoverMenu-trigger",items:"alinea-PopoverMenu-items","is-left":"alinea-PopoverMenu-is-left",isLeft:"alinea-PopoverMenu-is-left","is-right":"alinea-PopoverMenu-is-right",isRight:"alinea-PopoverMenu-is-right",header:"alinea-PopoverMenu-header",footer:"alinea-PopoverMenu-footer"},zv=j(Zfe),us;(e=>{function t(a){return(0,fu.jsx)(bD,{children:(0,fu.jsx)("div",{...a,className:zv.root.mergeProps(a)()})})}e.Root=t;function n(a){return(0,fu.jsx)(bD.Button,{...a,className:zv.trigger()})}e.Trigger=n;function r({left:a,right:s,...l}){return(0,fu.jsx)(bD.Panel,{...l,className:zv.items.mergeProps(l)({left:a,right:s})})}e.Items=r;function i({children:a}){return(0,fu.jsx)("div",{className:zv.header(),children:(0,fu.jsx)("header",{children:a})})}e.Header=i;function o({children:a}){return(0,fu.jsx)("div",{className:zv.footer(),children:(0,fu.jsx)("footer",{children:a})})}e.Footer=o})(us||(us={}));var nU=D($(),1);b();var SE=()=>oe(cg);var vn=D(L(),1),ehe={"root-switch":"alinea-SidebarSettings-switch",rootSwitch:"alinea-SidebarSettings-switch","is-checked":"alinea-SidebarSettings-is-checked",isChecked:"alinea-SidebarSettings-is-checked","root-switch-slider":"alinea-SidebarSettings-switch-slider",rootSwitchSlider:"alinea-SidebarSettings-switch-slider","root-username":"alinea-SidebarSettings-username",rootUsername:"alinea-SidebarSettings-username"},SD=j(ehe);function rU(){let e=SE(),{config:t}=oe(da),n=oe(Cr),r=n.size||16,i=n?.scheme==="dark",o=Object.entries(t.workspaces),a=(0,nU.useMemo)(()=>du("Default workspace",{options:Rt(le(t.workspaces).map(([d,f])=>[d,Gt.label(f)||d]))}),[t.workspaces]),s=it(zg),l=it(Pg),u=it(Gd);function c(d){document.body.setAttribute("data-disable-transition","true"),d(),setTimeout(()=>document.body.removeAttribute("data-disable-transition"))}return(0,vn.jsxs)(de.Root,{top:!0,style:{margin:"auto",marginBottom:0},children:[(0,vn.jsx)(de.Trigger,{style:{width:"100%"},children:(0,vn.jsx)(Yo.Nav.Item,{"aria-label":"Settings",children:(0,vn.jsx)(te,{icon:gD})})}),(0,vn.jsx)(de.Items,{style:{maxWidth:Me(200)},children:(0,vn.jsxs)(ut,{gap:10,children:[e.user.name&&(0,vn.jsx)(us.Header,{children:(0,vn.jsxs)(K,{center:!0,gap:10,className:SD.root.username(),children:[(0,vn.jsx)(te,{icon:gD,size:26}),(0,vn.jsx)(lo,{children:e.user.name})]})}),(0,vn.jsx)(ut,{gap:8,children:(0,vn.jsxs)(K,{justify:"space-between",style:{padding:Me(6)},children:[(0,vn.jsxs)(K,{center:!0,gap:16,children:[(0,vn.jsx)(te,{icon:yE,size:20,title:"Switch theme"}),(0,vn.jsx)(pE,{checked:i,onChange:()=>{c(s)},className:SD.root.switch({checked:i}),children:(0,vn.jsx)("span",{className:SD.root.switch.slider({checked:i})})})]}),(0,vn.jsxs)(K,{center:!0,gap:4,children:[(0,vn.jsx)(te,{icon:Aa,size:20,style:{marginRight:Me(12)},title:"Font size"}),(0,vn.jsx)(Le,{icon:is,onClick:()=>c(()=>l(r-1)),disabled:r<=16,title:"Decrease font size"}),(0,vn.jsx)(Le,{icon:lu,onClick:()=>c(()=>l(r+1)),disabled:r>=40,title:"Increase font size"})]})]})}),e.cnx.logout&&(0,vn.jsx)(us.Footer,{children:(0,vn.jsx)(de.Root,{children:(0,vn.jsx)(de.Item,{onClick:e.cnx.logout,children:"Logout"})})})]})})]})}b();b();var CD=D(L(),1);function iU({user:e}){let t=e.sub.charAt(0).toUpperCase(),n=Iw(e.sub),r=cp(n);return(0,CD.jsx)("div",{style:{borderRadius:"100%",background:n,color:r,width:Me(24),height:Me(24),display:"flex",justifyContent:"center",alignItems:"center",fontSize:Me(13),fontWeight:"bold"},children:(0,CD.jsx)("span",{children:t})})}b();var AD=D(L(),1);function oU(e){return(0,AD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,AD.jsx)("path",{fill:"currentColor",d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 21H7v-1h10v1zm0-3H7V6h10v12zm0-14H7V3h10v1zM9.5 8.5H12V7H8v4h1.5V8.5zM12 17h4v-4h-1.5v2.5H12V17z"})})}b();var aU=J(e=>{let{color:t}=e(ma);return t});var Ie=D(L(),1),the={root:"alinea-Toolbar","root-menu":"alinea-Toolbar-menu",rootMenu:"alinea-Toolbar-menu","root-portal":"alinea-Toolbar-portal",rootPortal:"alinea-Toolbar-portal","root-portal-slot":"alinea-Toolbar-portal-slot",rootPortalSlot:"alinea-Toolbar-portal-slot","root-switch":"alinea-Toolbar-switch",rootSwitch:"alinea-Toolbar-switch","is-checked":"alinea-Toolbar-is-checked",isChecked:"alinea-Toolbar-is-checked","root-switch-slider":"alinea-Toolbar-switch-slider",rootSwitchSlider:"alinea-Toolbar-switch-slider","root-workspace":"alinea-Toolbar-workspace",rootWorkspace:"alinea-Toolbar-workspace"},kf=j(the);function TD({label:e,color:t,icon:n}){let r=n?(0,Ie.jsx)(n,{}):(0,Ie.jsx)(Zp,{});return(0,Ie.jsxs)(K,{center:!0,gap:12,children:[(0,Ie.jsx)(Pd,{foreground:up(t),background:t,children:(0,Ie.jsx)(px,{})}),(0,Ie.jsx)("div",{style:{fontSize:"13px",fontWeight:600},children:(0,Ie.jsx)(Ze,{label:e})})]})}var CE;(e=>{({Provider:e.Provider,Portal:e.Portal,Slot:e.Slot}=wc());function t(){let n=oe(aU),r=SE(),{config:i}=oe(da),o=oe($w),a=oe(Cr),s=a.size||16,l=a?.scheme==="dark",u=oe(ma),c=fr(),{isNavOpen:d,isPreviewOpen:f,toggleNav:h,togglePreview:p}=Gp(),m=Object.entries(i.workspaces),[v,g,y]=e7(n),w={"--alinea-hue":v,"--alinea-saturation":`${g*100}%`,"--alinea-lightness":`${y*100}%`},x=du("Default workspace",{options:Rt(le(i.workspaces).map(([A,T])=>[A,Gt.label(T)||A]))}),S=it(zg),E=it(Pg),k=it(Gd);return(0,Ie.jsxs)(K,{center:!0,gap:12,className:kf.root(),style:w,children:[(0,Ie.jsx)("div",{className:kf.root.menu(),onClick:h,children:(0,Ie.jsx)(Le,{icon:Mx,active:d})}),m.length>1?(0,Ie.jsxs)(de.Root,{bottom:!0,children:[(0,Ie.jsx)(de.Trigger,{children:(0,Ie.jsxs)(K,{center:!0,gap:4,children:[(0,Ie.jsx)(TD,{label:u.label,color:u.color,icon:u.icon}),(0,Ie.jsx)(te,{icon:Ar})]})}),(0,Ie.jsx)(de.Items,{children:m.map(([A,T])=>{let{roots:R,label:M,color:O,icon:B}=Gt.data(T),[_,z]=le(R)[0];return(0,Ie.jsx)(de.Item,{onClick:()=>c(o.entry({workspace:A,root:_,locale:Dn.defaultLocale(z)})),children:(0,Ie.jsx)(TD,{label:M,color:O,icon:B})},A)})})]}):(0,Ie.jsx)("a",{...zo(o.root({workspace:u.name})),className:kf.root.workspace(),children:(0,Ie.jsx)(TD,{label:u.label,color:u.color,icon:u.icon})}),(0,Ie.jsx)("div",{className:kf.root.portal(),children:(0,Ie.jsx)(e.Portal,{className:kf.root.portal.slot()})}),(0,Ie.jsx)("div",{children:(0,Ie.jsxs)(K,{center:!0,gap:10,children:[(0,Ie.jsxs)(us.Root,{children:[(0,Ie.jsx)(us.Trigger,{children:(0,Ie.jsxs)(K,{center:!0,gap:4,children:[(0,Ie.jsx)(iU,{user:r.user}),(0,Ie.jsx)(is,{})]})}),(0,Ie.jsx)(us.Items,{right:!0,children:(0,Ie.jsxs)(ut,{gap:25,children:[Mn.hasAuth(i)&&(0,Ie.jsx)(us.Header,{children:(0,Ie.jsx)("p",{children:r.user.sub.charAt(0).toUpperCase()+r.user.sub.slice(1)})}),(0,Ie.jsx)(ut,{gap:15,children:(0,Ie.jsxs)(K,{justify:"space-between",style:{padding:Me(6)},children:[(0,Ie.jsxs)(K,{center:!0,gap:16,children:[(0,Ie.jsx)(te,{icon:yE,size:20}),(0,Ie.jsx)(pE,{checked:l,onChange:S,className:kf.root.switch({checked:l}),children:(0,Ie.jsx)("span",{className:kf.root.switch.slider({checked:l})})})]}),(0,Ie.jsxs)(K,{center:!0,gap:4,children:[(0,Ie.jsx)(te,{icon:Aa,size:20,style:{marginRight:Me(12)}}),(0,Ie.jsx)(Le,{icon:is,onClick:()=>E(s-1),disabled:s<=16}),(0,Ie.jsx)(Le,{icon:lu,onClick:()=>E(s+1),disabled:s>=40})]})]})}),Mn.hasAuth(i)&&r.cnx.logout&&(0,Ie.jsx)(us.Footer,{children:(0,Ie.jsx)(de.Root,{children:(0,Ie.jsx)(de.Item,{onClick:r.cnx.logout,children:"Logout"})})})]})})]}),(0,Ie.jsx)(Le,{icon:oU,onClick:p,active:f})]})})]})}e.Root=t})(CE||(CE={}));b();var Pv=D($(),1);b();var sU=()=>oe(Cr);var cU=D(L(),1),nhe={root:"alinea-Viewport","is-light":"alinea-Viewport-is-light",isLight:"alinea-Viewport-is-light","is-dark":"alinea-Viewport-is-dark",isDark:"alinea-Viewport-is-dark",main:"alinea-Viewport-main","is-contain":"alinea-Viewport-is-contain",isContain:"alinea-Viewport-is-contain"},lU=j(nhe),uU=typeof window<"u"?Pv.useLayoutEffect:Pv.useEffect;function dU({children:e,color:t="#6673FC",contain:n,attachToBody:r,...i}){let o=t,a=cp(o),{scheme:s,size:l}=sU();(0,Pv.useEffect)(()=>{l&&(document.documentElement.style.fontSize=`${l}px`)},[l]);let u={"--alinea-accent":o,"--alinea-accent-foreground":a},c=lU.root(s),d=Object.entries(u).map(([h,p])=>`${h}: ${p}`).join("; ");return uU(()=>{r&&(document.body.className=c,document.body.style.cssText=d)},[r,d,c]),uU(()=>{let h=document.createElement("meta");return h.setAttribute("content",o),h.setAttribute("name","theme-color"),document.head.appendChild(h),()=>{document.head.removeChild(h)}},[o]),(0,cU.jsx)("main",{...r?{}:{className:c,style:u},className:lU.main.mergeProps(i)({contain:n}),children:e})}var tt=D(L(),1),rhe=J(e=>{let t=e(Lo);return!!e(Gl({route:xc.matchEntry}))||t.pathname==="/"});function ihe(){d7();let{alineaDev:e,fullPage:t}=ur(),n=Vt(),r=oe(rhe),{name:i,color:o,roots:a}=hr(),{name:s}=li(),l=vp(),u=Hn(),[c,d]=g7(),[f,h]=Bo(Vw),p=oe(hp),m=oe(VT);return(0,fU.useEffect)(()=>{d(u)},[u]),(0,tt.jsxs)(tt.Fragment,{children:[f&&(0,tt.jsx)(ga,{open:!0,onClose:()=>h(null),children:(0,tt.jsx)("div",{style:{padding:Me(16)},children:f})}),(0,tt.jsx)(No.Provider,{children:(0,tt.jsx)(CE.Provider,{children:(0,tt.jsxs)(Yo.Provider,{children:[(0,tt.jsx)(Zi,{children:(0,tt.jsx)(FT,{color:o})}),(0,tt.jsxs)("div",{style:{flex:"1",display:"flex",minHeight:0,position:"relative"},children:[(0,tt.jsxs)(Yo.Nav,{children:[Object.entries(a).map(([v,g],y)=>{let w=v===s,{id:x,...S}=l,E=S.root===v?n.entry(S):n.root({workspace:i,root:v,locale:c}),{label:k,icon:A}=Dn.data(g);return(0,tt.jsx)(Yo.Nav.Item,{selected:r&&w,href:E,"aria-label":k,children:(0,tt.jsx)(te,{icon:A??dp})},v)}),(0,tt.jsx)(rU,{})]}),(0,tt.jsx)(n2,{children:(0,tt.jsx)(Qa,{name:"main",fallback:(0,tt.jsx)(gn,{absolute:!0}),children:(0,tt.jsx)(E7,{fallback:null})})})]}),e&&(0,tt.jsxs)(No.Root,{children:[(0,tt.jsx)(No.Status,{icon:m===0?qa:o7,children:m===0?"Synced":"Saving\u2026"}),p?(0,tt.jsx)(No.Status,{icon:PT,children:p.slice(0,7)}):(0,tt.jsx)(No.Status,{icon:PT,children:"Syncing"})]})]})})})]})}function ohe(){let[e,t]=Bo(cg),{fullPage:n,config:r}=ur(),{color:i}=Mn.mainWorkspace(r),o=r.auth;return e?(0,tt.jsx)(Qa,{name:"router",fallback:(0,tt.jsx)(gn,{absolute:!0}),children:(0,tt.jsx)(b7,{router:PV,children:(0,tt.jsx)(ihe,{})})}):(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(Zi,{children:(0,tt.jsx)(FT,{color:i})}),o&&(0,tt.jsx)(Qa,{name:"auth",fallback:(0,tt.jsx)(gn,{absolute:!0}),children:(0,tt.jsx)(o,{setSession:t})})]})}function hU(e){let t=e.fullPage!==!1,{color:n}=Mn.mainWorkspace(e.config);return(0,tt.jsx)(k7,{...e,children:(0,tt.jsx)(dU,{attachToBody:t,contain:!0,color:n,children:(0,tt.jsx)(ohe,{})})})}b();b();var ahe=class{value;next;constructor(e){this.value=e}},she=class{#e;#t;#n;constructor(){this.clear()}enqueue(e){let t=new ahe(e);this.#e?(this.#t.next=t,this.#t=t):(this.#e=t,this.#t=t),this.#n++}dequeue(){let e=this.#e;if(e)return this.#e=this.#e.next,this.#n--,e.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}};function AE(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let t=new she,n=0,r=()=>{n--,t.size>0&&t.dequeue()()},i=async(s,l,u)=>{n++;let c=(async()=>s(...u))();l(c);try{await c}catch{}r()},o=(s,l,u)=>{t.enqueue(i.bind(void 0,s,l,u)),(async()=>(await Promise.resolve(),n<e&&t.size>0&&t.dequeue()()))()},a=(s,...l)=>new Promise(u=>{o(s,u,l)});return Object.defineProperties(a,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),a}b();var{assign:lhe}=Object;function kD(){let e,t,n=new Promise((...r)=>[e,t]=r);return lhe(n,{resolve:e,reject:t})}b();b();var pU=class{#e;#t=new Map;constructor(e=xo.EMPTY,t=new Map){this.#e=e,this.#t=t}async getTree(){return this.#e}async getTreeIfDifferent(e){return this.#e.sha===e?void 0:this.#e}async*getBlobs(e){for(let t of e){let n=this.#t.get(t);we(n,`Blob not found: ${t}`),yield[t,n]}}async addBlob(e){let t=await Qf(e);return this.#t.set(t,e),t}async applyChanges(e){let{fromSha:t,changes:n}=e;if(this.#e.sha!==t)throw new Ss(t,this.#e.sha);for(let i of n)switch(i.op){case"add":{we(i.contents,"Missing contents"),this.#t.set(i.sha,i.contents);continue}}let r=await this.#e.withChanges(e);for(let i of this.#t.keys())r.hasSha(i)||this.#t.delete(i);this.#e=r}};b();b();async function DD(e){let t=[];for await(let n of e)t.push(n);return t}async function MD(e,t){let{changes:n}=t,r=Array.from(new Set(n.filter(o=>o.op!=="delete").map(o=>o.sha)));if(r.length===0)return t;let i=new Map(await DD(e.getBlobs(r)));return{...t,changes:n.map(o=>o.op==="delete"?o:{...o,contents:i.get(o.sha)})}}async function uhe(e,t){let n=await e.getTree(),r=await t.getTreeIfDifferent(n.sha);if(!r)return{fromSha:n.sha,changes:[]};let i=n.diff(r);return MD(t,i)}async function mU(e,t){let n=await uhe(e,t);return await e.applyChanges(n),n}var gU=class{#e;#t;#n;#r=new Map;#i=Array();constructor(e,t){this.#e=e,this.#t=t,this.#n=t.clone()}add(e,t){return this.#i.push(async()=>{let n=await Qf(t);this.#r.set(n,t),this.#n.add(e,n)}),this}remove(e){return this.#i.push(()=>{this.#n.remove(e)}),this}rename(e,t){return e!==t&&this.#i.push(()=>{this.#n.rename(e,t)}),this}async compile(){let e=this.#i.splice(0);for(let s of e)await s();let t=this.#t,n=await this.#n.compile(),r=t.diff(n),i=Array.from(new Set(r.changes.filter(s=>s.op==="add").map(s=>s.sha).filter(s=>!this.#r.has(s)))),o=new Map(i.length===0?[]:await DD(this.#e.getBlobs(i))),a=s=>{if(s.op==="delete")return s;let l=this.#r.get(s.sha)??o.get(s.sha);return{...s,contents:l}};return{from:t,into:n,changes:r.changes.map(a)}}};b();function vU(e){return e.map(t=>{switch(t.op){case"add":return{...t,op:"addContent",contents:new TextDecoder().decode(t.contents)};case"delete":return{...t,op:"deleteContent"}}})}function Hv(e){return{fromSha:e.fromSha,changes:e.changes.filter(t=>t.op==="addContent"||t.op==="deleteContent").map(t=>{switch(t.op){case"deleteContent":return{...t,op:"delete"};case"addContent":return{...t,op:"add",contents:new TextEncoder().encode(t.contents)}}})}}b();b();var che=typeof window<"u";function Df(...e){let t=dhe(e,"warning");console[che?"warn":"log"](t)}function dhe(e,t,n=hhe){return e.reduce((r,i,o)=>{let a=o===e.length-1,s=o===0,l=yU(a?"\u2570":s?"\u2502":"\u251C");return r+=`
`,r+=`  ${l} ${s?bU(i):yU(i)}`,a&&(r+=`
`),r},`  ${bU(n("\u0251"))} ${n(t)}`)}var fhe=typeof C<"u"&&(C.stdout?.isTTY||C.env?.FORCE_COLOR),hm=(e,t=39)=>n=>fhe?`\x1B[${e}m${n}\x1B[${t}m`:n,MGe=hm(31),yU=hm(90),RGe=hm(36),hhe=hm(33),bU=hm(1,0),OGe=hm(41,49);b();var pm;(e=>{e.Data=Symbol.for("@alinea/Page.Data");function t(r){return r[e.Data]}e.data=t;function n(r){return!!r?.[e.Data]}e.isPage=n})(pm||(pm={}));function wU(e){return{...e.children,[pm.Data]:e}}b();b();function TE(e){throw new Error("unreachable")}var kE=class{#e=[];#t=[];#n;#r;#i;#o=[];constructor(e,t,n,r){if(t.sha!==r.sha)throw new Ss(t.sha,r.sha);this.#n=e,this.#r=t,this.#i=new gU(n,r)}get empty(){return this.#t.length===0}create({locale:e,type:t,data:n,root:r,workspace:i,fromSeed:o,parentId:a=null,id:s=Qt(),insertOrder:l="last",status:u="published",overwrite:c=!1}){let d=this.#n,f=this.#r,h=f.byId.get(s);h&&(a=h.parentId,i||(i=h.workspace),r||(r=h.root),we(h.workspace===i,`Cannot create entry with id ${s} in workspace ${i}, already exists in ${h.workspace}`),we(h.root===r,`Cannot create entry with id ${s} in root ${r}, already exists in ${h.root}`));let p=It(d.workspaces);i||(i=p[0]),we(i in d.workspaces,`Workspace "${i}" not found in config`);let m=It(d.workspaces[i]);r||(r=m[0]),we(r in d.workspaces[i],`Root "${r}" not found in workspace "${i}"`);let v=this.#n.workspaces[i][r];we(v,"Invalid root");let g=br(v).i18n;g?we(g.locales.includes(e),"Invalid locale"):we(e===null,"Invalid locale");let y;a&&(y=f.findFirst(P=>P.id===a&&P.locale===e&&P.main),we(y,`Parent not found: ${a}`),this.#e.push([y.filePath,y.fileHash]));let w=Array.from(f.findMany(P=>P.root===r&&P.workspace===i&&P.parentId===a));we(typeof n=="object","Invalid data");let x=n.title??n.path;we(typeof x=="string","Missing title");let S=to(typeof n.path=="string"?n.path:x);we(S.length>0,"Invalid path");let E=h?.pathOf(e),k=E===S;if(k||(S=this.#u({id:s,path:S,parentId:a,root:r,workspace:i,locale:e})),u!=="published"&&E&&(S=E),E&&!k&&u==="published"&&this.#s(h.id,e,S),c&&h?.type==="MediaFile"){let[P]=h.entries;we(P,"Previous entry not found"),P.data.location!==n.location&&this.removeFile({location:Pn($i(this.#n.workspaces[P.workspace]).mediaDir,P.data.location)})}let A=y?y.childrenDir:Mn.filePath(this.#n,i,r,e),T=Pn(A,`${S}${u==="published"?"":`.${u}`}.json`),R=h?.locales.get(e)?.has(u);we(!(!c&&R),`Cannot create duplicate entry with id ${s}`);let O;if(h){if(O=h.index,u==="published"){let P=f.byId.get(s)?.locales.get(e);if(P)for(let F of P.values())this.#i.remove(F.filePath)}}else{let P=l==="first"?null:w.at(-1)??null,F=l==="last"?null:w.at(0)??null;O=Wo(P?.index??null,F?.index??null)}if(e!==null&&u==="published"){let P=f.findFirst(F=>F.id===s&&F.locale!==e&&F.status==="published");if(P){let F=this.#n.schema[t];we(F,`Type not found: ${t}`),n={...he.sharedData(F,P.data),...n}}this.#l(s,e,t,n)}let B=h?.locales.get(e)?.values(),_=o??B?.next().value?.seeded??null,z=Ya({id:s,type:t,index:O,path:S,seeded:_,data:n},u),V=new TextEncoder().encode(JSON.stringify(z,null,2));return this.#i.add(T,V),this.#t.push(this.#a("create",x)),this}#s(e,t,n){let i=this.#r.findMany(o=>o.id===e&&o.locale===t);for(let o of i){let a=o.status==="published"?n:`${n}.${o.status}`,s=Pn(o.parentDir,`${a}.json`);this.#i.rename(o.filePath,s);let l=Pn(o.parentDir,n);this.#i.rename(o.childrenDir,l)}}update({id:e,locale:t,status:n,set:r}){let o=this.#r.findFirst(h=>h.id===e&&h.locale===t&&h.status===n);we(o,`Entry not found: ${e}`);let a=Rt(le(r).map(([h,p])=>[h,p??null])),s={...o.data,...a};t!==null&&n==="published"&&this.#l(e,t,o.type,s);let l=Ya({id:e,type:o.type,index:o.index,path:o.path,seeded:o.seeded,data:s},n),u=to(s.path??o.data.path??o.path);this.#e.push([o.filePath,o.fileHash]);let d=`${Pn(o.parentDir,u)}${o.status==="published"?"":`.${o.status}`}.json`;o.status==="published"?d!==o.filePath&&this.#s(e,t,u):u!==o.path&&(l.path=u);let f=new TextEncoder().encode(JSON.stringify(l,null,2));return this.#i.add(d,f),this.#t.push(this.#a("update",o.title)),this}#u(e){let t=Array.from(this.#r.findMany(r=>r.id!==e.id&&r.parentId===e.parentId&&r.workspace===e.workspace&&r.root===e.root&&r.locale===e.locale&&(r.path===e.path||r.path.startsWith(`${e.path}-`)))).map(r=>r.path),n=Ug(e.path,t);return n!==void 0?`${e.path}-${n}`:e.path}#l(e,t,n,r){let i=this.#r,o=this.#n.schema[n];we(n,`Type not found: ${n}`);let a=he.sharedData(o,r);if(a){let s=i.findMany(l=>l.id===e&&l.locale!==t);for(let l of s){this.#e.push([l.filePath,l.fileHash]);let u=Ya({id:e,type:l.type,index:l.index,path:l.path,seeded:l.seeded,data:{...l.data,...a}},l.status),c=new TextEncoder().encode(JSON.stringify(u,null,2));this.#i.add(l.filePath,c)}}}publish({id:e,locale:t,status:n}){let r=this.#r,i=r.findFirst(d=>d.id===e&&d.locale===t&&d.status===n);we(i,`Entry not found: ${e}`);let o=i.data.path&&i.data.path!==i.path,a=to(i.data.path??i.path);a=this.#u({id:e,path:a,parentId:i.parentId,root:i.root,workspace:i.workspace,locale:t});let s=Pn(i.parentDir,a);i.locale!==null&&this.#l(e,i.locale,i.type,i.data);let l=r.byId.get(e)?.locales.get(t);if(l)for(let d of l.values())this.#i.remove(d.filePath);this.#e.push([i.filePath,i.fileHash]),this.#i.remove(i.filePath);let u=Ya({...i,path:a},"published"),c=new TextEncoder().encode(JSON.stringify(u,null,2));return o&&(this.#i.remove(`${i.parentDir}/${i.path}.json`),this.#i.rename(i.childrenDir,s)),this.#i.add(`${s}.json`,c),this.#t.push(this.#a("publish",i.title)),this}unpublish({id:e,locale:t}){let r=this.#r.byId.get(e)?.locales.get(t),i=r?.main;we(i,`Entry not found: ${e}`);for(let o of r.values())o.main||this.#i.remove(o.filePath);return this.#e.push([i.filePath,i.fileHash]),this.#i.rename(i.filePath,`${i.childrenDir}.draft.json`),this.#t.push(this.#a("unpublish",i.title)),this}archive({id:e,locale:t}){let r=this.#r.byId.get(e)?.locales.get(t),i=r?.main;we(i,`Entry not found: ${e}`);for(let o of r.values())o.main||this.#i.remove(o.filePath);return this.#e.push([i.filePath,i.fileHash]),this.#i.rename(i.filePath,`${i.childrenDir}.archived.json`),this.#t.push(this.#a("archive",i.title)),this}move({id:e,after:t,toParent:n,toRoot:r}){let i=this.#r,o=Array.from(i.findMany(w=>w.id===e));we(o.length>0,`Entry not found: ${e}`);let a=r?null:n??o[0].parentId,s=r??o[0].root,l=o[0].workspace,u=new Map(Array.from(i.findMany(w=>w.workspace===l&&w.root===s&&w.parentId===a&&w.id!==e)).map(w=>[w.id,w]));t&&we(u.has(t),`Sibling not found: ${t}`);let c=Array.from(u.values()),d=t?c.findIndex(w=>w.id===t):-1,f=d+1,h=c[d]??null,p=c[f]??null,m=new Set,v=c.some(w=>m.has(w.index)?!0:(m.add(w.index),!1)),g;if(v){let w=i.findFirst(S=>S.id===e);we(w,`Entry not found: ${e}`),c.splice(d+1,0,w);let x=Jp(null,null,c.length);for(let[S,E]of x.entries()){let k=c[S].id,A=i.byId.get(k);we(A);for(let T of A.byFile.values()){let R=Ya({id:k,type:T.type,index:E,path:T.path,seeded:T.seeded,data:T.data},T.status),M=new TextEncoder().encode(JSON.stringify(R,null,2));this.#i.add(T.filePath,M)}}g=x[d+1]}else g=Wo(h?.index??null,p?.index??null);let y;for(let w of o){y=w;let x=a?i.findFirst(R=>R.id===a&&R.locale===w.locale):void 0;if(n){we(!w.seeded,`Cannot move seeded entry ${w.filePath}`),we(x,`Parent not found: ${a}`),we(!x?.childrenDir.startsWith(w.childrenDir),"Cannot move entry into its own children");let R=this.#n.schema[x.type],M=this.#n.schema[w.type],O=Mn.typeContains(this.#n,R,M);we(O,`Parent of type ${x.type} does not allow children of type ${w.type}`)}let S=x?x.childrenDir:Mn.filePath(this.#n,l,s,w.locale),E=Pn(S,w.path),k=`${E}${w.status==="published"?"":`.${w.status}`}.json`,A=Ya({id:e,type:w.type,index:g,path:w.path,seeded:w.seeded,data:w.data},w.status),T=new TextEncoder().encode(JSON.stringify(A,null,2));(n||r)&&(this.#i.remove(w.filePath),this.#i.rename(w.childrenDir,E)),this.#i.add(k,T)}return this.#t.push(this.#a("move",y.title)),this}remove({id:e,locale:t,status:n}){let r=this.#r,i=r.findMany(a=>{let s=n===void 0||a.status===n,l=t===void 0||a.locale===t;return a.id===e&&l&&s}),o;for(let a of i){if(a.status==="published"&&we(!a.seeded,`Cannot remove seeded entry ${a.filePath}`),o=a,this.#e.push([a.filePath,a.fileHash]),this.#i.remove(a.filePath),a.status!=="draft"&&this.#i.remove(a.childrenDir),a.type==="MediaLibrary"){let s=this.#n.workspaces[a.workspace],l=$i(s).mediaDir,u=r.findMany(c=>c.workspace===a.workspace&&c.root===a.root&&c.filePath.startsWith(a.childrenDir)&&c.type==="MediaFile");for(let c of u)this.removeFile({location:Pn(l,c.data.location)})}if(a.type==="MediaFile"){let s=this.#n.workspaces[a.workspace],l=$i(s).mediaDir;this.removeFile({location:Pn(l,a.data.location)})}}return o&&this.#t.unshift(this.#a("remove",o.title)),this}removeFile(e){return we(e.location,"Missing location"),this.#t.push(this.#a("remove",e.location)),this.#o.push({op:"removeFile",...e}),this}uploadFile(e){return this.#o.push({op:"uploadFile",...e}),this}description(){return this.#t.map((e,t,n)=>{if(t>0)return e;let r=n.length>1?` (and ${n.length-1} other edits)`:"";return`${e+r}`}).join(`
`)}#a(e,t){return`(${e}) ${t}`}apply(e){for(let t of e)switch(t.op){case"create":this.create(t);break;case"update":this.update(t);break;case"publish":this.publish(t);break;case"unpublish":this.unpublish(t);break;case"archive":this.archive(t);break;case"move":this.move(t);break;case"remove":this.remove(t);break;case"removeFile":this.removeFile(t);break;case"uploadFile":this.uploadFile(t);break;default:TE(t)}}async toRequest(){let{from:e,into:t,changes:n}=await this.#i.compile();return{fromSha:e.sha,intoSha:t.sha,description:this.description(),checks:this.#e,changes:this.#o.concat(vU(n))}}};var phe="ENTRIES",AU="KEYS",TU="VALUES",Gr="",RD=class{constructor(e,t){let n=e._tree,r=Array.from(n.keys());this.set=e,this._type=t,this._path=r.length>0?[{node:n,keys:r}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};let{node:e,keys:t}=mm(this._path);if(mm(t)===Gr)return{done:!1,value:this.result()};let n=e.get(mm(t));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;let e=mm(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>mm(e)).filter(e=>e!==Gr).join("")}value(){return mm(this._path).node.get(Gr)}result(){switch(this._type){case TU:return this.value();case AU:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}},mm=e=>e[e.length-1],mhe=(e,t,n)=>{let r=new Map;if(t===void 0)return r;let i=t.length+1,o=i+n,a=new Uint8Array(o*i).fill(n+1);for(let s=0;s<i;++s)a[s]=s;for(let s=1;s<o;++s)a[s*i]=s;return kU(e,t,n,r,a,1,i,""),r},kU=(e,t,n,r,i,o,a,s)=>{let l=o*a;e:for(let u of e.keys())if(u===Gr){let c=i[l-1];c<=n&&r.set(s,[e.get(u),c])}else{let c=o;for(let d=0;d<u.length;++d,++c){let f=u[d],h=a*c,p=h-a,m=i[h],v=Math.max(0,c-n-1),g=Math.min(a-1,c+n);for(let y=v;y<g;++y){let w=f!==t[y],x=i[p+y]+ +w,S=i[p+y+1]+1,E=i[h+y]+1,k=i[h+y+1]=Math.min(x,S,E);k<m&&(m=k)}if(m>n)continue e}kU(e.get(u),t,n,r,i,c,a,s+u)}},OD=class Vv{constructor(t=new Map,n=""){this._size=void 0,this._tree=t,this._prefix=n}atPrefix(t){if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");let[n,r]=BE(this._tree,t.slice(this._prefix.length));if(n===void 0){let[i,o]=PD(r);for(let a of i.keys())if(a!==Gr&&a.startsWith(o)){let s=new Map;return s.set(a.slice(o.length),i.get(a)),new Vv(s,t)}}return new Vv(n,t)}clear(){this._size=void 0,this._tree.clear()}delete(t){return this._size=void 0,ghe(this._tree,t)}entries(){return new RD(this,phe)}forEach(t){for(let[n,r]of this)t(n,r,this)}fuzzyGet(t,n){return mhe(this._tree,t,n)}get(t){let n=ND(this._tree,t);return n!==void 0?n.get(Gr):void 0}has(t){let n=ND(this._tree,t);return n!==void 0&&n.has(Gr)}keys(){return new RD(this,AU)}set(t,n){if(typeof t!="string")throw new Error("key must be a string");return this._size=void 0,BD(this._tree,t).set(Gr,n),this}get size(){if(this._size)return this._size;this._size=0;let t=this.entries();for(;!t.next().done;)this._size+=1;return this._size}update(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;let r=BD(this._tree,t);return r.set(Gr,n(r.get(Gr))),this}fetch(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;let r=BD(this._tree,t),i=r.get(Gr);return i===void 0&&r.set(Gr,i=n()),i}values(){return new RD(this,TU)}[Symbol.iterator](){return this.entries()}static from(t){let n=new Vv;for(let[r,i]of t)n.set(r,i);return n}static fromObject(t){return Vv.from(Object.entries(t))}},BE=(e,t,n=[])=>{if(t.length===0||e==null)return[e,n];for(let r of e.keys())if(r!==Gr&&t.startsWith(r))return n.push([e,r]),BE(e.get(r),t.slice(r.length),n);return n.push([e,t]),BE(void 0,"",n)},ND=(e,t)=>{if(t.length===0||e==null)return e;for(let n of e.keys())if(n!==Gr&&t.startsWith(n))return ND(e.get(n),t.slice(n.length))},BD=(e,t)=>{let n=t.length;e:for(let r=0;e&&r<n;){for(let o of e.keys())if(o!==Gr&&t[r]===o[0]){let a=Math.min(n-r,o.length),s=1;for(;s<a&&t[r+s]===o[s];)++s;let l=e.get(o);if(s===o.length)e=l;else{let u=new Map;u.set(o.slice(s),l),e.set(t.slice(r,r+s),u),e.delete(o),e=u}r+=s;continue e}let i=new Map;return e.set(t.slice(r),i),i}return e},ghe=(e,t)=>{let[n,r]=BE(e,t);if(n!==void 0){if(n.delete(Gr),n.size===0)DU(r);else if(n.size===1){let[i,o]=n.entries().next().value;MU(r,i,o)}}},DU=e=>{if(e.length===0)return;let[t,n]=PD(e);if(t.delete(n),t.size===0)DU(e.slice(0,-1));else if(t.size===1){let[r,i]=t.entries().next().value;r!==Gr&&MU(e.slice(0,-1),r,i)}},MU=(e,t,n)=>{if(e.length===0)return;let[r,i]=PD(e);r.set(i+t,n),r.delete(i)},PD=e=>e[e.length-1],HD="or",RU="and",vhe="and_not",OU=class RE{constructor(t){if(t?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');let n=t.autoVacuum==null||t.autoVacuum===!0?ID:t.autoVacuum;this._options={...FD,...t,autoVacuum:n,searchOptions:{...xU,...t.searchOptions||{}},autoSuggestOptions:{...Ehe,...t.autoSuggestOptions||{}}},this._index=new OD,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=zD,this.addFields(this._options.fields)}add(t){let{extractField:n,tokenize:r,processTerm:i,fields:o,idField:a}=this._options,s=n(t,a);if(s==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);if(this._idToShortId.has(s))throw new Error(`MiniSearch: duplicate ID ${s}`);let l=this.addDocumentId(s);this.saveStoredFields(l,t);for(let u of o){let c=n(t,u);if(c==null)continue;let d=r(c.toString(),u),f=this._fieldIds[u],h=new Set(d).size;this.addFieldLength(l,f,this._documentCount-1,h);for(let p of d){let m=i(p,u);if(Array.isArray(m))for(let v of m)this.addTerm(f,l,v);else m&&this.addTerm(f,l,m)}}}addAll(t){for(let n of t)this.add(n)}addAllAsync(t,n={}){let{chunkSize:r=10}=n,i={chunk:[],promise:Promise.resolve()},{chunk:o,promise:a}=t.reduce(({chunk:s,promise:l},u,c)=>(s.push(u),(c+1)%r===0?{chunk:[],promise:l.then(()=>new Promise(d=>setTimeout(d,0))).then(()=>this.addAll(s))}:{chunk:s,promise:l}),i);return a.then(()=>this.addAll(o))}remove(t){let{tokenize:n,processTerm:r,extractField:i,fields:o,idField:a}=this._options,s=i(t,a);if(s==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);let l=this._idToShortId.get(s);if(l==null)throw new Error(`MiniSearch: cannot remove document with ID ${s}: it is not in the index`);for(let u of o){let c=i(t,u);if(c==null)continue;let d=n(c.toString(),u),f=this._fieldIds[u],h=new Set(d).size;this.removeFieldLength(l,f,this._documentCount,h);for(let p of d){let m=r(p,u);if(Array.isArray(m))for(let v of m)this.removeTerm(f,l,v);else m&&this.removeTerm(f,l,m)}}this._storedFields.delete(l),this._documentIds.delete(l),this._idToShortId.delete(s),this._fieldLength.delete(l),this._documentCount-=1}removeAll(t){if(t)for(let n of t)this.remove(n);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new OD,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(t){let n=this._idToShortId.get(t);if(n==null)throw new Error(`MiniSearch: cannot discard document with ID ${t}: it is not in the index`);this._idToShortId.delete(t),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach((r,i)=>{this.removeFieldLength(n,i,this._documentCount,r)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;let{minDirtFactor:t,minDirtCount:n,batchSize:r,batchWait:i}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:i},{minDirtCount:n,minDirtFactor:t})}discardAll(t){let n=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(let r of t)this.discard(r)}finally{this._options.autoVacuum=n}this.maybeAutoVacuum()}replace(t){let{idField:n,extractField:r}=this._options,i=r(t,n);this.discard(i),this.add(t)}vacuum(t={}){return this.conditionalVacuum(t)}conditionalVacuum(t,n){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&n,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{let r=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=zD,this.performVacuuming(t,r)}),this._enqueuedVacuum)):this.vacuumConditionsMet(n)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(t),this._currentVacuum)}async performVacuuming(t,n){let r=this._dirtCount;if(this.vacuumConditionsMet(n)){let i=t.batchSize||LD.batchSize,o=t.batchWait||LD.batchWait,a=1;for(let[s,l]of this._index){for(let[u,c]of l)for(let[d]of c)this._documentIds.has(d)||(c.size<=1?l.delete(u):c.delete(d));this._index.get(s).size===0&&this._index.delete(s),a%i===0&&await new Promise(u=>setTimeout(u,o)),a+=1}this._dirtCount-=r}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(t){if(t==null)return!0;let{minDirtCount:n,minDirtFactor:r}=t;return n=n||ID.minDirtCount,r=r||ID.minDirtFactor,this.dirtCount>=n&&this.dirtFactor>=r}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(t){return this._idToShortId.has(t)}getStoredFields(t){let n=this._idToShortId.get(t);if(n!=null)return this._storedFields.get(n)}search(t,n={}){let{searchOptions:r}=this._options,i={...r,...n},o=this.executeQuery(t,n),a=[];for(let[s,{score:l,terms:u,match:c}]of o){let d=u.length||1,f={id:this._documentIds.get(s),score:l*d,terms:Object.keys(c),queryTerms:u,match:c};Object.assign(f,this._storedFields.get(s)),(i.filter==null||i.filter(f))&&a.push(f)}return t===RE.wildcard&&i.boostDocument==null||a.sort(SU),a}autoSuggest(t,n={}){n={...this._options.autoSuggestOptions,...n};let r=new Map;for(let{score:o,terms:a}of this.search(t,n)){let s=a.join(" "),l=r.get(s);l!=null?(l.score+=o,l.count+=1):r.set(s,{score:o,terms:a,count:1})}let i=[];for(let[o,{score:a,terms:s,count:l}]of r)i.push({suggestion:o,terms:s,score:a/l});return i.sort(SU),i}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(t,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),n)}static async loadJSONAsync(t,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(t),n)}static getDefault(t){if(FD.hasOwnProperty(t))return _D(FD,t);throw new Error(`MiniSearch: unknown option "${t}"`)}static loadJS(t,n){let{index:r,documentIds:i,fieldLength:o,storedFields:a,serializationVersion:s}=t,l=this.instantiateMiniSearch(t,n);l._documentIds=DE(i),l._fieldLength=DE(o),l._storedFields=DE(a);for(let[u,c]of l._documentIds)l._idToShortId.set(c,u);for(let[u,c]of r){let d=new Map;for(let f of Object.keys(c)){let h=c[f];s===1&&(h=h.ds),d.set(parseInt(f,10),DE(h))}l._index.set(u,d)}return l}static async loadJSAsync(t,n){let{index:r,documentIds:i,fieldLength:o,storedFields:a,serializationVersion:s}=t,l=this.instantiateMiniSearch(t,n);l._documentIds=await ME(i),l._fieldLength=await ME(o),l._storedFields=await ME(a);for(let[c,d]of l._documentIds)l._idToShortId.set(d,c);let u=0;for(let[c,d]of r){let f=new Map;for(let h of Object.keys(d)){let p=d[h];s===1&&(p=p.ds),f.set(parseInt(h,10),await ME(p))}++u%1e3===0&&await BU(0),l._index.set(c,f)}return l}static instantiateMiniSearch(t,n){let{documentCount:r,nextId:i,fieldIds:o,averageFieldLength:a,dirtCount:s,serializationVersion:l}=t;if(l!==1&&l!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");let u=new RE(n);return u._documentCount=r,u._nextId=i,u._idToShortId=new Map,u._fieldIds=o,u._avgFieldLength=a,u._dirtCount=s||0,u._index=new OD,u}executeQuery(t,n={}){if(t===RE.wildcard)return this.executeWildcardQuery(n);if(typeof t!="string"){let f={...n,...t,queries:void 0},h=t.queries.map(p=>this.executeQuery(p,f));return this.combineResults(h,f.combineWith)}let{tokenize:r,processTerm:i,searchOptions:o}=this._options,a={tokenize:r,processTerm:i,...o,...n},{tokenize:s,processTerm:l}=a,d=s(t).flatMap(f=>l(f)).filter(f=>!!f).map(xhe(a)).map(f=>this.executeQuerySpec(f,a));return this.combineResults(d,a.combineWith)}executeQuerySpec(t,n){let r={...this._options.searchOptions,...n},i=(r.fields||this._options.fields).reduce((m,v)=>({...m,[v]:_D(r.boost,v)||1}),{}),{boostDocument:o,weights:a,maxFuzzy:s,bm25:l}=r,{fuzzy:u,prefix:c}={...xU.weights,...a},d=this._index.get(t.term),f=this.termResults(t.term,t.term,1,t.termBoost,d,i,o,l),h,p;if(t.prefix&&(h=this._index.atPrefix(t.term)),t.fuzzy){let m=t.fuzzy===!0?.2:t.fuzzy,v=m<1?Math.min(s,Math.round(t.term.length*m)):m;v&&(p=this._index.fuzzyGet(t.term,v))}if(h)for(let[m,v]of h){let g=m.length-t.term.length;if(!g)continue;p?.delete(m);let y=c*m.length/(m.length+.3*g);this.termResults(t.term,m,y,t.termBoost,v,i,o,l,f)}if(p)for(let m of p.keys()){let[v,g]=p.get(m);if(!g)continue;let y=u*m.length/(m.length+g);this.termResults(t.term,m,y,t.termBoost,v,i,o,l,f)}return f}executeWildcardQuery(t){let n=new Map,r={...this._options.searchOptions,...t};for(let[i,o]of this._documentIds){let a=r.boostDocument?r.boostDocument(o,"",this._storedFields.get(i)):1;n.set(i,{score:a,terms:[],match:{}})}return n}combineResults(t,n=HD){if(t.length===0)return new Map;let r=n.toLowerCase(),i=yhe[r];if(!i)throw new Error(`Invalid combination operator: ${n}`);return t.reduce(i)||new Map}toJSON(){let t=[];for(let[n,r]of this._index){let i={};for(let[o,a]of r)i[o]=Object.fromEntries(a);t.push([n,i])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:t,serializationVersion:2}}termResults(t,n,r,i,o,a,s,l,u=new Map){if(o==null)return u;for(let c of Object.keys(a)){let d=a[c],f=this._fieldIds[c],h=o.get(f);if(h==null)continue;let p=h.size,m=this._avgFieldLength[f];for(let v of h.keys()){if(!this._documentIds.has(v)){this.removeTerm(f,v,n),p-=1;continue}let g=s?s(this._documentIds.get(v),n,this._storedFields.get(v)):1;if(!g)continue;let y=h.get(v),w=this._fieldLength.get(v)[f],x=whe(y,p,this._documentCount,w,m,l),S=r*i*d*g*x,E=u.get(v);if(E){E.score+=S,She(E.terms,t);let k=_D(E.match,n);k?k.push(c):E.match[n]=[c]}else u.set(v,{score:S,terms:[t],match:{[n]:[c]}})}}return u}addTerm(t,n,r){let i=this._index.fetch(r,CU),o=i.get(t);if(o==null)o=new Map,o.set(n,1),i.set(t,o);else{let a=o.get(n);o.set(n,(a||0)+1)}}removeTerm(t,n,r){if(!this._index.has(r)){this.warnDocumentChanged(n,t,r);return}let i=this._index.fetch(r,CU),o=i.get(t);o==null||o.get(n)==null?this.warnDocumentChanged(n,t,r):o.get(n)<=1?o.size<=1?i.delete(t):o.delete(n):o.set(n,o.get(n)-1),this._index.get(r).size===0&&this._index.delete(r)}warnDocumentChanged(t,n,r){for(let i of Object.keys(this._fieldIds))if(this._fieldIds[i]===n){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(t)} has changed before removal: term "${r}" was not present in field "${i}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(t){let n=this._nextId;return this._idToShortId.set(t,n),this._documentIds.set(n,t),this._documentCount+=1,this._nextId+=1,n}addFields(t){for(let n=0;n<t.length;n++)this._fieldIds[t[n]]=n}addFieldLength(t,n,r,i){let o=this._fieldLength.get(t);o==null&&this._fieldLength.set(t,o=[]),o[n]=i;let s=(this._avgFieldLength[n]||0)*r+i;this._avgFieldLength[n]=s/(r+1)}removeFieldLength(t,n,r,i){if(r===1){this._avgFieldLength[n]=0;return}let o=this._avgFieldLength[n]*r-i;this._avgFieldLength[n]=o/(r-1)}saveStoredFields(t,n){let{storeFields:r,extractField:i}=this._options;if(r==null||r.length===0)return;let o=this._storedFields.get(t);o==null&&this._storedFields.set(t,o={});for(let a of r){let s=i(n,a);s!==void 0&&(o[a]=s)}}};OU.wildcard=Symbol("*");var _D=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,yhe={[HD]:(e,t)=>{for(let n of t.keys()){let r=e.get(n);if(r==null)e.set(n,t.get(n));else{let{score:i,terms:o,match:a}=t.get(n);r.score=r.score+i,r.match=Object.assign(r.match,a),EU(r.terms,o)}}return e},[RU]:(e,t)=>{let n=new Map;for(let r of t.keys()){let i=e.get(r);if(i==null)continue;let{score:o,terms:a,match:s}=t.get(r);EU(i.terms,a),n.set(r,{score:i.score+o,terms:i.terms,match:Object.assign(i.match,s)})}return n},[vhe]:(e,t)=>{for(let n of t.keys())e.delete(n);return e}},bhe={k:1.2,b:.7,d:.5},whe=(e,t,n,r,i,o)=>{let{k:a,b:s,d:l}=o;return Math.log(1+(n-t+.5)/(t+.5))*(l+e*(a+1)/(e+a*(1-s+s*r/i)))},xhe=e=>(t,n,r)=>{let i=typeof e.fuzzy=="function"?e.fuzzy(t,n,r):e.fuzzy||!1,o=typeof e.prefix=="function"?e.prefix(t,n,r):e.prefix===!0,a=typeof e.boostTerm=="function"?e.boostTerm(t,n,r):1;return{term:t,fuzzy:i,prefix:o,termBoost:a}},FD={idField:"id",extractField:(e,t)=>e[t],tokenize:e=>e.split(Che),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{typeof console?.[e]=="function"&&console[e](t)},autoVacuum:!0},xU={combineWith:HD,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:bhe},Ehe={combineWith:RU,prefix:(e,t,n)=>t===n.length-1},LD={batchSize:1e3,batchWait:10},zD={minDirtFactor:.1,minDirtCount:20},ID={...LD,...zD},She=(e,t)=>{e.includes(t)||e.push(t)},EU=(e,t)=>{for(let n of t)e.includes(n)||e.push(n)},SU=({score:e},{score:t})=>t-e,CU=()=>new Map,DE=e=>{let t=new Map;for(let n of Object.keys(e))t.set(parseInt(n,10),e[n]);return t},ME=async e=>{let t=new Map,n=0;for(let r of Object.keys(e))t.set(parseInt(r,10),e[r]),++n%1e3===0&&await BU(0);return t},BU=e=>new Promise(t=>setTimeout(t,e)),Che=/[\n\r\p{Z}\p{P}]+/u,Ahe=/[\n\r\p{Z}\p{P}]+/u,The=/\p{Diacritic}/gu,_U=class extends EventTarget{tree=xo.EMPTY;entries=[];byPath=new Map;byId=new Map;initialSync;#e;#t;#n;#r;#i;constructor(e){super(),this.#e=e,this.#t=wo(e),this.#i=Mn.multipleWorkspaces(e)?void 0:It(e.workspaces)[0],this.#n=Mhe(e),this.#r=new OU({fields:["title","searchableText"],storeFields:["entry"],tokenize(t){return t.normalize("NFD").replace(The,"").split(Ahe)}})}get sha(){return this.tree.sha}findFirst(e){let[t]=this.findMany(e);return t}*findMany(e){for(let t of this.entries)e(t)&&(yield t)}#o(e){let t=[],n=this.byId.get(e);for(;n&&(t.push(n.id),!!n.parentId);)n=this.byId.get(n.parentId);return t}filter({ids:e,search:t,condition:n},r){if(t){let o=this.filter({ids:e,condition:n});for(let a of o)this.#r.has(a.filePath)||this.updateSearch(a);return this.#r.search(t,{prefix:!0,fuzzy:.1,boost:{title:2},filter:a=>e?e.includes(a.entry.id):n?n(a.entry):!0}).map(a=>a.entry)}if(e){let o=[];for(let a of e){let s=this.byId.get(a);if(s)for(let l of s.entries){let u=r&&l.id===r.id&&l.locale===r.locale?r:l;n&&!n(u)||o.push(u)}}return o}let i=this.#s(this.entries,r);return n?i.filter(n):i}#s(e,t){if(!t)return e;let n=e.findIndex(i=>i.id===t.id&&i.locale===t.locale&&i.status===t.status);if(n===-1)return e.concat(t);let r=e.slice();return r[n]=t,r}async syncWith(e){let t=await e.getTree();this.initialSync||(this.initialSync=t);let n=await MD(e,this.tree.diff(t));return n.changes.length===0?t.sha:this.indexChanges(n)}async fix(e){let t=await e.getTree(),n=await this.transaction(e);for(let o of this.entries){let a=Ya(o,o.status),s=new TextEncoder().encode(JSON.stringify(a,null,2)),l=await Qf(s),u=t.getLeaf(o.filePath);l!==u.sha&&n.update({id:o.id,set:o.data,locale:o.locale,status:o.status})}if(n.empty)return;let r=await n.toRequest(),i=Hv(r);i.changes.length&&await e.applyChanges(i)}async seed(e){for(let[t,n]of this.#n){let{type:r,workspace:i,root:o,locale:a,data:{path:s}}=n,l=this.byPath.get(t);if(l)we(l.type===r,`Type mismatch in ${t}`);else{let u=t.split("/").slice(this.#i?1:2),c=`/${u.join("/")}.json`,d=this.findFirst(f=>f.seeded===c&&f.root===o&&f.workspace===i);if(d)we(d.type===r,`Type mismatch in ${t}`);else{let f=Kd(t),h=this.byPath.get(OE(f)),p=Qt();if(a){let y=u.length-2,w=`/${u.slice(1).join("/")}.json`,x=this.findFirst(S=>S.locale!==a&&S.root===o&&S.workspace===i&&S.path===s&&S.level===y&&S.parentId===(h?.id??null)&&S.seeded!==null&&S.seeded.endsWith(w));x&&(p=x.id)}let v=await(await this.transaction(e)).create({id:p,parentId:h?.id??null,locale:a,type:r,workspace:i,root:o,fromSeed:c,data:{path:s}}).toRequest(),g=Hv(v);g.changes.length&&(await e.applyChanges(g),await this.indexChanges(g))}}}}async transaction(e){let t=await e.getTree();return new kE(this.#e,this,e,t)}async indexChanges(e){let{changes:t}=e;if(t.length===0)return this.tree.sha;this.#u(e),this.tree=await this.tree.withChanges(e);let n=this.tree.sha;return this.dispatchEvent(new en({op:"index",sha:n})),n}async updateSearch(e){this.#r.add({id:e.filePath,title:e.title,searchableText:e.searchableText,entry:e})}#u(e){let{fromSha:t,changes:n}=e;if(t!==this.tree.sha)throw new Ss(t,this.tree.sha);let r=new Set;for(let o of n){if(!o.path.endsWith(".json"))continue;let a=OE(o.path);switch(o.op){case"delete":{let s=this.byPath.get(a);if(!s)continue;let l=s.byFile.get(o.path);if(!l)continue;we(l.fileHash===o.sha,`SHA mismatch: ${l.fileHash} != ${o.sha}`),s.remove(o.path)===0&&(this.byId.delete(s.id),this.byPath.delete(a)),r.add(s.id),this.#r.has(l.filePath)&&this.#r.discard(l.filePath);break}case"add":{let s=o.contents;we(s,"Missing contents");let u=o.path.split("/").slice(0,-1).join("/"),c=this.byPath.get(u),d=this.#l({sha:o.sha,file:o.path,contents:s},c),f=this.byId.get(d.id)??new Dhe(this.#e,d);f.add(d,c),c?r.add(c.id):r.add(f.id),this.byPath.set(a,f),this.byId.set(d.id,f),this.#r.has(d.filePath)&&(this.#r.discard(d.filePath),this.updateSearch(d));break}}}let i=[];for(let[o,a]of this.byId){let s=r.has(o),l=a.parentId;for(;!s&&l;){let u=this.byId.get(l);if(!u)break;s=r.has(u.id),l=u.parentId}s&&(a.sync(this.byId),r.add(o)),i.push(...a.entries)}this.entries=i.sort((o,a)=>Es(o.index,a.index));for(let o of r)this.dispatchEvent(new en({op:"entry",id:o}))}#l({sha:e,file:t,contents:n},r){let i=t.split("/"),o=i.at(-1);we(o);let a=o.lastIndexOf(".");we(a!==-1);let s=o.slice(0,a),[l,u]=Vg(s),c=i.slice(0,-1).join("/"),d=`${c}/${l}`,f;try{let F=new TextDecoder().decode(n);f=JSON.parse(F)}catch(F){throw new Error(`Failed to parse JSON: ${t} - ${F}`)}we(typeof f=="object");let h=OE(t),p=this.#n.get(h),{meta:m,data:v}=_7(f),g={path:l,...p?.data,...v},y=m.id,w=m.type,x=m.index,S=g.title,E=0,k=this.#i??i[E++],A=this.#e.workspaces[k];we(A,`Invalid workspace: ${k} in ${t}`);let T=i[E++],R=A[T];we(R,`Invalid root: ${T}`);let M=br(R).i18n,O=null;if(M){O=i[E++].toLowerCase();for(let F of M.locales)if(O===F.toLowerCase()){O=F;break}}let B=this.#e.schema[w];we(B,`Invalid type: ${w} in ${t} (${k}/${T})`);let _=he.searchableText(B,g),z=1;this.#i||(z+=1),M&&(z+=1);let V=[],P=r;for(;P;)V.unshift(P.id),P.parentId?P=this.byId.get(P.parentId):P=void 0;return{rowHash:e,fileHash:e,workspace:k,root:T,filePath:t,seeded:m.seeded??null,id:y,status:u,type:w,parentDir:c,childrenDir:d,parentId:r?.id??null,parents:V,level:i.length-z-1,index:x,locale:O,path:l,title:S,data:g,searchableText:_,url:"",active:!1,main:!1}}},khe=class extends Map{inheritedStatus;setInherited(e){e?this.inheritedStatus=e:this.has("archived")?this.inheritedStatus="archived":this.has("draft")&&!this.has("published")?this.inheritedStatus="draft":this.inheritedStatus=void 0}get active(){return this.get("draft")||this.get("published")||this.get("archived")}get main(){return this.inheritedStatus?this.active:this.get("published")||this.get("archived")||this.get("draft")}*versions(){this.inheritedStatus?yield this.active:yield*this.values()}},Dhe=class{#e;id;type;byFile=new Map;locales=new Map;constructor(e,t){this.#e=e,this.id=t.id,this.type=t.type;let n=this.#e.workspaces[t.workspace];we(n,`Invalid workspace: ${t.workspace}`);let r=n[t.root];we(r,`Invalid root: ${t.root}`);let i=this.#e.schema[t.type];we(i,`Invalid type: ${t.type} in ${t.filePath}`)}get#t(){let[e]=this.byFile.values();if(!e)throw new Error(`EntryNode has no entries: ${this.id}`);return e}get index(){return this.#t.index}get parentId(){return this.#t.parentId}get workspace(){return this.#t.workspace}get root(){return this.#t.root}get entries(){let e=[];for(let t of this.locales.values())for(let n of t.versions())e.push(n);return e}pathOf(e){let t=this.locales.get(e);if(!t)return;let[n]=t.values();if(n)return n.path}add(e,t){this.byFile.has(e.filePath)&&this.remove(e.filePath);let[n]=this.byFile.values();n&&this.#n(e,n);let r=e.locale,i=this.locales.get(r)??new khe;this.locales.set(r,i);let o=e.status;if(r===null&&we(this.locales.size===1),i.has(o))return Df(`Duplicate entry with id ${e.id}`,e.filePath,i.get(o).filePath);switch(o){case"published":{let s=i.get("archived");if(!s)break;return Df("Entry has both an archived and published version",s.filePath,e.filePath)}case"archived":{let s=i.get("published");if(!s)break;return Df("Entry has both an archived and published version",s.filePath,e.filePath)}case"draft":{let s=i.get("draft");if(!s)break;return Df("Entry has multiple drafts",s.filePath,e.filePath)}}e.parentId=t?t.id:null,i.set(o,e),this.byFile.set(e.filePath,e);let a=t?.locales.get(r);i.setInherited(a?.inheritedStatus),e.status=i.inheritedStatus??o;for(let s of i.values())e.path!==s.path&&Df("Entry has different file paths for different versions",e.filePath,s.filePath)}sync(e){let t=this.parentId?e.get(this.parentId):void 0;for(let[n,r]of this.locales){let i,o=t?.locales.get(n);r.setInherited(o?.inheritedStatus);let a=r.active,s=r.main;for(let[l,u]of r){i??=u.path,we(u.path===i,`Invalid path: ${u.path} != ${i}`),u.active=u===a,u.main=u===s;let c=[],d=t;for(;d;){let p=d.pathOf(n);if(we(p,"Missing parent path"),c.unshift(p),d.parentId)d=e.get(d.parentId);else break}let f=this.#e.schema[u.type],h=Ww(f,{locale:n,status:l,path:u.path,parentPaths:c});u.url=h,u.status=r.inheritedStatus??l,we(uP(u.index),"Invalid index"),u.index!==this.index&&(Df(`This translation has a different _index field (${u.index} != ${this.index})`,u.filePath,this.entries[0].filePath),u.index=this.index)}}}has(e){return this.byFile.has(e)}remove(e){let t=this.byFile.get(e);we(t,"Entry not found");let n=t.locale,r=this.locales.get(n);we(r,`Locale (${n}) not found for ${e}`);let[,i]=Vg(e.slice(0,-5));return r.delete(i),r.size===0&&this.locales.delete(n),this.byFile.delete(e),this.byFile.size}#n(e,t){we(e.id===t.id,"ID mismatch"),we(e.root===t.root,`Entry has a different root than the previous version: ${e.filePath} (${e.root}) != ${t.filePath} (${t.root})`),we(e.type===t.type,"Type mismatch")}};function OE(e){let t=e.lastIndexOf("/"),n=e.slice(0,t),r=e.slice(t+1),i=r.lastIndexOf("."),o=i===-1?r:r.slice(0,i);return o.endsWith(".archived")&&(o=o.slice(0,-9)),o.endsWith(".draft")&&(o=o.slice(0,-6)),`${n}/${o}`}function Mhe(e){let t=new Map,n=kn.typeNames(e.schema);for(let[r,i]of le(e.workspaces))for(let[o,a]of le(i)){let{i18n:s}=br(a),l=s?.locales??[null];for(let u of l){let c=le(a);for(;c.length>0;){let[d,f]=c.shift(),h=d.split("/").map(to).join("/");if(!pm.isPage(f))continue;let{type:p,fields:m={}}=pm.data(f),v=Mn.filePath(e,r,o,u,`${h}.json`),g=OE(v),y=n.get(p);if(!y)continue;t.set(g,{seedId:`${o}/${h}`,type:y,locale:u,workspace:r,root:o,data:{...m,path:h.split("/").pop(),title:m.title??h}});let w=le(f).map(([x,S])=>[`${h}/${x}`,S]);c.push(...w)}}}return t}b();b();var VD={_id:W.id,_type:W.type,_index:W.index,_workspace:W.workspace,_root:W.root,_status:W.status,_parentId:W.parentId,_locale:W.locale,_path:W.path,_url:W.url,_active:W.active};b();function UD(e){return ro(t=>It(t).every(n=>e.includes(n)))}b();var jD=class{constructor(e,t,n){this.resolver=e,this.ctx=t,this.locale=n}includedAtBuild(e){return this.resolver.index.initialSync?.has(e)??!1}async resolveLinks(e,t){let{status:n,preview:r}=this.ctx;return await this.resolver.resolve({preview:r?{entry:r}:void 0,preferredLocale:this.locale??void 0,status:n,select:e,id:{in:t}})}};var Rhe=dc({or:bg(M3)}).and(UD(["or"])),Ohe=dc({and:bg(M3)}).and(UD(["and"])),NU=class{index;#e;constructor(e,t){this.#e=wo(e),this.index=t}call(e,t,n){switch(n.method){case"snippet":{if(!e.searchTerms)throw new Error("Snippet method requires search terms to be provided");let r=this.expr(e,t,n.args[0]),i=this.expr(e,t,n.args[1]),o=this.expr(e,t,n.args[2]),a=this.expr(e,t,n.args[3]);return Nhe(t.searchableText,e.searchTerms,r,i,o,a)}default:throw new Error(`Unknown method: "${n.method}"`)}}field(e,t){let n=this.#e.nameOf(t);if(!n)throw new Error(`Expression has no name ${t}`);return e.data[n]}expr(e,t,n){let r=Q1(n);switch(r.type){case"field":{let i=this.field(t,n);return i&&typeof i=="object"?structuredClone(i):i}case"entryField":return t[r.name];case"call":return this.call(e,t,r);case"value":return r.value;default:TE(r)}}projectTypes(e){return le(VD).concat(e.flatMap(le))}projection(e){return e.select??Rt((e.type?this.projectTypes(Array.isArray(e.type)?e.type:[e.type]):[]).concat(le(VD)).concat(e.include?le(e.include):[]))}sourceFilter(e,t){switch(t.edge){case"parent":return{ids:e.parentId?[e.parentId]:[],condition({locale:n}){return n===e.locale}};case"next":{let[n]=this.index.filter({condition({workspace:r,root:i,parentId:o,index:a,locale:s}){return r===e.workspace&&i===e.root&&o===e.parentId&&a<e.index&&s===e.locale}}).sort((r,i)=>Es(r.index,i.index));return{ids:n?[n.id]:[]}}case"previous":{let[n]=this.index.filter({condition({workspace:r,root:i,parentId:o,index:a,locale:s}){return r===e.workspace&&i===e.root&&o===e.parentId&&a>e.index&&s===e.locale}}).sort((r,i)=>Es(i.index,r.index));return{ids:n?[n.id]:[]}}case"siblings":return{condition({workspace:n,root:r,parentId:i,id:o,locale:a}){return n===e.workspace&&r===e.root&&i===e.parentId&&a===e.locale&&(t.includeSelf?!0:o!==e.id)}};case"translations":return{ids:[e.id],condition:t.includeSelf?void 0:({locale:n})=>n!==e.locale};case"children":{let n=t?.depth??1;return{condition({level:r,filePath:i}){return r>e.level&&r<=e.level+n&&i.startsWith(e.childrenDir)}}}case"parents":{let n=t?.depth??Number.POSITIVE_INFINITY;return{ids:e.parents.slice(-n),condition({locale:r}){return r===e.locale}}}case"entryMultiple":{let n=this.field(e,t.field),r=new Set(Array.isArray(n)?n.map(i=>i._entry).filter(Boolean):[]);return{ids:Array.from(r)}}case"entrySingle":{let r=this.field(e,t.field)?._entry;return{ids:r?[r]:[]}}default:return{}}}selectProjection(e,t,n){if(n&&Gf(n))return this.expr(e,t,n);if(!Iv(n))return Rt(le(n).map(([o,a])=>[o,this.selectProjection(e,t,a)]));let i=n;return this.query({...e,locale:t.locale},i,this.sourceFilter(t,i)).getUnprocessed()}select(e,t,n){if(!t)return null;if(n.select&&Gf(n.select))return this.expr(e,t,n.select);let r=this.projection(n);return this.selectProjection(e,t,r)}condition(e,t){let n=Array.isArray(t.location)?t.location:t.location&&this.#e.locationOf(t.location),r=Bhe(e.status),i=n&&Ihe(n),o=t.locale??e.locale,a=o!==void 0&&t.edge!=="translations"&&IU(typeof o=="string"?o.toLowerCase():null,!1);!a&&t.preferredLocale&&(a=IU(t.preferredLocale.toLowerCase(),!0));let s=!!t.type&&Fhe(Array.isArray(t.type)?t.type.map(h=>this.#e.nameOf(h)):this.#e.nameOf(t.type)),l=Iv(t),u=_he(this.#e,t),c=t.filter&&gm(t.filter,(h,p)=>p.startsWith("_")?h[p.slice(1)]:h.data[p]),d=typeof t.id=="object"&&t.id!==null&&t.id.in;return{ids:Array.isArray(d)?d:typeof t.id=="string"?[t.id]:void 0,condition(h){if(!r(h)||i&&!i(h)||a&&!a(h)||s&&!s(h))return!1;let p=a?a(h):!0;return!(l!=="translations"&&!p||u&&!u(h)||c&&!c(h))}}}isSingleResult(e){return!!(e.first||e.get||e.count||e.edge==="parent"||e.edge==="next"||e.edge==="previous")}query(e,t,n){let{skip:r,take:i,orderBy:o,groupBy:a,search:s,count:l}=t,{ids:u,condition:c}=this.condition(e,t),d=n?.condition,f={ids:u??n?.ids,search:Array.isArray(s)?s.join(" "):s,condition:d&&c?w=>d(w)&&c(w):c??d},h=this.index.filter(f,e.preview);if(a){we(!Array.isArray(a),"groupBy must be a single field");let w=new Map;for(let x of h){let S=this.expr(e,x,a);w.has(S)||w.set(S,x)}h=Array.from(w.values())}if(o){let w=Array.isArray(o)?o:[o];h.sort((x,S)=>{for(let E of w){let k=E.asc??E.desc,A=this.expr(e,x,k),T=this.expr(e,S,k),R=typeof A=="string"&&typeof T=="string",M=typeof A=="number"&&typeof T=="number";if(R){let O=E.caseSensitive?Es(A,T):A.localeCompare(T,void 0,{numeric:!0});if(O!==0)return E.asc?O:-O}else if(M&&A!==T)return E.asc?A-T:T-A}return 0})}r&&h.splice(0,r),i&&h.splice(i);let p=this.isSingleResult(t),m=t,v=()=>h.map(w=>this.select(e,w,t));return{entries:h,getUnprocessed:()=>{if(l)return h.length;let w=v();return p?w[0]:w},getProcessed:async()=>{if(l)return h.length;let w=v();if(p){let x=h[0];if(w[0]){let S=new jD(this,e,x.locale);await this.postRow({linkResolver:S},w[0],m)}return w[0]}return w.length>0&&await Promise.all(w.map((x,S)=>{if(!x)return;let E=new jD(this,e,h[S].locale);return this.postRow({linkResolver:E},x,m)}).filter(Boolean)),w}}}async postField(e,t,n){await He.shape(n).applyLinks(t,e.linkResolver)}async postExpr(e,t,n){Y1(n)&&await this.postField(e,t,n)}async postRow(e,t,n){if(!t)return;let r=this.projection(n);if(Gf(r))return this.postExpr(e,t,r);if(Iv(r))return this.post(e,t,r);await Promise.all(le(r).map(([i,o])=>Iv(o)?this.post(e,t[i],o):this.postExpr(e,t[i],o)))}async post(e,t,n){if(n.count===!0)return;if(this.isSingleResult(n))return this.postRow(e,t,n);await Promise.all(t.map(i=>this.postRow(e,i,n)))}async resolve(e){let{preview:t}=e,n=t&&"entry"in t?t.entry:void 0,r={status:e.status??"published",locale:e.locale,preview:n,searchTerms:Array.isArray(e.search)?e.search.join(" "):e.search};return this.query(r,e).getProcessed()}};function Bhe(e){switch(e){case"published":return t=>t.status==="published";case"draft":return t=>t.status==="draft";case"archived":return t=>t.status==="archived";case"preferDraft":return t=>t.active;case"preferPublished":return t=>t.main;case"all":return t=>!0}}function FU(e){return e&&typeof e=="object"}function _he(e,t){let n=FU(t.root)&&q1(t.root)?e.nameOf(t.root):t.root,r=FU(t.workspace)&&G1(t.workspace)?e.nameOf(t.workspace):t.workspace;return gm({id:t.id,parentId:t.parentId,path:t.path,url:t.url,level:t.level,workspace:r,root:n})}function Fhe(e){return Array.isArray(e)?t=>e.includes(t.type):t=>t.type===e}function Ihe(e){switch(e.length){case 1:return t=>t.workspace===e[0];case 2:return t=>t.workspace===e[0]&&t.root===e[1];case 3:return t=>t.workspace!==e[0]||t.root!==e[1]||t.level===0?!1:t.level===1?t.parentDir.endsWith(`/${e[2]}`):t.parentDir.split("/").at(-t.level)===e[2];default:return t=>!0}}function IU(e,t){return n=>t&&n.locale===null?!0:typeof n.locale=="string"?n.locale.toLowerCase()===e:n.locale===e}function gm(e,t=(n,r)=>n[r]){if(Rhe.check(e)){let o=e.or.filter(Boolean).map(a=>gm(a,t));return a=>{for(let s of o)if(s(a))return!0;return!1}}if(Ohe.check(e)){let o=e.and.filter(Boolean).map(a=>gm(a,t));return a=>{for(let s of o)if(!s(a))return!1;return!0}}if(typeof e!="object"||e===null)return o=>o===e;let i=$D(e,t);return o=>{for(let a of i)if(!a(o))return!1;return!0}}function $D(e,t){let n=Array();for(let[r,i]of le(e)){if(i===void 0)continue;if(typeof i!="object"||i===null){n.push(u=>t(u,r)===i);continue}let o=i;o.is!==void 0&&n.push(u=>t(u,r)===o.is),o.isNot!==void 0&&n.push(u=>t(u,r)!==o.isNot);let a=o.in;Array.isArray(a)&&n.push(u=>u&&a.includes(t(u,r)));let s=o.notIn;Array.isArray(s)&&n.push(u=>u&&!s.includes(t(u,r))),o.gt!==void 0&&n.push(u=>t(u,r)>o.gt),o.gte!==void 0&&n.push(u=>t(u,r)>=o.gte),o.lt!==void 0&&n.push(u=>t(u,r)<o.lt),o.lte!==void 0&&n.push(u=>t(u,r)<=o.lte),o.startsWith&&n.push(u=>{let c=t(u,r);return typeof c=="string"&&c.startsWith(o.startsWith)});let l=o.or;if(l){let u=Array.isArray(l)?l.flatMap(c=>$D(c,t)):$D(l,t);n.push(c=>{for(let d of u)if(d(c))return!0;return!1})}if(o.has){let u=gm(o.has);n.push(c=>u(t(c,r)))}if(o.includes){let u=gm(o.includes);n.push(c=>{let d=t(c,r);if(!Array.isArray(d))return!1;for(let f of d)if(u(f))return!0;return!1})}}return n}function Nhe(e,t,n,r,i,o){if(o<=0||o>64)throw new Error("The 'limit' parameter must be greater than zero and less than or equal to 64.");let a=t.toLowerCase().split(/\s+/).filter(h=>h!==""),s=e.split(/\s+/),l=Array(),u=-1;for(let h=0;h<s.length;h++){let p=s[h].toLowerCase(),m=a.some(v=>p.includes(v));m&&u===-1&&(u=h),m?l.push(`${n}${s[h]}${r}`):l.push(s[h])}if(u===-1)return s.slice(0,Math.min(o,s.length)).join(" ");let c=Math.max(0,u-Math.floor(o/2)),f=l.slice(c,c+o).join(" ");return c>0&&(f=`${i}${f}`),c+o<l.length&&(f=`${f}${i}`),f}var Lhe=AE(1),LU=class extends sm{constructor(e,t=new pU){super(),this.config=e;let n=new _U(e),r=new NU(e,n);this.#e=r,this.index=n,this.source=t}index;source;#e;resolve(e){return this.#e.resolve(e)}get sha(){return this.index.sha}indexChanges(e){return this.index.indexChanges(e)}applyChanges(e){return this.source.applyChanges(e)}getTreeIfDifferent(e){return this.source.getTreeIfDifferent(e)}getBlobs(e){return this.source.getBlobs(e)}async sync(){return await this.index.syncWith(this.source),await this.index.seed(this.source),this.sha}syncWith(e){return Lhe(async()=>(await mU(this.source,e),this.sync()))}async logEntries(){let e=await this.find({select:{id:W.id,root:W.root,workspace:W.workspace,parentId:W.parentId,locale:W.locale,status:W.status,path:W.path,index:W.index,title:W.title,active:W.active},status:"all"});console.table(e.map(({id:t,parentId:n,...r})=>({id:t.slice(-7),parentId:n?.slice(-7),...r})))}async request(e){await this.sync();let t=await this.source.getTree(),n=new kE(this.config,this.index,this.source,t);return n.apply(e),n.toRequest()}async mutate(e){let t=await this.request(e);return this.write(t)}async write(e){if(this.sha===e.intoSha)return{sha:this.sha};let t=Hv(e);return await this.indexChanges(t),await this.applyChanges(t),{sha:await this.sync()}}async prepareUpload(e){throw new Error("Uploads not supported on local DB")}};var qD=AE(1),Uv=class extends EventTarget{#e;#t;#n;#r=kD();#i;#o;constructor(e){super(),this.#e=e}get db(){return this.#t??this.#r.then(e=>e.db)}get#s(){return this.#n??this.#r.then(e=>e.client)}async sync(){let e=await this.db,t=await this.#s;if(qD.pendingCount>0)return e.sha;let n=qD(()=>e.syncWith(t));return e.index.tree.isEmpty&&await n,e.sha}queue(e,t){return qD(async()=>{let n=await this.db;await n.mutate(t);let r=n.sha,i=await this.#s;try{let{sha:o}=await i.mutate(t);return o!==r?n.syncWith(i):r}catch(o){throw await n.syncWith(i),o}})}async resolve(e){let t=await this.db,r=wo(t.config).parse(e);return t.resolve(r)}async load(e,t,n){if(this.#o===e){await this.sync();return}this.#o=e;let r=new LU(t,this.#e);try{this.#i&&this.#i(),this.#r.resolve({db:r,client:n}),this.#t=r,this.#n=n;let i=o=>{o instanceof en&&this.dispatchEvent(new en(o.data))};r.index.addEventListener(en.type,i),this.#i=()=>{r.index.removeEventListener(en.type,i)}}catch{this.#r.reject(new Error("Failed to load database"))}finally{this.#r=kD()}}};b();async function zU(e){let t=new sy(globalThis.indexedDB,"alinea"),n=new Uv(t);globalThis.onconnect=r=>{console.info("Worker connected");let i=r.ports[0];ay(n,i);let o=a=>{try{i.postMessage({...a,type:a.type})}catch{n.removeEventListener(en.type,o)}};n.addEventListener(en.type,o)};for await(let r of e)await n.load(r.revision,r.config,r.client)}b();var PU=class extends sm{constructor(e,t,n,r){super(),this.config=e,this.events=r,this.#e=t,this.#t=n}#e;#t;async mutate(e){let t=Qt();return{id:t,sha:await this.#e.queue(t,e)}}resolve(e){let n=wo(this.config).stringify(e);return this.#e.resolve(n)}sync(){return this.#e.sync()}prepareUpload(e){return this.#t.prepareUpload(e)}};var VU=D(L(),1);async function UU(e){if(Phe())zU(e);else{let n,r;try{[n,r]=zhe()}catch{console.warn("Shared worker not supported, falling back to local worker.");let c=new sy(globalThis.indexedDB,"alinea");n=r=new Uv(c)}let i=document.getElementsByTagName("script"),o=i[i.length-1],a=document.createElement("div");a.id="root",o.parentElement.replaceChild(a,o);let s=(0,HU.createRoot)(a),l;for await(let u of e){if(u.local&&u.revision!==l){let d=document.querySelector('link[href^="/config.css"]'),f=d.cloneNode();f.href=`/config.css?${u.revision}`,f.onload=()=>d.remove(),d.after(f)}if(r instanceof Uv&&await r.load(u.revision,u.config,u.client),u.revision!==l){let d=new PU(u.config,r,u.client,n);s.render((0,VU.jsx)(hU,{db:d,...u}))}l=u.revision}}}function zhe(){let e=new EventTarget,t=new SharedWorker(import.meta.url,{type:"module",name:"Alinea dashboard"});return t.port.addEventListener("message",({data:n})=>{n.type===en.type&&e.dispatchEvent(new en(n.data))}),[e,CC(t.port)]}function Phe(){return typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope}function jU(e,t,n){async function*r(){yield{local:!1,revision:"33fpIMq7b9hCCD9D9DJURA4uH7y",config:t.config,views:n,client:new ey({config:t.config,url:e})}}return UU(r())}b();b();var cs={};XR(cs,{create:()=>zw,document:()=>KU,media:()=>$U,page:()=>wU,root:()=>Fw,schema:()=>WN,snippet:()=>cH,track:()=>Wa,type:()=>Tn,workspace:()=>QN});b();b();function $U(e={}){return Fw("Media",{icon:tw,contains:["MediaLibrary"],view:Je.MediaExplorer,isMediaRoot:!0,children:{...e}})}b();b();var KD=D(L(),1);function qU(e){return(0,KD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,KD.jsx)("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})})}function Hhe(){return{title:cr("Title",{required:!0,width:.5}),path:vE("Path",{required:!0,width:.5}),metadata:gE()}}function KU(e,{fields:t,...n}){let{title:r,path:i,metadata:o}=Hhe(),a=Xw(Kg("Document",{icon:dp,fields:{title:r,path:i,...t}}),Kg("Metadata",{icon:qU,fields:{metadata:o}}));return Tn(e,{...n,fields:a})}var Vhe=cs.type("Tag",{fields:{title:vt.text("Tag Name",{width:.5,help:"Primary tag name (lowercase, singular)"}),slug:vt.path("Slug",{width:.5}),description:vt.text("Description",{multiline:!0,help:"40-160 characters recommended"}),color:vt.select("Color Category",{options:{blue:"Infrastructure",green:"Product",purple:"Design",orange:"Business",pink:"Career",cyan:"Technology"},initialValue:"blue"}),featured:vt.check("Featured Tag",{help:"Show in main navigation/filters"}),seoTitle:vt.text("SEO Title",{help:"Custom meta title for tag page"}),seoDescription:vt.text("SEO Description",{multiline:!0,help:"Custom meta description for tag page"})}}),Uhe=cs.type("Author",{fields:{title:vt.text("Full Name",{width:.5}),slug:vt.path("Slug",{width:.5}),avatar:vt.image("Avatar",{help:"Square image, min 400x400px"}),role:vt.text("Role/Title",{help:'e.g. "Software Engineer", "Founder"'}),bio:vt.text("Bio",{multiline:!0,help:"Short bio, 2-3 sentences max"}),website:vt.url("Website"),github:vt.text("GitHub Username"),linkedin:vt.text("LinkedIn Username"),twitter:vt.text("Twitter/X Username"),featured:vt.check("Featured Author",{help:"Show in team/contributors section"})}}),jhe=cs.type("Blog Post",{fields:{title:vt.text("Title",{width:.7,help:"Main article title"}),slug:vt.path("Slug",{width:.3}),excerpt:vt.text("Excerpt",{multiline:!0,help:"Short summary, 120-160 characters for SEO"}),coverImage:vt.image("Cover Image",{help:"16:9 ratio recommended, min 1200x675px"}),body:vt.richText("Article Content"),publishedAt:vt.date("Publish Date",{width:.33}),updatedAt:vt.date("Last Updated",{width:.33}),readingTime:vt.number("Reading Time (min)",{width:.34,help:"Auto-calculated or manual override",initialValue:5}),status:vt.select("Status",{options:{draft:"Draft",published:"Published",archived:"Archived"},initialValue:"draft",width:.5}),featured:vt.check("Featured Post",{width:.5,help:"Show in spotlight/hero sections"}),author:vt.entry("Author",{help:"Select post author"}),tags:vt.entry.multiple("Tag",{help:"Select post tags (max 5 recommended)"}),seoTitle:vt.text("SEO Title",{help:"Custom meta title (50-60 chars)"}),seoDescription:vt.text("SEO Description",{multiline:!0,help:"Custom meta description (120-160 chars)"}),ogImage:vt.image("Social Share Image",{help:"Custom OG image, 1200x630px"})}}),YU=sD({schema:{BlogPost:jhe,Author:Uhe,Tag:Vhe},workspaces:{main:cs.workspace("Blog Content",{source:"content",mediaDir:"public",roots:{posts:cs.root("Posts",{contains:["BlogPost"]}),authors:cs.root("Authors",{contains:["Author"]}),tags:cs.root("Tags",{contains:["Tag"]}),media:cs.media()}})},baseUrl:{development:"http://localhost:3000/blog",production:C.env.VERCEL_URL??"https://hasirciogli.com"},preview:!0,handlerUrl:"/api/cms",dashboardFile:"admin.html"});b();b();var WU=D($(),1),ol=D(L(),1),$he={"root-input":"alinea-CheckField-input",rootInput:"alinea-CheckField-input","root-checkmark":"alinea-CheckField-checkmark",rootCheckmark:"alinea-CheckField-checkmark","is-disabled":"alinea-CheckField-is-disabled",isDisabled:"alinea-CheckField-is-disabled","root-checkmark-icon":"alinea-CheckField-checkmark-icon",rootCheckmarkIcon:"alinea-CheckField-checkmark-icon","root-label":"alinea-CheckField-label",rootLabel:"alinea-CheckField-label"},_E=j($he);function GU({field:e}){let{value:t,mutator:n,label:r,options:i,error:o}=Ut(e),{description:a,readOnly:s}=i,[l,u]=(0,WU.useState)(!1);return(0,ol.jsx)(We,{asLabel:!0,...i,error:o,label:a?r:void 0,focused:l,icon:Aa,children:(0,ol.jsxs)(K,{center:!0,gap:10,style:{position:"relative",display:"inline-flex"},children:[(0,ol.jsx)("input",{className:_E.root.input(),type:"checkbox",checked:!!t,onChange:c=>{s||n(c.currentTarget.checked)},onFocus:()=>u(!0),onBlur:()=>u(!1),readOnly:s}),(0,ol.jsx)("span",{className:_E.root.checkmark({disabled:s}),children:t&&(0,ol.jsx)(te,{size:20,icon:qa,className:_E.root.checkmark.icon()})}),(0,ol.jsxs)(K,{center:!0,children:[(0,ol.jsx)(Ze,{label:a??r,className:_E.root.label({disabled:s})}),!a&&(0,ol.jsx)(f4,{label:"",help:i?.help,required:i?.required,shared:i?.shared})]})]})})}b();b();var YD=D(L(),1);function QU(e){return(0,YD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,YD.jsx)("path",{fill:"currentColor",d:"M8.7 15.9L4.8 12l3.9-3.9a.984.984 0 0 0 0-1.4a.984.984 0 0 0-1.4 0l-4.59 4.59a.996.996 0 0 0 0 1.41l4.59 4.6c.39.39 1.01.39 1.4 0a.984.984 0 0 0 0-1.4zm6.6 0l3.9-3.9l-3.9-3.9a.984.984 0 0 1 0-1.4a.984.984 0 0 1 1.4 0l4.59 4.59c.39.39.39 1.02 0 1.41l-4.59 4.6a.984.984 0 0 1-1.4 0a.984.984 0 0 1 0-1.4z"})})}b();var jv=D(L(),1),qhe={root:"alinea-TextareaAutosize","root-textarea":"alinea-TextareaAutosize-textarea",rootTextarea:"alinea-TextareaAutosize-textarea","root-shadow":"alinea-TextareaAutosize-shadow",rootShadow:"alinea-TextareaAutosize-shadow"},WD=j(qhe);function vm(e){return(0,jv.jsxs)("div",{className:WD.root(),children:[(0,jv.jsx)("textarea",{...e,className:WD.root.textarea.mergeProps(e)(),rows:1}),(0,jv.jsx)("div",{"aria-hidden":"true",className:WD.root.shadow.mergeProps(e)(),children:`${e.value||e.placeholder} `})]})}var JU=D($(),1),FE=D(L(),1),Khe={"root-input":"alinea-CodeField-input",rootInput:"alinea-CodeField-input"},Yhe=j(Khe);function XU({field:e}){let{value:t,mutator:n,label:r,options:i,error:o}=Ut(e),[a,s]=(0,JU.useState)(!1),l=i.inline?String(r):"";return(0,FE.jsx)(We,{asLabel:!0,...i,error:o,focused:a,icon:QU,empty:t==="",children:(0,FE.jsx)(K,{center:!0,gap:8,children:(0,FE.jsx)(vm,{className:Yhe.root.input(),type:"text",value:t||"",onChange:c=>n(c.currentTarget.value),onFocus:()=>s(!0),onBlur:()=>s(!1),placeholder:l,spellCheck:"false",readOnly:i.readOnly})})})}b();b();var GD=D(L(),1);function IE(e){return(0,GD.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,GD.jsx)("path",{fill:"currentColor",d:"M19 4h-1V3c0-.55-.45-1-1-1s-1 .45-1 1v1H8V3c0-.55-.45-1-1-1s-1 .45-1 1v1H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1V9h14v10zM7 11h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"})})}var QD=D(L(),1),Whe={"root-input":"alinea-DateField-input",rootInput:"alinea-DateField-input"},Ghe=j(Whe);function ZU({field:e}){let{options:t,value:n,mutator:r,error:i}=Ut(e);return(0,QD.jsx)(We,{asLabel:!0,...t,error:i,icon:IE,children:(0,QD.jsx)("input",{className:Ghe.root.input(),type:"date",value:n??"",onChange:o=>r(o.currentTarget.value),readOnly:t.readOnly})})}b();function ej(){return null}b();var ym=D($(),1),NE=D(L(),1),Qhe={"root-input":"alinea-JsonField-input",rootInput:"alinea-JsonField-input","is-valid":"alinea-JsonField-is-valid",isValid:"alinea-JsonField-is-valid"},Jhe=j(Qhe);function tj({field:e}){let{options:t,value:n,mutator:r,label:i,error:o}=Ut(e),[a,s]=(0,ym.useState)(JSON.stringify(n,null,2)),[l,u]=(0,ym.useState)(!0),[c,d]=(0,ym.useState)(!1),{inline:f,autoFocus:h}=t,p=f?String(i):"",m=n==="";return(0,ym.useEffect)(()=>{try{let v=JSON.parse(a);r(v),u(!0)}catch{u(!a)}},[a]),(0,NE.jsx)(We,{asLabel:!0,...t,error:o,focused:c,icon:Aa,empty:m,children:(0,NE.jsx)(K,{center:!0,gap:8,children:(0,NE.jsx)(vm,{className:Jhe.root.input({valid:l}),type:"text",value:a||"",onChange:v=>s(v.currentTarget.value),onFocus:()=>d(!0),onKeyDown:v=>{if(v.key==="Tab"){let g=v.target,y=g.selectionStart,w=g.selectionEnd,x=g.value;w!==x.length&&(v.preventDefault(),g.value=`${x.substring(0,y)}  ${x.substring(w)}`,g.selectionStart=g.selectionEnd=y+2)}},onBlur:()=>{d(!1),l&&s(JSON.stringify(n,null,2))},placeholder:p,autoFocus:h,readOnly:t.readOnly})})})}b();b();var hi=D($(),1),ie=D($(),1),pj=D(Ei(),1),Mf=D($(),1),$n=D($(),1);function Xhe(...e){return(0,hi.useMemo)(()=>t=>{e.forEach(n=>n(t))},e)}var i6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wm=i6?hi.useLayoutEffect:hi.useEffect;function Zhe(){let e=(0,hi.useRef)(null),t=(0,hi.useCallback)((r,i)=>{e.current=setInterval(r,i)},[]),n=(0,hi.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function xm(e,t){let n=(0,hi.useRef)();return(0,hi.useMemo)(()=>{let r=e(n.current);return n.current=r,r},[...t])}function o6(){let e=(0,hi.useRef)(null),t=(0,hi.useCallback)(n=>{e.current=n},[]);return[e,t]}var JD={};function a6(e,t){return(0,hi.useMemo)(()=>{if(t)return t;let n=JD[e]==null?0:JD[e]+1;return JD[e]=n,`${e}-${n}`},[e,t])}function fj(e){return(t,...n)=>n.reduce((r,i)=>{let o=Object.entries(i);for(let[a,s]of o){let l=r[a];l!=null&&(r[a]=l+e*s)}return r},{...t})}var qv=fj(1),hj=fj(-1),ds=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return`translate3d(${t?Math.round(t):0}px, ${n?Math.round(n):0}px, 0)`}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return`scaleX(${t}) scaleY(${n})`}},Transform:{toString(e){if(e)return[ds.Translate.toString(e),ds.Scale.toString(e)].join(" ")}},Transition:{toString({property:e,duration:t,easing:n}){return`${e} ${t}ms ${n}`}}}),epe={display:"none"};function tpe(e){let{id:t,value:n}=e;return Mf.default.createElement("div",{id:t,style:epe},n)}function npe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e,i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Mf.default.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function rpe(){let[e,t]=(0,Mf.useState)("");return{announce:(0,Mf.useCallback)(r=>{r!=null&&t(r)},[]),announcement:e}}var ipe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ope={onDragStart(e){return`Picked up draggable item ${e}.`},onDragOver(e,t){return t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`},onDragEnd(e,t){return t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`},onDragCancel(e){return`Dragging was cancelled. Draggable item ${e} was dropped.`}},Xt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Xt||(Xt={}));var ape=e=>gj(e,(t,n)=>t>n),mj=e=>gj(e,(t,n)=>t<n);function gj(e,t){if(e.length===0)return-1;let n=e[0],r=0;for(var i=1;i<e.length;i++)t(e[i],n)&&(r=i,n=e[i]);return r}function XD(...e){}function spe(e,t){let{[e]:n,...r}=t;return r}var $E=(0,ie.createContext)({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:XD,draggableNodes:{},droppableRects:new Map,droppableContainers:{},over:null,overlayNode:{nodeRef:{current:null},rect:null,setRef:XD},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:XD,windowRect:null,willRecomputeLayouts:!1}),Qc=Object.freeze({x:0,y:0});function vj(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lpe(e){var t;return((t=window)==null?void 0:t.TouchEvent)&&e instanceof TouchEvent}function upe(e){var t;return((t=window)==null?void 0:t.MouseEvent)&&e instanceof MouseEvent||e.type.includes("mouse")}function HE(e){if(lpe(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return upe(e)?{x:e.clientX,y:e.clientY}:{x:0,y:0}}function cpe(e,t){if(e instanceof KeyboardEvent)return"0 0";let n=HE(e),r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return`${r.x}% ${r.y}%`}function nj(e,t=e.offsetLeft,n=e.offsetTop){return{x:t+e.width*.5,y:n+e.height*.5}}var qE=(e,t)=>{let n=nj(t,t.left,t.top),r=e.map(([o,a])=>vj(nj(a),n)),i=mj(r);return e[i]?e[i][0]:null};function dpe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function fpe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Qc}function hpe(e){return function(n,...r){return r.reduce((i,o)=>({...i,top:i.top+e*o.y,bottom:i.bottom+e*o.y,left:i.left+e*o.x,right:i.right+e*o.x,offsetLeft:i.offsetLeft+e*o.x,offsetTop:i.offsetTop+e*o.y}),{...n})}}var rj=hpe(1);function ppe(e){let t=window.getComputedStyle(e),n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].find(i=>{let o=t[i];return typeof o=="string"?n.test(o):!1})!=null}function s6(e){let t=[];function n(r){return r?r instanceof Document&&r.scrollingElement!=null?(t.push(r.scrollingElement),t):!(r instanceof HTMLElement)||r instanceof SVGElement?t:(ppe(r)&&t.push(r),n(r.parentNode)):t}return e?n(e.parentNode):t}function ZD(e){return i6?e===document.scrollingElement||e instanceof Document?window:e instanceof HTMLElement?e:null:null}function e6(e){return e instanceof Window?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var bm;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bm||(bm={}));function yj(e){let t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},r=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:r,isLeft:i,isBottom:o,isRight:a,maxScroll:n,minScroll:t}}function mpe(e){return!i6||!e?!1:e===document.scrollingElement}var gpe={x:.2,y:.2};function vpe(e,t,{top:n,left:r,right:i,bottom:o},a=10,s=gpe){let{clientHeight:l,clientWidth:u}=e,c=mpe(e)?{top:0,left:0,right:u,bottom:l,width:u,height:l}:t,{isTop:d,isBottom:f,isLeft:h,isRight:p}=yj(e),m={x:0,y:0},v={x:0,y:0},g={height:c.height*s.y,width:c.width*s.x};return!d&&n<=c.top+g.height?(m.y=bm.Backward,v.y=a*Math.abs((c.top+g.height-n)/g.height)):!f&&o>=c.bottom-g.height&&(m.y=bm.Forward,v.y=a*Math.abs((c.bottom-g.height-o)/g.height)),!p&&i>=c.right-g.width?(m.x=bm.Forward,v.x=a*Math.abs((c.right-g.width-i)/g.width)):!h&&r<=c.left+g.width&&(m.x=bm.Backward,v.x=a*Math.abs((c.left+g.width-r)/g.width)),{direction:m,speed:v}}function ype(e){if(e===document.scrollingElement){let{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}let{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function bj(e){return e.reduce((t,n)=>qv(t,e6(n)),Qc)}function wj(e,t,n=Qc){if(!e||!(e instanceof HTMLElement))return n;let r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:wj(e.offsetParent,t,r)}function l6(e){let{offsetWidth:t,offsetHeight:n}=e,{x:r,y:i}=wj(e,null);return{width:t,height:n,offsetTop:i,offsetLeft:r}}function KE(e){if(e instanceof Window){let u=window.innerWidth,c=window.innerHeight;return{top:0,left:0,right:u,bottom:c,width:u,height:c,offsetTop:0,offsetLeft:0}}let{offsetTop:t,offsetLeft:n}=l6(e),{width:r,height:i,top:o,bottom:a,left:s,right:l}=e.getBoundingClientRect();return{width:r,height:i,top:o,bottom:a,right:l,left:s,offsetTop:t,offsetLeft:n}}function VE(e){let{width:t,height:n,offsetTop:r,offsetLeft:i}=l6(e),o=s6(e),a=bj(o),s=r-a.y,l=i-a.x;return{width:t,height:n,top:s,bottom:s+n,right:l+t,left:l,offsetTop:r,offsetLeft:i}}function ij(e){return"top"in e}function oj(e,t=e.offsetLeft,n=e.offsetTop){return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}var bpe=(e,t)=>{let n=oj(t,t.left,t.top),r=e.map(([o,a])=>{let s=oj(a,ij(a)?a.left:void 0,ij(a)?a.top:void 0),l=n.reduce((u,c,d)=>u+vj(s[d],c),0);return Number((l/4).toFixed(4))}),i=mj(r);return e[i]?e[i][0]:null};function wpe(e,t){let n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),i=Math.min(t.left+t.width,e.offsetLeft+e.width),o=Math.min(t.top+t.height,e.offsetTop+e.height),a=i-r,s=o-n;if(r<i&&n<o){let l=t.width*t.height,u=e.width*e.height,c=a*s,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}var xpe=(e,t)=>{let n=e.map(([i,o])=>wpe(o,t)),r=ape(n);return n[r]<=0?null:e[r]?e[r][0]:null};function Em(e){return e instanceof HTMLElement?e.ownerDocument:document}function Epe(e){var t;return(t=Em(e).defaultView)!=null?t:window}function Spe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:{}}}}function Cpe(e,t){switch(t.type){case Xt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Xt.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Xt.DragEnd:case Xt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xt.RegisterDroppable:{let{element:n}=t,{id:r}=n;return{...e,droppable:{...e.droppable,containers:{...e.droppable.containers,[r]:n}}}}case Xt.SetDroppableDisabled:{let{id:n,disabled:r}=t,i=e.droppable.containers[n];return i?{...e,droppable:{...e.droppable,containers:{...e.droppable.containers,[n]:{...i,disabled:r}}}}:e}case Xt.UnregisterDroppable:{let{id:n}=t;return{...e,droppable:{...e.droppable,containers:spe(n,e.droppable.containers)}}}default:return e}}var xj=(0,ie.createContext)({type:null,event:null});function Ape({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:r,onDragCancel:i}){let o=(0,ie.useContext)(xj),a=(0,ie.useRef)(o);(0,ie.useEffect)(()=>{if(o!==a.current){let{type:s,event:l}=o;switch(s){case Xt.DragStart:e?.(l);break;case Xt.DragMove:t?.(l);break;case Xt.DragOver:n?.(l);break;case Xt.DragCancel:i?.(l);break;case Xt.DragEnd:r?.(l);break}a.current=o}},[o,e,t,n,r,i])}function Tpe({announcements:e=ope,hiddenTextDescribedById:t,screenReaderInstructions:n}){let{announce:r,announcement:i}=rpe(),o=a6("DndLiveRegion"),[a,s]=(0,ie.useState)(!1);return(0,ie.useEffect)(()=>{s(!0)},[]),Ape((0,ie.useMemo)(()=>({onDragStart({active:l}){r(e.onDragStart(l.id))},onDragMove({active:l,over:u}){e.onDragMove&&r(e.onDragMove(l.id,u?.id))},onDragOver({active:l,over:u}){r(e.onDragOver(l.id,u?.id))},onDragEnd({active:l,over:u}){r(e.onDragEnd(l.id,u?.id))},onDragCancel({active:l}){r(e.onDragCancel(l.id))}}),[r,e])),a?(0,pj.createPortal)(ie.default.createElement(ie.default.Fragment,null,ie.default.createElement(tpe,{id:t,value:n.draggable}),ie.default.createElement(npe,{id:o,announcement:i})),document.body):null}var $v;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})($v||($v={}));var UE;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(UE||(UE={}));function kpe({acceleration:e,activator:t=$v.Pointer,canScroll:n,draggingRect:r,enabled:i,interval:o=5,order:a=UE.TreeOrder,pointerCoordinates:s,scrollableAncestors:l,scrollableAncestorRects:u,threshold:c}){let[d,f]=Zhe(),h=(0,ie.useRef)({x:1,y:1}),p=(0,ie.useMemo)(()=>{switch(t){case $v.Pointer:return s?{top:s.y,bottom:s.y,left:s.x,right:s.x}:null;case $v.DraggableRect:return r}return null},[t,r,s]),m=(0,ie.useRef)(Qc),v=(0,ie.useRef)(null),g=(0,ie.useCallback)(()=>{let w=v.current;if(!w)return;let x=h.current.x*m.current.x,S=h.current.y*m.current.y;w.scrollBy(x,S)},[]),y=(0,ie.useMemo)(()=>a===UE.TreeOrder?[...l].reverse():l,[a,l]);(0,ie.useEffect)(()=>{if(!i||!l.length||!p){f();return}for(let w of y){if(n?.(w)===!1)continue;let x=l.indexOf(w),S=u[x];if(!S)continue;let{direction:E,speed:k}=vpe(w,S,p,e,c);if(k.x>0||k.y>0){f(),v.current=w,d(g,o),h.current=k,m.current=E;return}}h.current={x:0,y:0},m.current={x:0,y:0},f()},[e,g,n,f,i,o,JSON.stringify(p),d,l,y,u,JSON.stringify(c)])}function Dpe(e,t){let n=t!==null?e[t]:void 0,r=n?n.node.current:null;return xm(i=>{var o;return t===null?null:(o=r??i)!=null?o:null},[r,t])}function Mpe(e,t){return(0,ie.useMemo)(()=>e.reduce((n,r)=>{let{sensor:i}=r,o=i.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...o]},[]),[e,t])}function Ej(e){let t=(0,ie.useRef)(e);return wm(()=>{t.current!==e&&(t.current=e)},[e]),t}var mu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(mu||(mu={}));var t6;(function(e){e.Optimized="optimized"})(t6||(t6={}));var aj=new Map;function Rpe(e,{dragging:t,dependencies:n,config:r}){let[i,o]=(0,ie.useState)(!1),{frequency:a,strategy:s}=Bpe(r),l=(0,ie.useRef)(e),u=(0,ie.useCallback)(()=>o(!0),[]),c=(0,ie.useRef)(null),d=h(),f=xm(p=>{if(d&&!t)return aj;if(!p||p===aj||l.current!==e||i){for(let m of Object.values(e))m&&(m.rect.current=m.node.current?l6(m.node.current):null);return Ope(e)}return p},[e,t,d,i]);return(0,ie.useEffect)(()=>{l.current=e},[e]),(0,ie.useEffect)(()=>{i&&o(!1)},[i]),(0,ie.useEffect)(function(){d||requestAnimationFrame(u)},[t,d]),(0,ie.useEffect)(function(){d||typeof a!="number"||c.current!==null||(c.current=setTimeout(()=>{u(),c.current=null},a))},[a,d,u,...n]),{layoutRectMap:f,recomputeLayouts:u,willRecomputeLayouts:i};function h(){switch(s){case mu.Always:return!1;case mu.BeforeDragging:return t;default:return!t}}}function Ope(e){let t=new Map;if(e)for(let n of Object.values(e)){if(!n)continue;let{id:r,rect:i,disabled:o}=n;o||i.current==null||t.set(r,i.current)}return t}var sj={strategy:mu.WhileDragging,frequency:t6.Optimized};function Bpe(e){return e?{...sj,...e}:sj}function _pe(e){let[t,n]=(0,ie.useState)(null),r=(0,ie.useRef)(e),i=(0,ie.useCallback)(o=>{let a=ZD(o.target);a&&n(s=>s?(s.set(a,e6(a)),new Map(s)):null)},[]);return(0,ie.useEffect)(()=>{let o=r.current;if(e!==o){a(o);let s=e.map(l=>{let u=ZD(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,e6(u)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=e}return()=>{a(e),a(o)};function a(s){s.forEach(l=>{let u=ZD(l);u?.removeEventListener("scroll",i)})}},[i,e]),(0,ie.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((o,a)=>qv(o,a),Qc):bj(e):Qc,[e,t])}var Fpe=[];function Ipe(e){let t=(0,ie.useRef)(e),n=xm(r=>e?r&&e&&t.current&&e.parentNode===t.current.parentNode?r:s6(e):Fpe,[e]);return(0,ie.useEffect)(()=>{t.current=e},[e]),n}function Npe(e,t){return(0,ie.useMemo)(()=>e.reduce((n,{eventName:r,handler:i})=>(n[r]=o=>{i(o,t)},n),{}),[e,t])}var LE=Sj(KE),Lpe=Ppe(KE),zpe=Sj(VE);function Sj(e){return function(n,r){let i=(0,ie.useRef)(n);return xm(o=>n?r||!o&&n||n!==i.current?n instanceof HTMLElement&&n.parentNode==null?null:e(n):o??null:null,[n,r])}}function Ppe(e){let t=[];return function(r,i){let o=(0,ie.useRef)(r);return xm(a=>r.length?i||!a&&r.length||r!==o.current?r.map(s=>e(s)):a??t:t,[r,i])}}function Sm(e,t){return(0,ie.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function YE(...e){return(0,ie.useMemo)(()=>[...e].filter(t=>t!=null),[...e])}var n6=class{constructor(e){this.target=e,this.listeners=[]}add(e,t,n){this.target.addEventListener(e,t,n),this.listeners.push({eventName:e,handler:t})}removeAll(){this.listeners.forEach(({eventName:e,handler:t})=>this.target.removeEventListener(e,t))}};function Hpe(e){return e instanceof EventTarget?e:Em(e)}function lj(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var bt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(bt||(bt={}));var Cj={start:[bt.Space,bt.Enter],cancel:[bt.Esc],end:[bt.Space,bt.Enter]},Vpe=(e,{currentCoordinates:t})=>{switch(e.code){case bt.Right:return{...t,x:t.x+25};case bt.Left:return{...t,x:t.x-25};case bt.Down:return{...t,y:t.y+25};case bt.Up:return{...t,y:t.y-25}}},Cm=class{constructor(e){this.props=e,this.autoScrollEnabled=!1,this.coordinates=Qc;let{event:{target:t}}=e;this.props=e,this.listeners=new n6(Em(t)),this.windowListeners=new n6(Epe(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),setTimeout(()=>{this.listeners.add("keydown",this.handleKeyDown),this.windowListeners.add("resize",this.handleCancel)})}handleStart(){let{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");let n=KE(e.node.current),r={x:n.left,y:n.top};this.coordinates=r,t(r)}handleKeyDown(e){if(e instanceof KeyboardEvent){let{coordinates:t}=this,{active:n,context:r,options:i}=this.props,{keyboardCodes:o=Cj,coordinateGetter:a=Vpe,scrollBehavior:s="smooth"}=i,{code:l}=e;if(o.end.includes(l)){this.handleEnd(e);return}if(o.cancel.includes(l)){this.handleCancel(e);return}let u=a(e,{active:n,context:r.current,currentCoordinates:t});if(u){let c={x:0,y:0},{scrollableAncestors:d}=r.current;for(let f of d){let h=e.code,p=hj(u,t),{isTop:m,isRight:v,isLeft:g,isBottom:y,maxScroll:w,minScroll:x}=yj(f),S=ype(f),E={x:Math.min(h===bt.Right?S.right-S.width/2:S.right,Math.max(h===bt.Right?S.left:S.left+S.width/2,u.x)),y:Math.min(h===bt.Down?S.bottom-S.height/2:S.bottom,Math.max(h===bt.Down?S.top:S.top+S.height/2,u.y))},k=h===bt.Right&&!v||h===bt.Left&&!g,A=h===bt.Down&&!y||h===bt.Up&&!m;if(k&&E.x!==u.x){if(h===bt.Right&&f.scrollLeft+p.x<=w.x||h===bt.Left&&f.scrollLeft+p.x>=x.x){f.scrollBy({left:p.x,behavior:s});return}c.x=h===bt.Right?f.scrollLeft-w.x:f.scrollLeft-x.x,f.scrollBy({left:-c.x,behavior:s});break}else if(A&&E.y!==u.y){if(h===bt.Down&&f.scrollTop+p.y<=w.y||h===bt.Up&&f.scrollTop+p.y>=x.y){f.scrollBy({top:p.y,behavior:s});return}c.y=h===bt.Down?f.scrollTop-w.y:f.scrollTop-x.y,f.scrollBy({top:-c.y,behavior:s});break}}this.handleMove(e,qv(u,c))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Cm.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=Cj,onActivation:n})=>{let{code:r}=e.nativeEvent;return t.start.includes(r)?(e.preventDefault(),n?.({event:e.nativeEvent}),!0):!1}}];function uj(e){return!!(e&&"distance"in e)}function cj(e){return!!(e&&"delay"in e)}var jE;(function(e){e.Keydown="keydown"})(jE||(jE={}));var u6=class{constructor(e,t,n=Hpe(e.event.target)){this.props=e,this.events=t,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;let{event:r}=e;this.props=e,this.events=t,this.ownerDocument=Em(r.target),this.listeners=new n6(n),this.initialCoordinates=HE(r),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,!1),this.listeners.add(e.end.name,this.handleEnd),this.ownerDocument.addEventListener(jE.Keydown,this.handleKeydown),t){if(uj(t))return;if(cj(t)){this.timeoutId=setTimeout(this.handleStart,t.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.ownerDocument.removeEventListener(jE.Keydown,this.handleKeydown),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,t(e))}handleMove(e){let{activated:t,initialCoordinates:n,props:r}=this,{onMove:i,options:{activationConstraint:o}}=r;if(!n)return;let a=HE(e),s=hj(n,a);if(!t&&o){if(cj(o))return lj(s,o.tolerance)?this.handleCancel():void 0;if(uj(o))return lj(s,o.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),i(a)}handleEnd(){let{onEnd:e}=this.props;this.detach(),e()}handleCancel(){let{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===bt.Esc&&this.handleCancel()}},Upe={move:{name:"pointermove"},end:{name:"pointerup"}},Am=class extends u6{constructor(e){let{event:t}=e,n=Em(t.target);super(e,Upe,n)}};Am.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!e.isPrimary||e.button!==0?!1:(t?.({event:e}),!0)}];var jpe={move:{name:"mousemove"},end:{name:"mouseup"}},r6;(function(e){e[e.RightClick=2]="RightClick"})(r6||(r6={}));var $pe=class extends u6{constructor(e){super(e,jpe,Em(e.event.target))}};$pe.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button===r6.RightClick?!1:(t?.({event:e}),!0)}];var qpe={move:{name:"touchmove"},end:{name:"touchend"}},Kpe=class extends u6{constructor(e){super(e,qpe)}};Kpe.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{let{touches:n}=e;return n.length>1?!1:(t?.({event:e}),!0)}}];function Aj(e,{transform:t,...n}){return e?.length?e.reduce((r,i)=>i({transform:r,...n}),t):t}var Ype=[{sensor:Am,options:{}},{sensor:Cm,options:{}}],Wpe={current:{}},c6=(0,ie.createContext)({...Qc,scaleX:1,scaleY:1}),WE=(0,ie.memo)(function({id:t,autoScroll:n=!0,announcements:r,children:i,sensors:o=Ype,collisionDetection:a=xpe,layoutMeasuring:s,modifiers:l,screenReaderInstructions:u=ipe,...c}){var d,f,h;let p=(0,ie.useReducer)(Cpe,void 0,Spe),[m,v]=p,[g,y]=(0,ie.useState)(()=>({type:null,event:null})),{draggable:{active:w,nodes:x,translate:S},droppable:{containers:E}}=m,k=w?x[w]:null,A=(0,ie.useRef)({initial:null,translated:null}),T=(0,ie.useMemo)(()=>{var Zn;return w!=null?{id:w,data:(Zn=k?.data)!=null?Zn:Wpe,rect:A}:null},[w,k]),R=(0,ie.useRef)(null),[M,O]=(0,ie.useState)(null),[B,_]=(0,ie.useState)(null),z=(0,ie.useRef)(c),V=a6("DndDescribedBy",t),{layoutRectMap:P,recomputeLayouts:F,willRecomputeLayouts:U}=Rpe(E,{dragging:w!=null,dependencies:[S.x,S.y],config:s}),I=Dpe(x,w),Q=B?HE(B):null,N=zpe(I),H=LE(I),G=(0,ie.useRef)(null),Y=G.current,ne=fpe(N,Y),ae=(0,ie.useRef)({active:null,activeNode:I,collisionRect:null,droppableRects:P,draggableNodes:x,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),ce=Gpe((d=(f=ae.current.over)==null?void 0:f.id)!=null?d:null,E),Ee=LE(I?I.ownerDocument.defaultView:null),be=LE(I?I.parentElement:null),Se=Ipe(w?ce??I:null),pe=Lpe(Se),[ye,Pe]=o6(),nt=LE(w?ye.current:null,U),re=nt??H,ue=Aj(l,{transform:{x:S.x-ne.x,y:S.y-ne.y,scaleX:1,scaleY:1},active:T,over:ae.current.over,activeNodeRect:H,draggingNodeRect:re,containerNodeRect:be,overlayNodeRect:nt,scrollableAncestors:Se,scrollableAncestorRects:pe,windowRect:Ee}),Ae=Q?qv(Q,S):null,Xe=_pe(Se),Dt=qv(ue,Xe),Mt=N?rj(N,ue):null,An=Mt?rj(Mt,Xe):null,_n=T&&An?a(Array.from(P.entries()),An):null,Fn=Qpe(_n,E),Fr=(0,ie.useMemo)(()=>Fn&&Fn.rect.current?{id:Fn.id,rect:Fn.rect.current,data:Fn.data,disabled:Fn.disabled}:null,[Fn]),ml=dpe(ue,(h=Fn?.rect.current)!=null?h:null,N),gl=(0,ie.useCallback)((Zn,{sensor:vr,options:q})=>{if(!R.current)return;let ve=x[R.current];if(!ve)return;let Re=new vr({active:R.current,activeNode:ve,event:Zn.nativeEvent,options:q,context:ae,onStart(Ue){let Kn=R.current;if(!Kn)return;let yr=x[Kn];if(!yr)return;let{onDragStart:Ba}=z.current,ku={active:{id:Kn,data:yr.data,rect:A}};v({type:Xt.DragStart,initialCoordinates:Ue,active:Kn}),y({type:Xt.DragStart,event:ku}),Ba?.(ku)},onMove(Ue){v({type:Xt.DragMove,coordinates:Ue})},onEnd:Ct(Xt.DragEnd),onCancel:Ct(Xt.DragCancel)});O(Re),_(Zn.nativeEvent);function Ct(Ue){return async function(){let{active:yr,over:Ba,scrollAdjustedTranslate:ku}=ae.current,bo=null;if(yr&&ku){let{cancelDrop:Du}=z.current;bo={active:yr,delta:ku,over:Ba},Ue===Xt.DragEnd&&typeof Du=="function"&&await Promise.resolve(Du(bo))&&(Ue=Xt.DragCancel)}if(R.current=null,v({type:Ue}),O(null),_(null),bo){let{onDragCancel:Du,onDragEnd:hd}=z.current,vl=Ue===Xt.DragEnd?hd:Du;y({type:Ue,event:bo}),vl?.(bo)}}}},[v,x]),Tu=(0,ie.useCallback)((Zn,vr)=>(q,ve)=>{let Re=q.nativeEvent;R.current!==null||Re.dndKit||Re.defaultPrevented||Zn(q,vr.options)===!0&&(Re.dndKit={capturedBy:vr.sensor},R.current=ve,gl(q,vr))},[gl]),Wf=Mpe(o,Tu);wm(()=>{z.current=c},Object.values(c)),(0,ie.useEffect)(()=>{T||(G.current=null),T&&N&&!G.current&&(G.current=N)},[N,T]),(0,ie.useEffect)(()=>{let{onDragMove:Zn}=z.current,{active:vr,over:q}=ae.current;if(!vr)return;let ve={active:vr,delta:{x:Dt.x,y:Dt.y},over:q};y({type:Xt.DragMove,event:ve}),Zn?.(ve)},[Dt.x,Dt.y]),(0,ie.useEffect)(()=>{let{active:Zn,scrollAdjustedTranslate:vr}=ae.current;if(!Zn||!R.current||!vr)return;let{onDragOver:q}=z.current,ve={active:Zn,delta:{x:vr.x,y:vr.y},over:Fr};y({type:Xt.DragOver,event:ve}),q?.(ve)},[Fr?.id]),wm(()=>{ae.current={active:T,activeNode:I,collisionRect:An,droppableRects:P,draggableNodes:x,draggingNodeRect:re,droppableContainers:E,over:Fr,scrollableAncestors:Se,scrollAdjustedTranslate:Dt,translatedRect:Mt},A.current={initial:re,translated:Mt}},[T,I,An,x,re,P,E,Fr,Se,Dt,Mt]),kpe({...U1(),draggingRect:Mt,pointerCoordinates:Ae,scrollableAncestors:Se,scrollableAncestorRects:pe});let Jm=(0,ie.useMemo)(()=>({active:T,activeNode:I,activeNodeRect:N,activeNodeClientRect:H,activatorEvent:B,activators:Wf,ariaDescribedById:{draggable:V},overlayNode:{nodeRef:ye,rect:nt,setRef:Pe},containerNodeRect:be,dispatch:v,draggableNodes:x,droppableContainers:E,droppableRects:P,over:Fr,recomputeLayouts:F,scrollableAncestors:Se,scrollableAncestorRects:pe,willRecomputeLayouts:U,windowRect:Ee}),[T,I,H,N,B,Wf,be,nt,ye,v,x,V,E,P,Fr,F,Se,pe,Pe,U,Ee]);return ie.default.createElement(xj.Provider,{value:g},ie.default.createElement($E.Provider,{value:Jm},ie.default.createElement(c6.Provider,{value:ml},i)),ie.default.createElement(Tpe,{announcements:r,hiddenTextDescribedById:V,screenReaderInstructions:u}));function U1(){let Zn=M?.autoScrollEnabled===!1,vr=typeof n=="object"?n.enabled===!1:n===!1,q=!Zn&&!vr;return typeof n=="object"?{...n,enabled:q}:{enabled:q}}});function Gpe(e,t){var n,r;return e&&(n=(r=t[e])==null?void 0:r.node.current)!=null?n:null}function Qpe(e,t){var n;return e&&(n=t[e])!=null?n:null}var Jpe=(0,ie.createContext)(null),dj="button";function Xpe({id:e,data:t,disabled:n=!1,attributes:r}){let{active:i,activeNodeRect:o,activatorEvent:a,ariaDescribedById:s,draggableNodes:l,droppableRects:u,activators:c,over:d}=(0,ie.useContext)($E),{role:f=dj,roleDescription:h="draggable",tabIndex:p=0}=r??{},m=i?.id===e,v=(0,ie.useContext)(m?c6:Jpe),[g,y]=o6(),w=Npe(c,e),x=Ej(t);(0,ie.useEffect)(()=>(l[e]={node:g,data:x},()=>{delete l[e]}),[l,e]);let S=(0,ie.useMemo)(()=>({role:f,tabIndex:p,"aria-pressed":m&&f===dj?!0:void 0,"aria-roledescription":h,"aria-describedby":s.draggable}),[f,p,m,h,s.draggable]);return{active:i,activeNodeRect:o,activatorEvent:a,attributes:S,droppableRects:u,isDragging:m,listeners:n?void 0:w,node:g,over:d,setNodeRef:y,transform:v}}function Tj(){return(0,ie.useContext)($E)}function Zpe({data:e,disabled:t=!1,id:n}){let{active:r,dispatch:i,over:o}=(0,ie.useContext)($E),a=(0,ie.useRef)(null),[s,l]=o6(),u=Ej(e);return wm(()=>(i({type:Xt.RegisterDroppable,element:{id:n,disabled:t,node:s,rect:a,data:u}}),()=>i({type:Xt.UnregisterDroppable,id:n})),[n]),(0,ie.useEffect)(()=>{i({type:Xt.SetDroppableDisabled,id:n,disabled:t})},[t]),{active:r,rect:a,isOver:o?.id===n,node:s,over:o,setNodeRef:l}}function eme(e,t,n){let r=(0,ie.useRef)(t);return xm(i=>{let o=r.current;if(t!==o){if(t&&o&&(o.left!==t.left||o.top!==t.top)&&!i){let s=n?.getBoundingClientRect();if(s)return{...e,x:s.left-t.left,y:s.top-t.top}}r.current=t}},[t,e,n])}function tme({animate:e,adjustScale:t,activeId:n,draggableNodes:r,duration:i,easing:o,dragSourceOpacity:a,node:s,transform:l}){let[u,c]=(0,ie.useState)(!1);return(0,ie.useEffect)(()=>{if(!e||!n||!o||!i){e&&c(!0);return}requestAnimationFrame(()=>{var d;let f=(d=r[n])==null?void 0:d.node.current;if(l&&s&&f&&f.parentNode!==null){let h=s.children.length>1?s:s.children[0];if(h){let p=h.getBoundingClientRect(),m=VE(f),v={x:p.left-m.left,y:p.top-m.top};if(Math.abs(v.x)||Math.abs(v.y)){let g={scaleX:t?m.width*l.scaleX/p.width:1,scaleY:t?m.height*l.scaleY/p.height:1},y=ds.Transform.toString({x:l.x-v.x,y:l.y-v.y,...g}),w=f.style.opacity;a!=null&&(f.style.opacity=`${a}`);let x=s.animate([{transform:ds.Transform.toString(l)},{transform:y}],{easing:o,duration:i});x.onfinish=()=>{s.style.display="none",c(!0),f&&a!=null&&(f.style.opacity=w)};return}}}c(!0)})},[e,n,t,r,i,o,a,s,l]),wm(()=>{u&&c(!1)},[u]),u}var nme=e=>e instanceof KeyboardEvent?"transform 250ms ease":void 0,Kv={duration:250,easing:"ease",dragSourceOpacity:0},GE=ie.default.memo(({adjustScale:e=!1,children:t,dropAnimation:n=Kv,style:r,transition:i=nme,modifiers:o,wrapperElement:a="div",className:s,zIndex:l=999})=>{var u,c;let{active:d,activeNodeRect:f,activeNodeClientRect:h,containerNodeRect:p,draggableNodes:m,activatorEvent:v,over:g,overlayNode:y,scrollableAncestors:w,scrollableAncestorRects:x,windowRect:S}=Tj(),E=(0,ie.useContext)(c6),k=Aj(o,{active:d,activeNodeRect:h,draggingNodeRect:y.rect,containerNodeRect:p,over:g,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:x,transform:E,windowRect:S}),A=eme(k,f,y.nodeRef.current),T=d!==null,R=A??k,M=e?R:{...R,scaleX:1,scaleY:1},O=f?{position:"fixed",width:f.width,height:f.height,top:f.top,left:f.left,zIndex:l,transform:ds.Transform.toString(M),touchAction:"none",transformOrigin:e&&v?cpe(v,f):void 0,transition:A?void 0:typeof i=="function"?i(v):i,...r}:void 0,B=T?{style:O,children:t,className:s,transform:M}:void 0,_=(0,ie.useRef)(B),z=B??_.current,{children:V,transform:P,...F}=z??{},U=(0,ie.useRef)((u=d?.id)!=null?u:null),I=tme({animate:!!(n&&U.current&&!d),adjustScale:e,activeId:U.current,draggableNodes:m,duration:n?.duration,easing:n?.easing,dragSourceOpacity:n?.dragSourceOpacity,node:y.nodeRef.current,transform:(c=_.current)==null?void 0:c.transform}),Q=!!(V&&(t||n&&!I));return(0,ie.useEffect)(()=>{if(d?.id!==U.current){var N;U.current=(N=d?.id)!=null?N:null}d&&_.current!==B&&(_.current=B)},[d,B]),(0,ie.useEffect)(()=>{I&&(_.current=void 0)},[I]),Q?ie.default.createElement(a,{...F,ref:y.setRef},V):null});function kj(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function rme(e,t){return e.reduce((n,r,i)=>{let o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function zE(e){return e!==null&&e>=0}var Dj=({layoutRects:e,activeIndex:t,overIndex:n,index:r})=>{let i=kj(e,n,t),o=e[r],a=i[r];return!a||!o?null:{x:a.offsetLeft-o.offsetLeft,y:a.offsetTop-o.offsetTop,scaleX:a.width/o.width,scaleY:a.height/o.height}},PE={scaleX:1,scaleY:1},QE=({activeIndex:e,activeNodeRect:t,index:n,layoutRects:r,overIndex:i})=>{var o;let a=(o=r[e])!=null?o:t;if(!a)return null;if(n===e){let l=r[i];return l?{x:0,y:e<i?l.offsetTop+l.height-(a.offsetTop+a.height):l.offsetTop-a.offsetTop,...PE}:null}let s=ime(r,n,e);return n>e&&n<=i?{x:0,y:-a.height-s,...PE}:n<e&&n>=i?{x:0,y:a.height+s,...PE}:{x:0,y:0,...PE}};function ime(e,t,n){let r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.offsetTop-(i.offsetTop+i.height):o?o.offsetTop-(r.offsetTop+r.height):0:o?o.offsetTop-(r.offsetTop+r.height):i?r.offsetTop-(i.offsetTop+i.height):0:0}var Mj="Sortable",Rj=$n.default.createContext({activeIndex:-1,containerId:Mj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Dj,wasSorting:{current:!1}});function JE({children:e,id:t,items:n,strategy:r=Dj}){let{active:i,overlayNode:o,droppableRects:a,over:s,recomputeLayouts:l,willRecomputeLayouts:u}=Tj(),c=a6(Mj,t),d=o.rect!==null,f=(0,$n.useMemo)(()=>n.map(E=>typeof E=="string"?E:E.id),[n]),h=i?f.indexOf(i.id):-1,p=h!==-1,m=(0,$n.useRef)(p),v=s?f.indexOf(s.id):-1,g=(0,$n.useRef)(f),y=rme(f,a),w=!ome(f,g.current),x=v!==-1&&h===-1||w;wm(()=>{w&&p&&!u&&l()},[w,p,l,u]),(0,$n.useEffect)(()=>{g.current=f},[f]),(0,$n.useEffect)(()=>{requestAnimationFrame(()=>{m.current=p})},[p]);let S=(0,$n.useMemo)(()=>({activeIndex:h,containerId:c,disableTransforms:x,items:f,overIndex:v,useDragOverlay:d,sortedRects:y,strategy:r,wasSorting:m}),[h,c,x,f,v,y,d,r,m]);return $n.default.createElement(Rj.Provider,{value:S},e)}function ome(e,t){return e.join()===t.join()}var Yv=({isSorting:e,index:t,newIndex:n,transition:r})=>r?e?!0:n!==t:!1,ame={duration:200,easing:"ease"},Oj="transform",sme=ds.Transition.toString({property:Oj,duration:0,easing:"linear"}),lme={roleDescription:"sortable"};function ume({rect:e,disabled:t,index:n,node:r}){let[i,o]=(0,$n.useState)(null),a=(0,$n.useRef)(n);return(0,$n.useEffect)(()=>{if(!t&&n!==a.current&&r.current){let s=e.current;if(s){let l=KE(r.current),u={x:s.offsetLeft-l.offsetLeft,y:s.offsetTop-l.offsetTop,scaleX:s.width/l.width,scaleY:s.height/l.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[t,n,r,e]),(0,$n.useEffect)(()=>{i&&requestAnimationFrame(()=>{o(null)})},[i]),i}function XE({animateLayoutChanges:e=Yv,attributes:t,disabled:n,data:r,id:i,strategy:o,transition:a=ame}){let{items:s,containerId:l,activeIndex:u,disableTransforms:c,sortedRects:d,overIndex:f,useDragOverlay:h,strategy:p,wasSorting:m}=(0,$n.useContext)(Rj),v=s.indexOf(i),g=(0,$n.useMemo)(()=>({sortable:{containerId:l,index:v,items:s},...r}),[l,r,v,s]),{rect:y,node:w,setNodeRef:x}=Zpe({id:i,data:g}),{active:S,activeNodeRect:E,activatorEvent:k,attributes:A,setNodeRef:T,listeners:R,isDragging:M,over:O,transform:B}=Xpe({id:i,data:g,attributes:{...lme,...t},disabled:n}),_=Xhe(x,T),z=!!S,V=z&&m.current&&!c&&zE(u)&&zE(f),P=!h&&M,F=P&&V?B:null,I=V?F??(o??p)({layoutRects:d,activeNodeRect:E,activeIndex:u,overIndex:f,index:v}):null,Q=zE(u)&&zE(f)?kj(s,u,f).indexOf(i):v,N=(0,$n.useRef)(Q),H=e({active:S,isDragging:M,isSorting:z,id:i,index:v,items:s,newIndex:N.current,transition:a,wasSorting:m.current}),G=ume({disabled:!H,index:v,node:w,rect:y});return(0,$n.useEffect)(()=>{z&&(N.current=Q)},[z,Q]),{active:S,attributes:A,activatorEvent:k,rect:y,index:v,isSorting:z,isDragging:M,listeners:R,node:w,overIndex:f,over:O,setNodeRef:_,setDroppableNodeRef:x,setDraggableNodeRef:T,transform:G??I,transition:Y()};function Y(){return G?sme:P||!a?null:z||H?ds.Transition.toString({...a,property:Oj}):null}}var cme=[bt.Down,bt.Right,bt.Up,bt.Left],ZE=(e,{context:{droppableContainers:t,translatedRect:n,scrollableAncestors:r}})=>{if(cme.includes(e.code)){if(e.preventDefault(),!n)return;let o=[];Object.entries(t).forEach(([s,l])=>{if(l?.disabled)return;let u=l?.node.current;if(!u)return;let c=VE(u);switch(e.code){case bt.Down:n.top+n.height<=c.top&&o.push([s,c]);break;case bt.Up:n.top>=c.top+c.height&&o.push([s,c]);break;case bt.Left:n.left>=c.left+c.width&&o.push([s,c]);break;case bt.Right:n.left+n.width<=c.left&&o.push([s,c]);break}});let a=bpe(o,n);if(a){var i;let s=(i=t[a])==null?void 0:i.node.current;if(s){let u=s6(s).some((h,p)=>r[p]!==h),c=VE(s),d=u?{x:0,y:0}:{x:n.width-c.width,y:n.height-c.height};return{x:c.left-d.x,y:c.top-d.y}}}}};b();var Li=D(L(),1),dme={root:"alinea-Create","is-disabled":"alinea-Create-is-disabled",isDisabled:"alinea-Create-is-disabled",button:"alinea-Create-button","button-add":"alinea-Create-button-add",buttonAdd:"alinea-Create-button-add","is-paste":"alinea-Create-is-paste",isPaste:"alinea-Create-is-paste"},Wv=j(dme),fs;(e=>{function t({disabled:i,...o}){return(0,Li.jsx)("div",{...o,className:Wv.root.mergeProps(o)({disabled:i})})}e.Root=t;function n({children:i,icon:o,...a}){return(0,Li.jsx)("a",{...a,...zo(a.href),className:Wv.button.mergeProps(a)(),children:(0,Li.jsxs)(K,{center:!0,gap:8,children:[(0,Li.jsx)(Qw,{style:{flexShrink:0}}),o&&(0,Li.jsx)(o,{}),i&&(0,Li.jsx)("span",{children:i})]})})}e.Link=n;function r({children:i,icon:o,mod:a,...s}){return(0,Li.jsx)("button",{type:"button",...s,className:Wv.button.mergeProps(s)(a),children:(0,Li.jsxs)(K,{center:!0,gap:8,children:[o?(0,Li.jsx)("div",{className:Wv.button.add(),children:(0,Li.jsx)(o,{})}):(0,Li.jsx)("div",{className:Wv.button.add(),children:(0,Li.jsx)(Qw,{})}),i&&(0,Li.jsx)("span",{children:i})]})})}e.Button=r})(fs||(fs={}));b();var d6=D(L(),1);function Gv(e){return(0,d6.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,d6.jsx)("path",{fill:"currentColor",d:"M19 9H5c-.55 0-1 .45-1 1s.45 1 1 1h14c.55 0 1-.45 1-1s-.45-1-1-1zM5 15h14c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1 .45-1 1s.45 1 1 1z"})})}var Bj=Gv;var Tm=D($(),1),_e=D(L(),1),fme={root:"alinea-LinkField","root-inner":"alinea-LinkField-inner",rootInner:"alinea-LinkField-inner",row:"alinea-LinkField-row","is-dragging":"alinea-LinkField-is-dragging",isDragging:"alinea-LinkField-is-dragging","is-overlay":"alinea-LinkField-is-overlay",isOverlay:"alinea-LinkField-is-overlay","row-header":"alinea-LinkField-row-header",rowHeader:"alinea-LinkField-row-header","row-staticHandle":"alinea-LinkField-row-staticHandle",rowStaticHandle:"alinea-LinkField-row-staticHandle",create:"alinea-LinkField-create"},Jc=j(fme);function _j({field:e}){let{options:t,value:n,mutator:r,error:i}=Ut(e),{readOnly:o}=t,[a,s]=(0,Tm.useState)(),l=a?t.pickers[a]:void 0;function u(d){if(o)return;let f=d[0];!a||!l||!f||f[ke.type]===a&&(r.replace(f),s(void 0))}let c=l&&l.view;return(0,_e.jsxs)(_e.Fragment,{children:[c&&(0,_e.jsx)(Qa,{name:"picker",children:(0,_e.jsx)(c,{type:a,options:l.options,selection:[n],onConfirm:u,onCancel:()=>s(void 0)})}),(0,_e.jsx)(We,{...t,error:i,icon:qs,children:(0,_e.jsx)("div",{className:Jc.root(),children:(0,_e.jsx)("div",{className:Jc.root.inner(),children:(0,_e.jsx)(xt.Root,{children:n&&t.pickers[n[ke.type]]?(0,_e.jsx)(f6,{readOnly:o,field:e,rowId:n[ke.id],fields:t.pickers[n[ke.type]].fields,picker:t.pickers[n[ke.type]],reference:n,onRemove:()=>r.replace(void 0),onEdit:()=>s(n[ke.type])}):(0,_e.jsx)("div",{className:Jc.create(),children:(0,_e.jsx)(fs.Root,{disabled:o,children:le(t.pickers).map(([d,f])=>(0,_e.jsx)(fs.Button,{onClick:()=>{o||s(d)},children:(0,_e.jsx)(Ze,{label:f.label})},d))})})})})})})]})}var hme={strategy:mu.Always};function Fj({field:e}){let{options:t,value:n,mutator:r,error:i}=Ut(e),{readOnly:o}=t,[a,s]=(0,Tm.useState)(),l=a?t.pickers[a[ke.type]]:void 0;function u(y){if(!a||!l||!y)return;let w=new Set;for(let x of y){if(x[ge.type]!==a[ke.type])continue;w.add(x[ge.id]),n.findIndex(E=>E[ge.id]===x[ge.id])>-1?r.replace(x[ge.id],x):r.push(x)}if(l.handlesMultiple)for(let x of n)x[ge.type]===a[ke.type]&&(w.has(x[ge.id])||r.remove(x[ge.id]));s(void 0)}let c=n.map(y=>y[ge.id]),[d,f]=(0,Tm.useState)(null),h=YE(Sm(Am),Sm(Cm,{coordinateGetter:ZE}));function p(y){let{active:w}=y;f(n.find(x=>x[ge.id]===w.id)||null)}function m(y){let{active:w,over:x}=y;!x||w.id===x.id||(o||r.move(c.indexOf(w.id),c.indexOf(x.id)),f(null))}let v=t.max?n.length<t.max:!0,g=l&&l.view;return(0,_e.jsxs)(_e.Fragment,{children:[a&&g&&(0,_e.jsx)(Qa,{name:"picker",children:(0,_e.jsx)(g,{type:a[ke.type],options:l.options,selection:n.filter(y=>y[ge.id]===a[ke.id]?!0:l.handlesMultiple?y[ge.type]===a[ke.type]:!1),onConfirm:u,onCancel:()=>s(void 0)})}),(0,_e.jsx)(WE,{sensors:h,collisionDetection:qE,onDragStart:p,onDragEnd:m,layoutMeasuring:hme,children:(0,_e.jsx)(We,{...t,error:i,icon:qs,children:(0,_e.jsx)("div",{className:Jc.root(),children:(0,_e.jsxs)("div",{className:Jc.root.inner(),children:[(0,_e.jsx)(JE,{items:c,strategy:QE,children:(0,_e.jsxs)(xt.Root,{children:[n.map(y=>{if(!t.pickers[y[ge.type]])return null;let w=t.pickers[y[ge.type]],x=w.fields;return(0,_e.jsx)(mme,{rowId:y[ge.id],field:e,fields:x,picker:w,reference:y,onRemove:()=>r.remove(y[ge.id]),onEdit:()=>s(y),isSortable:t.max!==1,readOnly:o,multiple:!0},y[ge.id])}),v&&(0,_e.jsx)("div",{className:Jc.create(),children:(0,_e.jsx)(fs.Root,{disabled:o,children:le(t.pickers).map(([y,w])=>(0,_e.jsx)(fs.Button,{onClick:()=>s({[ke.type]:y}),children:(0,_e.jsx)(Ze,{label:w.label})},y))})})]})}),(0,_e.jsx)(GE,{dropAnimation:{...Kv,dragSourceOpacity:.5},children:d&&t.pickers[d[ke.type]]?(0,_e.jsx)(f6,{field:e,rowId:d._id,fields:t.pickers[d[ke.type]].fields,picker:t.pickers[d[ke.type]],reference:d,onRemove:()=>r.remove(d._id),onEdit:()=>s(d),isDragOverlay:!0,isSortable:t.max!==1,readOnly:o,multiple:!0}):null})]})})})})]})}function pme(e){let{isSorting:t,wasSorting:n}=e;return t||n?Yv(e):!0}function mme(e){let{attributes:t,listeners:n,setNodeRef:r,transform:i,transition:o,isDragging:a}=XE({animateLayoutChanges:pme,id:e.reference._id}),s={transform:ds.Transform.toString(i),transition:o||void 0};return(0,_e.jsx)(f6,{...e,rootRef:r,style:s,handle:n,...t,isDragging:a})}function f6({field:e,rowId:t,picker:n,fields:r,reference:i,onEdit:o,onRemove:a,handle:s,rootRef:l,isDragging:u,isDragOverlay:c,isSortable:d,readOnly:f,multiple:h,...p}){let m=gme(),v=n.viewRow,g=(0,_e.jsxs)("div",{className:Jc.row({dragging:u,overlay:c}),ref:l,...p,children:[(0,_e.jsxs)(xt.Header,{children:[(0,_e.jsx)(xt.Options,{children:d?(0,_e.jsx)(Le,{icon:Bj,...s,style:{cursor:s?"grab":"grabbing"},title:"Drag and drop to reorder"}):(0,_e.jsx)("div",{className:Jc.row.staticHandle(),children:(0,_e.jsx)(qs,{})})}),(0,_e.jsx)("div",{style:{flexGrow:1,minWidth:0},children:(0,_e.jsx)(Tm.Suspense,{fallback:null,children:(0,_e.jsx)(v,{reference:i})})}),!f&&(0,_e.jsxs)(xt.Options,{children:[(0,_e.jsx)(Le,{icon:bp,onClick:()=>m(i),title:i?._type==="image"?"Open media file in new tab":"Open link in new tab"}),(0,_e.jsx)(Le,{icon:gf,onClick:o,title:i?._type==="image"?"Change image":"Edit link"}),(0,_e.jsx)(Le,{icon:so,onClick:a,title:i?._type==="image"?"Delete image":"Delete link"})]})]}),r&&(0,_e.jsx)(xt.Content,{children:(0,_e.jsx)(Qn,{type:r})})]});return r?(0,_e.jsx)(Ga,{field:e,type:r,readOnly:f,rowId:h?t:void 0,children:g}):g}function gme(){let e=Vt(),t=Hn(),n=Zs();return r=>{Bn.isUrl(r)?window.open(r[Bn.url],"_blank"):qt.isEntryReference(r)&&n.first({id:r[qt.entry],locale:r[ke.type]==="entry"?t:null,select:{id:W.id,workspace:W.workspace,root:W.root},status:"preferDraft"}).then(i=>{i&&window.open(`#${e.entry(i)}`,"_blank")})}}b();b();var h6=D(L(),1);function Ij(e){return(0,h6.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,h6.jsx)("path",{fill:"currentColor",d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})})}b();var Qv=D(L(),1);function Nj(e){return(0,Qv.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[(0,Qv.jsx)("path",{fill:"currentColor",d:"M5 5h2v3h10V5h2v6h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v-2H5V5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1s-1-.45-1-1s.45-1 1-1z"}),(0,Qv.jsx)("path",{fill:"currentColor",d:"m18.01 13l-1.42 1.41l1.58 1.58H12v2h6.17l-1.58 1.59l1.42 1.41l3.99-4z"})]})}b();var p6=D(L(),1);function Lj(e){return(0,p6.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,p6.jsx)("path",{fill:"currentColor",d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"})})}b();var m6=D(L(),1);function zj(e){return(0,m6.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,m6.jsx)("path",{fill:"currentColor",d:"M11 5v11.17l-4.88-4.88c-.39-.39-1.03-.39-1.42 0a.996.996 0 0 0 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 1 0-1.41-1.41L13 16.17V5c0-.55-.45-1-1-1s-1 .45-1 1"})})}b();var g6=D(L(),1);function Pj(e){return(0,g6.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,g6.jsx)("path",{fill:"currentColor",d:"M13 19V7.83l4.88 4.88c.39.39 1.03.39 1.42 0a.996.996 0 0 0 0-1.41l-6.59-6.59a.996.996 0 0 0-1.41 0l-6.6 6.58a.996.996 0 1 0 1.41 1.41L11 7.83V19c0 .55.45 1 1 1s1-.45 1-1"})})}var eS=D($(),1),$e=D(L(),1),vme={root:"alinea-ListField","root-inner":"alinea-ListField-inner",rootInner:"alinea-ListField-inner",row:"alinea-ListField-row","is-dragging":"alinea-ListField-is-dragging",isDragging:"alinea-ListField-is-dragging","is-overlay":"alinea-ListField-is-overlay",isOverlay:"alinea-ListField-is-overlay","row-header-title":"alinea-ListField-row-header-title",rowHeaderTitle:"alinea-ListField-row-header-title",insert:"alinea-ListField-insert","is-first":"alinea-ListField-is-first",isFirst:"alinea-ListField-is-first","is-open":"alinea-ListField-is-open",isOpen:"alinea-ListField-is-open","insert-icon":"alinea-ListField-insert-icon",insertIcon:"alinea-ListField-insert-icon",create:"alinea-ListField-create","is-inline":"alinea-ListField-is-inline",isInline:"alinea-ListField-is-inline"},Rf=j(vme),Hj=Yh("@alinea/copypaste",void 0);function yme(e){let{isSorting:t,wasSorting:n}=e;return t||n?Yv(e):!0}function bme(e){let{onCreate:t,onPaste:n}=e,{attributes:r,listeners:i,setNodeRef:o,transform:a,transition:s,isDragging:l}=XE({animateLayoutChanges:yme,id:e.row._id}),u={transform:ds.Transform.toString(a),transition:s||void 0};return(0,$e.jsx)(Vj,{...e,rootRef:o,style:u,handle:i,...r,isDragging:l,onCreate:t,onPaste:n})}function Vj({row:e,schema:t,onMove:n,onDelete:r,onCopyBlock:i,handle:o,rootRef:a,isDragging:s,isDragOverlay:l,readOnly:u,onCreate:c,onPasteBlock:d,firstRow:f,lastRow:h,isFolded:p,toggleFold:m,...v}){let g=t[e[ge.type]],[y,w]=(0,eS.useState)(!1);return g?(0,$e.jsxs)("div",{className:Rf.row({dragging:s,overlay:l}),ref:a,...v,children:[!u&&!l&&(0,$e.jsx)(wme,{open:y,first:!!f,onInsert:()=>w(!y)}),y&&(0,$e.jsx)(Uj,{inline:!0,schema:t,onCreate:x=>{c(x),w(!1)},onPaste:x=>{d&&d(x),w(!1)}}),(0,$e.jsxs)(xt.Header,{children:[(0,$e.jsx)(xt.Options,{style:{zIndex:1},children:(0,$e.jsx)(Le,{icon:rt(g).icon||Gv,...o,style:{cursor:o?"grab":"grabbing"},title:"Drag and drop to reorder"})}),(0,$e.jsx)(xt.Title,{children:(0,$e.jsx)(Ze,{label:he.label(g),className:Rf.row.header.title()})}),(0,$e.jsxs)(xt.Options,{children:[p!==void 0&&(0,$e.jsx)(Le,{icon:p?is:lu,onClick:m,title:p?"Expand":"Fold",disabled:l}),i!==void 0&&(0,$e.jsx)(Le,{icon:Ij,onClick:()=>i(),title:"Copy block",disabled:l}),!u&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(Le,{icon:Pj,onClick:()=>n?.(-1),title:"Move up one position",disabled:f||l}),(0,$e.jsx)(Le,{icon:zj,onClick:()=>n?.(1),title:"Move down one position",disabled:h||l}),(0,$e.jsx)(Le,{icon:so,onClick:r,title:"Delete block",disabled:l})]})]})]}),!p&&(0,$e.jsx)(xt.Content,{children:(0,$e.jsx)(Qn,{type:g})})]}):null}function Uj({schema:e,readOnly:t,inline:n,onCreate:r,onPaste:i}){let[o]=Bo(Hj),a=o&&le(e).some(([s])=>s===o._type);return(0,$e.jsx)("div",{className:Rf.create({inline:n}),children:(0,$e.jsxs)(fs.Root,{disabled:t,children:[le(e).map(([s,l])=>(0,$e.jsx)(fs.Button,{icon:rt(l).icon,onClick:()=>r(s),children:(0,$e.jsx)(Ze,{label:he.label(l)})},s)),a&&(0,$e.jsx)(fs.Button,{icon:Nj,onClick:()=>i(o),mod:"paste",children:(0,$e.jsx)(Ze,{label:"Paste block"})})]})})}function wme({first:e,open:t,onInsert:n}){return(0,$e.jsx)("div",{className:Rf.insert({open:t,first:e}),children:(0,$e.jsx)("button",{className:Rf.insert.icon(),onClick:n,title:"Insert new block",type:"button",children:(0,$e.jsx)(te,{icon:t?lu:Lj})})})}var xme={strategy:mu.Always};function jj({field:e}){let{options:t,value:n,mutator:r,error:i}=Ut(e),{schema:o,readOnly:a}=t,s=n,l=s.map(w=>w._id),[,u]=Bo(Hj),[c,d]=(0,eS.useState)(null),[f,h]=(0,eS.useState)(new Set),p=YE(Sm(Am),Sm(Cm,{coordinateGetter:ZE}));function m(w){let{active:x}=w;d(s.find(S=>S._id===x.id)||null)}function v(w){let{active:x,over:S}=w;!S||x.id===S.id||(a||r.move(l.indexOf(x.id),l.indexOf(S.id)),d(null))}let g=s.every(w=>f.has(w._id)),y=()=>h(new Set(g?[]:s.map(w=>w._id)));return(0,$e.jsx)(WE,{sensors:p,collisionDetection:qE,onDragStart:m,onDragEnd:v,layoutMeasuring:xme,children:(0,$e.jsx)(We,{...t,error:i,icon:im,isFolded:s.length===0?void 0:g,toggleFold:y,children:(0,$e.jsx)("div",{className:Rf.root(),children:(0,$e.jsxs)("div",{className:Rf.root.inner({inline:t.inline}),children:[(0,$e.jsx)(JE,{items:l,strategy:QE,children:(0,$e.jsxs)(xt.Root,{children:[s.map((w,x)=>{let S=t.schema[w[ge.type]];return(0,$e.jsx)(Ga,{field:e,rowId:w._id,type:S,readOnly:a,children:(0,$e.jsx)(bme,{isFolded:f.has(w._id),row:w,schema:o,readOnly:a,onCopyBlock:()=>{let E=r.read(w._id);u(E)},onMove:E=>{a||r.move(x,x+E)},onDelete:()=>{a||r.remove(w._id)},onCreate:E=>{a||r.push({_type:E},x)},onPasteBlock:E=>{if(a)return;let{_id:k,_index:A,...T}=E;r.push(T,x)},toggleFold:()=>{h(E=>{let k=new Set(E);return k.has(w._id)?k.delete(w._id):k.add(w._id),k})},firstRow:x===0,lastRow:x===s.length-1})},w._id)}),(0,$e.jsx)(Uj,{schema:o,readOnly:a,onPaste:w=>{let{_id:x,_index:S,...E}=w;r.push(E)},onCreate:(w,x)=>{a||r.push({_type:w})}})]})}),(0,$e.jsx)(GE,{dropAnimation:{...Kv,dragSourceOpacity:.5},children:c?(0,$e.jsx)(Ga,{field:e,rowId:c._id,type:t.schema[c[ge.type]],readOnly:a,children:(0,$e.jsx)(Vj,{row:c,schema:o,isDragOverlay:!0,isFolded:f.has(c._id),onCopyBlock:()=>{}},"overlay")},"overlay"):null})]})})})})}b();var dt=D(L(),1),Eme={preview:"alinea-MetadataField-preview","preview-subtitle":"alinea-MetadataField-preview-subtitle",previewSubtitle:"alinea-MetadataField-preview-subtitle",searchengine:"alinea-MetadataField-searchengine","searchengine-title":"alinea-MetadataField-searchengine-title",searchengineTitle:"alinea-MetadataField-searchengine-title","searchengine-intro":"alinea-MetadataField-searchengine-intro",searchengineIntro:"alinea-MetadataField-searchengine-intro","searchengine-intro-favicon":"alinea-MetadataField-searchengine-intro-favicon",searchengineIntroFavicon:"alinea-MetadataField-searchengine-intro-favicon","searchengine-intro-favicon-icon":"alinea-MetadataField-searchengine-intro-favicon-icon",searchengineIntroFaviconIcon:"alinea-MetadataField-searchengine-intro-favicon-icon","searchengine-intro-url":"alinea-MetadataField-searchengine-intro-url",searchengineIntroUrl:"alinea-MetadataField-searchengine-intro-url","searchengine-intro-sitename":"alinea-MetadataField-searchengine-intro-sitename",searchengineIntroSitename:"alinea-MetadataField-searchengine-intro-sitename","searchengine-description":"alinea-MetadataField-searchengine-description",searchengineDescription:"alinea-MetadataField-searchengine-description",opengraph:"alinea-MetadataField-opengraph","opengraph-img":"alinea-MetadataField-opengraph-img",opengraphImg:"alinea-MetadataField-opengraph-img","opengraph-body":"alinea-MetadataField-opengraph-body",opengraphBody:"alinea-MetadataField-opengraph-body","opengraph-body-url":"alinea-MetadataField-opengraph-body-url",opengraphBodyUrl:"alinea-MetadataField-opengraph-body-url","opengraph-body-content":"alinea-MetadataField-opengraph-body-content",opengraphBodyContent:"alinea-MetadataField-opengraph-body-content","opengraph-body-content-title":"alinea-MetadataField-opengraph-body-content-title",opengraphBodyContentTitle:"alinea-MetadataField-opengraph-body-content-title","opengraph-body-content-description":"alinea-MetadataField-opengraph-body-content-description",opengraphBodyContentDescription:"alinea-MetadataField-opengraph-body-content-description"},Or=j(Eme);function $j({field:e}){let t=Ql(e),n=Cp();return(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)(Ga,{type:t.fields,field:e,children:(0,dt.jsx)(Qn,{type:t.fields,border:!1})}),(0,dt.jsx)("div",{children:n?.preview&&(0,dt.jsx)(Sme,{})})]})}function Sme(){let e=tH();return e?(0,dt.jsxs)("div",{className:Or.preview(),children:[(0,dt.jsx)("h2",{children:"Preview"}),(0,dt.jsx)(Cme,{metaTags:e}),(0,dt.jsx)(Ame,{metaTags:e})]}):null}var Cme=({metaTags:e})=>(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("h4",{className:Or.preview.subtitle(),children:"Search engine"}),(0,dt.jsxs)("div",{className:Or.searchengine(),children:[(0,dt.jsxs)("div",{className:Or.searchengine.intro(),children:[(0,dt.jsx)("div",{className:Or.searchengine.intro.favicon(),children:(0,dt.jsx)("span",{className:Or.searchengine.intro.favicon.icon(),children:(0,dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,dt.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})})}),(0,dt.jsxs)("div",{style:{minWidth:0},children:[e["og:site_name"]&&(0,dt.jsx)("p",{className:Or.searchengine.intro.sitename(),children:e["og:site_name"]}),(0,dt.jsx)("p",{className:Or.searchengine.intro.url(),children:e["og:url"]})]})]}),(0,dt.jsx)("h3",{className:Or.searchengine.title(),children:e.title}),e.description&&(0,dt.jsx)("p",{className:Or.searchengine.description(),children:e.description?.substring(0,160)})]})]}),Ame=({metaTags:e})=>(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("h4",{className:Or.preview.subtitle(),children:"Social share"}),(0,dt.jsxs)("div",{className:Or.opengraph(),children:[e["og:image"]&&(0,dt.jsx)("img",{src:e["og:image"],alt:"Open Graph image",className:Or.opengraph.img()}),(0,dt.jsxs)("div",{className:Or.opengraph.body(),children:[(0,dt.jsx)("p",{className:Or.opengraph.body.url(),children:e["og:url"]?.replace(/^https?:\/\//,"")}),(0,dt.jsxs)("div",{className:Or.opengraph.body.content(),children:[(0,dt.jsx)("h3",{className:Or.opengraph.body.content.title(),children:e["og:title"]||e.title}),(0,dt.jsx)("p",{className:Or.opengraph.body.content.description(),children:e["og:description"]})]})]})]})]});b();b();var v6=D(L(),1);function qj(e){return(0,v6.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,v6.jsx)("path",{fill:"currentColor",d:"m20.68 9.27l.01-.06A.961.961 0 0 0 19.76 8H17l.7-2.79A.972.972 0 0 0 16.76 4c-.45 0-.83.3-.94.73L15 8h-4l.7-2.79A.972.972 0 0 0 10.76 4c-.45 0-.83.3-.94.73L9 8H5.76c-.45 0-.84.3-.94.73l-.02.06c-.15.62.31 1.21.94 1.21H8.5l-1 4H4.26c-.45 0-.83.3-.94.73l-.02.06c-.15.62.31 1.21.94 1.21H7l-.7 2.79c-.15.62.31 1.21.94 1.21c.45 0 .83-.3.94-.73L9 16h4l-.7 2.79c-.15.62.31 1.21.94 1.21c.45 0 .83-.3.94-.73L15 16h3.24c.45 0 .83-.3.94-.73l.01-.06a.976.976 0 0 0-.94-1.21H15.5l1-4h3.24c.45 0 .84-.3.94-.73zM13.5 14h-4l1-4h4l-1 4z"})})}var tS=D($(),1),b6=D(L(),1),Tme={"root-input":"alinea-NumberField-input",rootInput:"alinea-NumberField-input"},kme=j(Tme);function y6(e){let t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function Kj({field:e}){let{options:t,value:n,mutator:r,error:i}=Ut(e),{minValue:o,maxValue:a,readOnly:s,step:l}=t,u=(0,tS.useRef)(null),c=String(n??"");return(0,tS.useEffect)(()=>{let d=u.current;!d||y6(d.value)===n||(d.value=c)},[c]),(0,b6.jsx)(We,{asLabel:!0,...t,error:i,icon:qj,children:(0,b6.jsx)("input",{type:"number",ref:u,className:kme.root.input(),defaultValue:c,onChange:({currentTarget:d})=>{let f=y6(d.value);f!==n&&r(f)},onBlur:({currentTarget:d})=>{let f=y6(d.value);f!==n&&r(f),d.value=String(f??"")},min:o,max:a,readOnly:s,step:l||1})})}b();b();var w6=D(L(),1);function Yj(e){return(0,w6.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,w6.jsx)("path",{fill:"currentColor",d:"M16 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8l-5-5zM8 7h3c.55 0 1 .45 1 1s-.45 1-1 1H8c-.55 0-1-.45-1-1s.45-1 1-1zm8 10H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1zm-1-5V5l4 4h-3c-.55 0-1-.45-1-1z"})})}var km=D(L(),1);function Wj({field:e}){let t=Ql(e),n=n4(e);return(0,km.jsx)(We,{...t,error:n,icon:Yj,children:(0,km.jsx)(xt.Root,{children:(0,km.jsx)(xt.Content,{children:(0,km.jsx)(Ga,{field:e,type:t.fields,readOnly:t.readOnly,children:(0,km.jsx)(Qn,{type:t.fields})})})})})}b();var Of=D($(),1),Bf=D(L(),1),Dme={"root-input":"alinea-PathField-input",rootInput:"alinea-PathField-input","root-input-container":"alinea-PathField-input-container",rootInputContainer:"alinea-PathField-input-container","root-suffix":"alinea-PathField-suffix",rootSuffix:"alinea-PathField-suffix","root-hidden":"alinea-PathField-hidden",rootHidden:"alinea-PathField-hidden"},nS=j(Dme),Gj=16,rS=26;function Qj({field:e}){let{value:t,mutator:n,options:r,error:i}=Ut(e),o=Zs(),a=Cp(),{from:s="title"}=r,[l,u]=(0,Of.useState)(!1),c=(0,Of.useRef)(null),d=(0,Of.useRef)(null),f=(0,Of.useRef)(null),{value:h=""}=Ut(s),p=t??to(h),[m,v]=(0,Of.useState)(!1),g=(p??"")+(m?"-":""),y=p==="";async function w(){return a?o.find({select:W.path,root:a.activeVersion.root,workspace:a.activeVersion.workspace,locale:a.activeVersion.locale,parentId:a.activeVersion.parentId??null,id:{isNot:a.entryId},path:{or:{is:g,startsWith:`${g}-`}},status:"preferPublished"}):[]}let{data:x}=ri(["path",a?.entryId,a?.activeVersion.parentId,g],w);async function S(){let T=await w(),R=Ug(g,T);R&&n(to(`${g}-${R}`))}let E=x&&Ug(g,x);function k(){return!E||!c.current||!d.current||!f.current?0:c.current.clientWidth+Gj+A()>=d.current.clientWidth?d.current.clientWidth-A():c.current.clientWidth+Gj}function A(){return!E||!f.current?rS:f.current.clientWidth+10>rS?f.current.clientWidth+10:rS}return(0,Bf.jsxs)(We,{asLabel:!0,...r,error:i,focused:l,icon:qs,empty:y,children:[(0,Bf.jsxs)("div",{className:nS.root.input.container(),children:[(0,Bf.jsx)("input",{ref:d,className:nS.root.input(),type:"text",value:g,onChange:T=>{let R=T.currentTarget.value;v(t9(R.charAt(R.length-1))),n(to(R))},onFocus:()=>u(!0),onBlur:()=>{u(!1),S(),v(!1)},style:{paddingRight:Me(A())},readOnly:r.readOnly}),(0,Bf.jsx)("div",{ref:f,className:nS.root.suffix(),style:{left:Me(k())},children:E?`-${E}`:null})]}),(0,Bf.jsx)("span",{ref:c,className:nS.root.hidden(),children:g})]})}b();b();b();function pi(e){this.content=e}pi.prototype={constructor:pi,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new pi(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new pi(n)},addToStart:function(e,t){return new pi([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new pi(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new pi(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=pi.from(e),e.size?new pi(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=pi.from(e),e.size?new pi(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=pi.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};pi.from=function(e){if(e instanceof pi)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new pi(t)};var Jj=pi;function sq(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){let a=sq(i.content,o.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function lq(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){n-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let u=lq(a.content,s.content,n-1,r-1);if(u)return u}n-=l,r-=l}}var Z=class zi{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let a=0,s=0;s<n;a++){let l=this.content[a],u=s+l.nodeSize;if(u>t&&r(l,i+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,n-c),r,i+c)}s=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",a=!0;return this.nodesBetween(t,n,(s,l)=>{let u=s.isText?s.text.slice(Math.max(t,l)-l,n-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&r&&(a?a=!1:o+=r),o+=u},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new zi(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,a=0;a<n;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>n)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,n-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new zi(r,i)}cutByIndex(t,n){return t==n?zi.empty:t==0&&n==this.content.length?this:new zi(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new zi(i,o)}addToStart(t){return new zi([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new zi(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return sq(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return lq(this,t,n,r)}findIndex(t,n=-1){if(t==0)return iS(0,t);if(t==this.size)return iS(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),a=i+o.nodeSize;if(a>=t)return a==t||n>0?iS(r+1,a):iS(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return zi.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new zi(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return zi.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new zi(n||t,r)}static from(t){if(!t)return zi.empty;if(t instanceof zi)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new zi([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};Z.empty=new Z([],0);var x6={index:0,offset:0};function iS(e,t){return x6.index=e,x6.offset=t,x6}function bS(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!bS(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!bS(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}var Zt=class P6{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&bS(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return P6.none;if(t instanceof P6)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Zt.none=[];var wS=class extends Error{},fe=class Rm{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=cq(this.content,t+this.openStart,n);return r&&new Rm(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Rm(uq(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Rm.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Rm(Z.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Rm(t,r,i)}};fe.empty=new fe(Z.empty,0,0);function uq(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(i==t||o.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(uq(o.content,t-i-1,n-i-1)))}function cq(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=cq(a.content,t-o-1,n);return s&&e.replaceChild(i,a.copy(s))}function Mme(e,t,n){if(n.openStart>e.depth)throw new wS("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new wS("Inconsistent open depths");return dq(e,t,n,0)}function dq(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=dq(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,s=a.content;return zf(a,s.cut(0,e.parentOffset).append(n.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=Rme(n,e);return zf(o,hq(e,a,s,t,r))}else return zf(o,xS(e,t,r))}function fq(e,t){if(!t.type.compatibleContent(e.type))throw new wS("Cannot join "+t.type.name+" onto "+e.type.name)}function H6(e,t,n){let r=e.node(n);return fq(r,t.node(n)),r}function Lf(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function c1(e,t,n,r){let i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(Lf(e.nodeAfter,r),o++));for(let s=o;s<a;s++)Lf(i.child(s),r);t&&t.depth==n&&t.textOffset&&Lf(t.nodeBefore,r)}function zf(e,t){return e.type.checkContent(t),e.copy(t)}function hq(e,t,n,r,i){let o=e.depth>i&&H6(e,t,i+1),a=r.depth>i&&H6(n,r,i+1),s=[];return c1(null,e,i,s),o&&a&&t.index(i)==n.index(i)?(fq(o,a),Lf(zf(o,hq(e,t,n,r,i+1)),s)):(o&&Lf(zf(o,xS(e,t,i+1)),s),c1(t,n,i,s),a&&Lf(zf(a,xS(n,r,i+1)),s)),c1(r,null,i,s),new Z(s)}function xS(e,t,n){let r=[];if(c1(null,e,n,r),e.depth>n){let i=H6(e,t,n+1);Lf(zf(i,xS(e,t,n+1)),r)}return c1(t,null,n,r),new Z(r)}function Rme(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Z.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}var Xj=class V6{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Zt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new ES(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),u=o-l;if(r.push(a,s,i+l),!u||(a=a.child(s),a.isText))break;o=u-1,i+=l+1}return new V6(n,r,o)}static resolveCached(t,n){let r=Zj.get(t);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else Zj.set(t,r=new Ome);let i=r.elts[r.i]=V6.resolve(t,n);return r.i=(r.i+1)%Bme,i}},Ome=class{constructor(){this.elts=[],this.i=0}},Bme=12,Zj=new WeakMap,ES=class{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},_me=Object.create(null),rd=class U6{constructor(t,n,r,i=Zt.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Z.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&bS(this.attrs,n||t.defaultAttrs||_me)&&Zt.sameSet(this.marks,r||Zt.none)}copy(t=null){return t==this.content?this:new U6(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new U6(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return fe.empty;let i=this.resolve(t),o=this.resolve(n),a=r?0:i.sharedDepth(n),s=i.start(a),u=i.node(a).content.cut(i.pos-s,o.pos-s);return new fe(u,i.depth-a,o.depth-a)}replace(t,n,r){return Mme(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Xj.resolveCached(this,t)}resolveNoCache(t){return Xj.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),pq(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Z.empty,i=0,o=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,o),s=a&&a.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Zt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Zt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Z.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};rd.prototype.text=void 0;var Fme=class j6 extends rd{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):pq(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new j6(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new j6(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function pq(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var g1=class mq{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Ime(t,n);if(r.next==null)return mq.empty;let i=gq(r);r.next&&r.err("Unexpected trailing text");let o=Ume(Vme(i));return jme(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(a,s){let l=a.matchFragment(t,r);if(l&&(!n||l.validEnd))return Z.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:d}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,s.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return o}).join(`
`)}};g1.empty=new g1(!0);var Ime=class{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function gq(e){let t=[];do t.push(Nme(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Nme(e){let t=[];do t.push(Lme(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Lme(e){let t=Hme(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=zme(e,t);else break;return t}function e$(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function zme(e,t){let n=e$(e),r=n;return e.eat(",")&&(e.next!="}"?r=e$(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Pme(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let a=n[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function Hme(e){if(e.eat("(")){let t=gq(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Pme(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Vme(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(a,s,l){let u={term:l,to:s};return t[a].push(u),u}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(o(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=o(a.exprs[l],s);if(l==a.exprs.length-1)return u;i(u,s=n())}else if(a.type=="star"){let l=n();return r(s,l),i(o(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(o(a.expr,s),l),i(o(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=n();i(o(a.expr,l),c),l=c}if(a.max==-1)i(o(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=n();r(l,c),i(o(a.expr,l),c),l=c}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function vq(e,t){return t-e}function t$(e,t){let n=[];return r(t),n.sort(vq);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&n.indexOf(l)==-1&&r(l)}}}function Ume(e){let t=Object.create(null);return n(t$(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);t$(e,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=t[r.join(",")]=new g1(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(vq);o.next.push({type:i[a][0],next:t[s.join(",")]||n(s)})}return o}}function jme(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function yq(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function bq(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function wq(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function xq(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new qme(e,r,t[r]);return n}var n$=class Eq{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=xq(t,r.attrs),this.defaultAttrs=yq(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==g1.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:bq(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new rd(this,this.computeAttrs(t),Z.from(n),Zt.setFrom(r))}createChecked(t=null,n,r){return n=Z.from(n),this.checkContent(n),new rd(this,this.computeAttrs(t),n,Zt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Z.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Z.empty,!0);return o?new rd(this,t,n.append(o),Zt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){wq(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Zt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,a)=>r[o]=new Eq(o,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function $me(e,t,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}var qme=class{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?$me(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}},Sq=class Cq{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=xq(t,i.attrs),this.excluded=null;let o=yq(this.attrs);this.instance=o?new Zt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Zt(this,bq(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,a)=>r[o]=new Cq(o,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){wq(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},Aq=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=Jj.from(e.nodes),t.marks=Jj.from(e.marks||{}),this.nodes=n$.compile(this.spec.nodes,this),this.marks=Sq.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=g1.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?r$(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:r$(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof n$){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new Fme(n,n.defaultAttrs,e,Zt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return rd.fromJSON(this,e)}markFromJSON(e){return Zt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}};function r$(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Kme(e){return e.tag!=null}function Yme(e){return e.style!=null}var d1=class $6{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Kme(i))this.tags.push(i);else if(Yme(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new o$(this,n,!1);return r.addAll(t,Zt.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new o$(this,n,!0);return r.addAll(t,Zt.none,n.from,n.to),fe.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Qme(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let s=n[a];if((s.priority==null?50:s.priority)<o)break}n.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=a$(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=a$(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new $6(t,$6.schemaRules(t)))}},Tq={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Wme={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},kq={ol:!0,ul:!0},v1=1,q6=2,f1=4;function i$(e,t,n){return t!=null?(t?v1:0)|(t==="full"?q6:0):e&&e.whitespace=="pre"?v1|q6:n&~f1}var oS=class{constructor(e,t,n,r,i,o){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=o,this.content=[],this.activeMarks=Zt.none,this.match=i||(o&f1?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Z.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(e.type))?(this.match=n,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&v1)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let t=Z.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Z.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Tq.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},o$=class{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=t.topNode,i,o=i$(null,t.preserveWhitespace,0)|(n?f1:0);r?i=new oS(r.type,r.attrs,Zt.none,!0,t.topMatch||r.type.contentMatch,o):n?i=new oS(null,null,Zt.none,!0,null,o):i=new oS(e.schema.topNodeType,null,Zt.none,!0,null,o),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,i=r.options&q6?"full":this.localPreserveWS||(r.options&v1)>0;if(i==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)i!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;kq.hasOwnProperty(o)&&this.parser.normalizeLists&&Gme(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));e:if(s?s.ignore:Wme.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let l,u=this.needsBlock;if(Tq.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),l=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let c=s&&s.skip?t:this.readStyles(e,t);c&&this.addAll(e,c),l&&this.sync(i),this.needsBlock=u}else{let l=this.readStyles(e,t);l&&this.addElementByRule(e,s,l,s.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],o=n.getPropertyValue(i);if(o)for(let a=void 0;;){let s=this.parser.matchStyle(i,o,this,a);if(!s)break;if(s.ignore)return null;if(s.clearMark?t=t.filter(l=>!s.clearMark(l)):t=t.concat(this.parser.schema.marks[s.mark].create(s.attrs)),s.consuming===!1)a=s;else break}}return t}addElementByRule(e,t,n,r){let i,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),n)||this.leafFallback(e,n);else{let s=this.enter(o,t.attrs||null,n,t.preserveWhitespace);s&&(i=!0,n=s)}else{let s=this.parser.schema.marks[t.mark];n=n.concat(s.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(s=>this.insertNode(s,n));else{let s=e;typeof t.contentElement=="string"?s=e.querySelector(t.contentElement):typeof t.contentElement=="function"?s=t.contentElement(e):t.contentElement&&(s=t.contentElement),this.findAround(e,s,!0),this.addAll(s,n),this.findAround(e,s,!1)}i&&this.sync(a)&&this.open--}addAll(e,t,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=r==null?null:e.childNodes[r];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,t);this.findAtPoint(e,i)}findPlace(e,t){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,r=o,!a.length)||o.solid)break}if(!n)return null;this.sync(r);for(let i=0;i<n.length;i++)t=this.enterInner(n[i],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(t=this.enterInner(r,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let i=Zt.none;for(let o of n.concat(e.marks))(r.type?r.type.allowsMarkType(o.type):s$(o.type,e.type))&&(i=o.addToSet(i));return r.content.push(e.mark(i)),!0}return!1}enter(e,t,n,r){let i=this.findPlace(e.create(t),n);return i&&(i=this.enterInner(e,t,n,!0,r)),i}enterInner(e,t,n,r=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=i$(e,i,o.options);o.options&f1&&o.content.length==0&&(a|=f1);let s=Zt.none;return n=n.filter(l=>(o.type?o.type.allowsMarkType(l.type):s$(l.type,e))?(s=l.addToSet(s),!1):!0),this.nodes.push(new oS(e,t,s,r,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=v1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(a,s)=>{for(;a>=0;a--){let l=t[a];if(l==""){if(a==t.length-1||a==0)continue;for(;s>=i;s--)if(o(a-1,s))return!0;return!1}else{let u=s>0||s==0&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!u||u.name!=l&&!u.isInGroup(l))return!1;s--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}};function Gme(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&kq.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Qme(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function a$(e){let t={};for(let n in e)t[n]=e[n];return t}function s$(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==t||o.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}var C1=class Dq{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=E6(n).createDocumentFragment());let i=r,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=fS(E6(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&fS(E6(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return fS(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Dq(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=l$(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return l$(t.marks)}};function l$(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function E6(e){return e.document||window.document}var u$=new WeakMap;function Jme(e){let t=u$.get(e);return t===void 0&&u$.set(e,t=Xme(e)),t}function Xme(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function fS(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=Jme(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let s,l=n?e.createElementNS(n,i):e.createElement(i),u=t[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):l.setAttribute(d,u[d])}}for(let d=c;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=fS(e,f,n,r);if(l.appendChild(h),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}var Mq=65535,Rq=Math.pow(2,16);function Zme(e,t){return e+t*Rq}function c$(e){return e&Mq}function e0e(e){return(e-(e&Mq))/Rq}var Oq=1,Bq=2,hS=4,_q=8,K6=class{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&_q)>0}get deletedBefore(){return(this.delInfo&(Oq|hS))>0}get deletedAfter(){return(this.delInfo&(Bq|hS))>0}get deletedAcross(){return(this.delInfo&hS)>0}},Vf=class Om{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Om.empty)return Om.empty}recover(t){let n=0,r=c$(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+e0e(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[s+o],c=this.ranges[s+a],d=l+u;if(t<=d){let f=u?t==l?-1:t==d?1:n:n,h=l+i+(f<0?0:c);if(r)return h;let p=t==(n<0?l:d)?null:Zme(s/3,t-l),m=t==l?Bq:t==d?Oq:hS;return(n<0?t!=l:t!=d)&&(m|=_q),new K6(h,m,p)}i+=c-u}return r?t+i:new K6(t+i,0,null)}touches(t,n){let r=0,i=c$(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[s+o],c=l+u;if(t<=c&&s==i*3)return!0;r+=this.ranges[s+a]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];t(s,s+u,l,l+c),o+=c-u}}invert(){return new Om(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Om.empty:new Om(t<0?[0,-t,0]:[0,0,t])}};Vf.empty=new Vf([]);var t0e=class pS{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new pS(this.maps,this.mirror,t,n)}copy(){return new pS(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new pS;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o],s=a.mapResult(t,n);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return r?t:new K6(t,i,null)}},S6=Object.create(null),vi=class{getMap(){return Vf.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=S6[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in S6)throw new RangeError("Duplicate use of step JSON ID "+e);return S6[e]=t,t.prototype.jsonID=e,t}},Pi=class Xv{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Xv(t,null)}static fail(t){return new Xv(null,t)}static fromReplace(t,n,r,i){try{return Xv.ok(t.replace(n,r,i))}catch(o){if(o instanceof wS)return Xv.fail(o.message);throw o}}};function hM(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(hM(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Z.fromArray(r)}var pM=class Zv extends vi{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new fe(hM(n.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Pi.fromReplace(t,this.from,this.to,o)}invert(){return new A1(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Zv(n.pos,r.pos,this.mark)}merge(t){return t instanceof Zv&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Zv(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Zv(n.from,n.to,t.markFromJSON(n.mark))}};vi.jsonID("addMark",pM);var A1=class e1 extends vi{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new fe(hM(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Pi.fromReplace(t,this.from,this.to,r)}invert(){return new pM(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e1(n.pos,r.pos,this.mark)}merge(t){return t instanceof e1&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new e1(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e1(n.from,n.to,t.markFromJSON(n.mark))}};vi.jsonID("removeMark",A1);var mM=class t1 extends vi{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Pi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Pi.fromReplace(t,this.pos,this.pos+1,new fe(Z.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new t1(this.pos,n.marks[i]);return new t1(this.pos,this.mark)}}return new gM(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new t1(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new t1(n.pos,t.markFromJSON(n.mark))}};vi.jsonID("addNodeMark",mM);var gM=class Y6 extends vi{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Pi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Pi.fromReplace(t,this.pos,this.pos+1,new fe(Z.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new mM(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Y6(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Y6(n.pos,t.markFromJSON(n.mark))}};vi.jsonID("removeNodeMark",gM);var hs=class _f extends vi{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&W6(t,this.from,this.to)?Pi.fail("Structure replace would overwrite content"):Pi.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Vf([this.from,this.to-this.from,this.slice.size])}invert(t){return new _f(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new _f(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof _f)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?fe.empty:new fe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new _f(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?fe.empty:new fe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new _f(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _f(n.from,n.to,fe.fromJSON(t,n.slice),!!n.structure)}};vi.jsonID("replace",hs);var mo=class mS extends vi{constructor(t,n,r,i,o,a,s=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(W6(t,this.from,this.gapFrom)||W6(t,this.gapTo,this.to)))return Pi.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Pi.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Pi.fromReplace(t,this.from,this.to,r):Pi.fail("Content does not fit in gap")}getMap(){return new Vf([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new mS(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new mS(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new mS(n.from,n.to,n.gapFrom,n.gapTo,fe.fromJSON(t,n.slice),n.insert,!!n.structure)}};vi.jsonID("replaceAround",mo);function W6(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function n0e(e,t,n,r){let i=[],o=[],a,s;e.doc.nodesBetween(t,n,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,t),h=Math.min(u+l.nodeSize,n),p=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(a&&a.to==f&&a.mark.eq(d[m])?a.to=h:i.push(a=new A1(f,h,d[m])));s&&s.to==f?s.to=h:o.push(s=new pM(f,h,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function r0e(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(r instanceof Sq){let u=a.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,n);for(let c=0;c<l.length;c++){let d=l[c],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(s,t),to:u,step:o})}}}),i.forEach(a=>e.step(new A1(a.from,a.to,a.style)))}function vM(e,t,n,r=n.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),c=s+u.nodeSize,d=r.matchType(u.type);if(!d)a.push(new hs(s,c,fe.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||e.step(new A1(s,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(u.text);)p||(p=new fe(Z.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new hs(s+f.index,s+f.index+f[0].length,p))}}s=c}if(!r.validEnd){let l=r.fillBefore(Z.empty,!0);e.replace(s,s,new fe(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function i0e(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Vm(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),o=e.$from.index(r),a=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,a,n))return r;if(r==0||i.type.spec.isolating||!i0e(i,o,a))break}return null}function o0e(e,t,n){let{$from:r,$to:i,depth:o}=t,a=r.before(o+1),s=i.after(o+1),l=a,u=s,c=Z.empty,d=0;for(let p=o,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,c=Z.from(r.node(p).copy(c)),d++):l--;let f=Z.empty,h=0;for(let p=o,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=Z.from(i.node(p).copy(f)),h++):u++;e.step(new mo(l,u,a,s,new fe(c.append(f),d,h),c.size-d,!0))}function yM(e,t,n=null,r=e){let i=a0e(e,t),o=i&&s0e(r,t);return o?i.map(d$).concat({type:t,attrs:n}).concat(o.map(d$)):null}function d$(e){return{type:e,attrs:null}}function a0e(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}function s0e(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:a}function l0e(e,t,n){let r=Z.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let s=n[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Z.from(n[a].type.create(n[a].attrs,r))}let i=t.start,o=t.end;e.step(new mo(i,o,i,o,new fe(r,0,0),n.length,!0))}function u0e(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&c0e(e.doc,e.mapping.slice(o).map(s),r)){let u=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?u=!1:!h&&p&&(u=!0)}u===!1&&Iq(e,a,s,o),vM(e,e.mapping.slice(o).map(s,1),r,void 0,u===null);let c=e.mapping.slice(o),d=c.map(s,1),f=c.map(s+a.nodeSize,1);return e.step(new mo(d,f,d+1,f-1,new fe(Z.from(r.create(l,null,a.marks)),0,0),1,!0)),u===!0&&Fq(e,a,s,o),!1}})}function Fq(e,t,n,r){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(r).map(n+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function Iq(e,t,n,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function c0e(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function d0e(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new mo(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new fe(Z.from(a),0,0),1,!0))}function wu(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(h))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function f0e(e,t,n=1,r){let i=e.doc.resolve(t),o=Z.empty,a=Z.empty;for(let s=i.depth,l=i.depth-n,u=n-1;s>l;s--,u--){o=Z.from(i.node(s).copy(o));let c=r&&r[u];a=Z.from(c?c.type.create(c.attrs,a):i.node(s).copy(a))}e.step(new hs(t,t,new fe(o.append(a),n,n),!0))}function ad(e,t){let n=e.resolve(t),r=n.index();return Nq(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function h0e(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function Nq(e,t){return!!(e&&t&&!e.isLeaf&&h0e(e,t))}function OS(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,a,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&Nq(o,a)&&r.node(i).canReplace(s,s+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function p0e(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),a=o.node().type;if(i&&a.inlineContent){let c=a.whitespace=="pre",d=!!a.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let s=e.steps.length;if(r===!1){let c=e.doc.resolve(t+n);Iq(e,c.node(),c.before(),s)}a.inlineContent&&vM(e,t+n-1,a,o.node().contentMatchAt(o.index()),r==null);let l=e.mapping.slice(s),u=l.map(t-n);if(e.step(new hs(u,l.map(t+n,-1),fe.empty,!0)),r===!0){let c=e.doc.resolve(u);Fq(e,c.node(),c.before(),e.steps.length)}return e}function m0e(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function bM(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),u=r.node(a),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function BS(e,t,n=t,r=fe.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return Lq(i,o,r)?new hs(t,n,r):new g0e(i,o,r).fit()}function Lq(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}var g0e=class{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=Z.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=Z.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,o=n.depth,a=r.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let s=new fe(i,o,a);return e>-1?new mo(n.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||n.pos!=this.$to.pos?new hs(n.pos,r.pos,s):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=C6(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:s,match:l}=this.frontier[a],u,c=null;if(t==1&&(o?l.matchType(o.type)||(c=l.fillBefore(Z.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:a,parent:i,inject:c};if(t==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=C6(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new fe(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=C6(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new fe(n1(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new fe(n1(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let p=0;p<i.length;p++)this.openFrontierNode(i[p]);let o=this.unplaced,a=n?n.content:o.content,s=o.openStart-e,l=0,u=[],{match:c,type:d}=this.frontier[t];if(r){for(let p=0;p<r.childCount;p++)u.push(r.child(p));c=c.matchFragment(r)}let f=a.size+e-(o.content.size-o.openEnd);for(;l<a.childCount;){let p=a.child(l),m=c.matchType(p.type);if(!m)break;l++,(l>1||s==0||p.content.size)&&(c=m,u.push(zq(p.mark(d.allowedMarks(p.marks)),l==1?s:0,l==a.childCount?f:-1)))}let h=l==a.childCount;h||(f=-1),this.placed=r1(this.placed,t,Z.from(u)),this.frontier[t].match=c,h&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,m=a;p<f;p++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=h?e==0?fe.empty:new fe(n1(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new fe(n1(o.content,e,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!A6(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=A6(e,t,r,n,i);if(o){for(let a=t-1;a>=0;a--){let{match:s,type:l}=this.frontier[a],u=A6(e,a,l,s,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=r1(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let r=e.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=r1(this.placed,this.depth,Z.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Z.empty,!0);t.childCount&&(this.placed=r1(this.placed,this.frontier.length,t))}};function n1(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(n1(e.firstChild.content,t-1,n)))}function r1(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(r1(e.lastChild.content,t-1,n)))}function C6(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function zq(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,zq(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Z.empty,!0)))),e.copy(r)}function A6(e,t,n,r,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!v0e(n,o.content,a)?s:null}function v0e(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function y0e(e){return e.spec.defining||e.spec.definingForContent}function b0e(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(Lq(i,o,r))return e.step(new hs(t,n,r));let a=Hq(i,e.doc.resolve(n));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(f)>-1?s=f:i.before(f)==h&&a.splice(1,0,-f)}let l=a.indexOf(s),u=[],c=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==r.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let h=u[f],p=y0e(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(s)-1)))c=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+c+1)%(r.openStart+1),p=u[h];if(p)for(let m=0;m<a.length;m++){let v=a[(m+l)%a.length],g=!0;v<0&&(g=!1,v=-v);let y=i.node(v-1),w=i.index(v-1);if(y.canReplaceWith(w,w,p.type,p.marks))return e.replace(i.before(v),g?o.after(v):n,new fe(Pq(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=a.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=a[f];h<0||(t=i.before(h),n=o.after(h))}}function Pq(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(Pq(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(Z.empty,!0))}return e}function w0e(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=m0e(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new fe(Z.from(r),0,0))}function x0e(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=Hq(r,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return e.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return e.delete(r.before(s),i.after(s))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function Hq(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}var Vq=class gS extends vi{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Pi.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Pi.fromReplace(t,this.pos,this.pos+1,new fe(Z.from(i),0,n.isLeaf?0:1))}getMap(){return Vf.empty}invert(t){return new gS(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new gS(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gS(n.pos,n.attr,n.value)}};vi.jsonID("attr",Vq);var Uq=class G6 extends vi{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Pi.ok(r)}getMap(){return Vf.empty}invert(t){return new G6(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new G6(n.attr,n.value)}};vi.jsonID("docAttr",Uq);var zm=class extends Error{};zm=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};zm.prototype=Object.create(Error.prototype);zm.prototype.constructor=zm;zm.prototype.name="TransformError";var wM=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new t0e}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new zm(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=fe.empty){let r=BS(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new fe(Z.from(n),0,0))}delete(e,t){return this.replace(e,t,fe.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return b0e(this,e,t,n),this}replaceRangeWith(e,t,n){return w0e(this,e,t,n),this}deleteRange(e,t){return x0e(this,e,t),this}lift(e,t){return o0e(this,e,t),this}join(e,t=1){return p0e(this,e,t),this}wrap(e,t){return l0e(this,e,t),this}setBlockType(e,t=e,n,r=null){return u0e(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return d0e(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new Vq(e,t,n)),this}setDocAttribute(e,t){return this.step(new Uq(e,t)),this}addNodeMark(e,t){return this.step(new mM(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Zt)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new gM(e,t)),this}split(e,t=1,n){return f0e(this,e,t,n),this}addMark(e,t,n){return n0e(this,e,t,n),this}removeMark(e,t,n){return r0e(this,e,t,n),this}clearIncompatible(e,t,n){return vM(this,e,t,n),this}},T6=Object.create(null),Fe=class{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new xM(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=fe.empty){let n=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:s,$to:l}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(s.pos),u.map(l.pos),a?fe.empty:t),a==0&&p$(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:a}=r[i],s=e.mapping.slice(n),l=s.map(o.pos),u=s.map(a.pos);i?e.deleteRange(l,u):(e.replaceRangeWith(l,u,t),p$(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new Be(e):Bm(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let i=e.depth-1;i>=0;i--){let o=t<0?Bm(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):Bm(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new al(e.node(0))}static atStart(e){return Bm(e,e,0,0,1)||new al(e)}static atEnd(e){return Bm(e,e,e.content.size,e.childCount,-1)||new al(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=T6[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in T6)throw new RangeError("Duplicate use of selection JSON ID "+e);return T6[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Be.between(this.$anchor,this.$head).getBookmark()}};Fe.prototype.visible=!0;var xM=class{constructor(e,t){this.$from=e,this.$to=t}},f$=!1;function h$(e){!f$&&!e.parent.inlineContent&&(f$=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var Be=class i1 extends Fe{constructor(t,n=t){h$(t),h$(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Fe.near(r);let i=t.resolve(n.map(this.anchor));return new i1(i.parent.inlineContent?i:r,r)}replace(t,n=fe.empty){if(super.replace(t,n),n==fe.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof i1&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new jq(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new i1(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Fe.findFrom(n,r,!0)||Fe.findFrom(n,-r,!0);if(o)n=o.$head;else return Fe.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Fe.findFrom(t,-r,!0)||Fe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new i1(t,n)}};Fe.jsonID("text",Be);var jq=class $q{constructor(t,n){this.anchor=t,this.head=n}map(t){return new $q(t.map(this.anchor),t.map(this.head))}resolve(t){return Be.between(t.resolve(this.anchor),t.resolve(this.head))}},Oe=class o1 extends Fe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Fe.near(o):new o1(o)}content(){return new fe(Z.from(this.node),0,0)}eq(t){return t instanceof o1&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new E0e(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new o1(t.resolve(n.anchor))}static create(t,n){return new o1(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};Oe.prototype.visible=!1;Fe.jsonID("node",Oe);var E0e=class qq{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new jq(r,r):new qq(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Oe.isSelectable(r)?new Oe(n):Fe.near(n)}},al=class vS extends Fe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=fe.empty){if(n==fe.empty){t.delete(0,t.doc.content.size);let r=Fe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new vS(t)}map(t){return new vS(t)}eq(t){return t instanceof vS}getBookmark(){return S0e}};Fe.jsonID("all",al);var S0e={map(){return this},resolve(e){return new al(e)}};function Bm(e,t,n,r,i,o=!1){if(t.inlineContent)return Be.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&Oe.isSelectable(s))return Oe.create(e,n-(i<0?s.nodeSize:0))}else{let l=Bm(e,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function p$(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof hs||i instanceof mo))return;let o=e.mapping.maps[r],a;o.forEach((s,l,u,c)=>{a==null&&(a=c)}),e.setSelection(Fe.near(e.doc.resolve(a),n))}var m$=1,aS=2,g$=4,C0e=class extends wM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|m$)&~aS,this.storedMarks=null,this}get selectionSet(){return(this.updated&m$)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=aS,this}ensureMarks(e){return Zt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&aS)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~aS,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Zt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(t);i=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(Fe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=g$,this}get scrolledIntoView(){return(this.updated&g$)>0}};function v$(e,t){return!t||!e?e:e.bind(t)}var a1=class{constructor(e,t,n){this.name=e,this.init=v$(t.init,n),this.apply=v$(t.apply,n)}},A0e=[new a1("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new a1("selection",{init(e,t){return e.selection||Fe.atStart(t.doc)},apply(e){return e.selection}}),new a1("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new a1("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})],k6=class{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=A0e.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new a1(n.key,n.spec.state,n))})}},T0e=class s1{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,c=l<n.length&&s.spec.appendTransaction.call(s,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new s1(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new C0e(this)}static create(t){let n=new k6(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new s1(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new k6(this.schema,t.plugins),r=n.fields,i=new s1(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new k6(t.schema,t.plugins),o=new s1(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=rd.fromJSON(t.schema,n.doc);else if(a.name=="selection")o.selection=Fe.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[a.name]=u.fromJSON.call(l,t,n[s],o);return}}o[a.name]=a.init(t,o)}}),o}};function Kq(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=Kq(i,t,{})),n[r]=i}return n}var Xn=class{constructor(e){this.spec=e,this.props={},e.props&&Kq(e.props,this,this.props),this.key=e.key?e.key.key:Yq("plugin")}getState(e){return e[this.key]}},D6=Object.create(null);function Yq(e){return e in D6?e+"$"+ ++D6[e]:(D6[e]=0,e+"$")}var _r=class{constructor(e="key"){this.key=Yq(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}},Qr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},y1=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t},Q6=null,vu=function(e,t,n){let r=Q6||(Q6=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},k0e=function(){Q6=null},Uf=function(e,t,n,r){return n&&(y$(e,t,n,r,-1)||y$(e,t,n,r,1))},D0e=/^(img|br|input|textarea|hr)$/i;function y$(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:ka(e))){let o=e.parentNode;if(!o||o.nodeType!=1||T1(e)||D0e.test(e.nodeName)||e.contentEditable=="false")return!1;t=Qr(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?ka(e):0}else return!1}}function ka(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function M0e(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=ka(e)}else if(e.parentNode&&!T1(e))t=Qr(e),e=e.parentNode;else return null}}function R0e(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!T1(e))t=Qr(e)+1,e=e.parentNode;else return null}}function O0e(e,t,n){for(let r=t==0,i=t==ka(e);r||i;){if(e==n)return!0;let o=Qr(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==ka(e)}}function T1(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var _S=function(e){return e.focusNode&&Uf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Ff(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function B0e(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function _0e(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(ka(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(ka(r.startContainer),r.startOffset)}}}var sl=typeof navigator<"u"?navigator:null,b$=typeof document<"u"?document:null,sd=sl&&sl.userAgent||"",J6=/Edge\/(\d+)/.exec(sd),Wq=/MSIE \d/.exec(sd),X6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(sd),po=!!(Wq||X6||J6),id=Wq?document.documentMode:X6?+X6[1]:J6?+J6[1]:0,ps=!po&&/gecko\/(\d+)/i.test(sd);ps&&+(/Firefox\/(\d+)/.exec(sd)||[0,0])[1];var Z6=!po&&/Chrome\/(\d+)/.exec(sd),gi=!!Z6,Gq=Z6?+Z6[1]:0,Vi=!po&&!!sl&&/Apple Computer/.test(sl.vendor),Pm=Vi&&(/Mobile\/\w+/.test(sd)||!!sl&&sl.maxTouchPoints>2),Ta=Pm||(sl?/Mac/.test(sl.platform):!1),F0e=sl?/Win/.test(sl.platform):!1,yu=/Android \d/.test(sd),k1=!!b$&&"webkitFontSmoothing"in b$.documentElement.style,I0e=k1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function N0e(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function gu(e,t){return typeof e=="number"?e:e[t]}function L0e(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function w$(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=n||e.dom;a;a=y1(a)){if(a.nodeType!=1)continue;let s=a,l=s==o.body,u=l?N0e(o):L0e(s),c=0,d=0;if(t.top<u.top+gu(r,"top")?d=-(u.top-t.top+gu(i,"top")):t.bottom>u.bottom-gu(r,"bottom")&&(d=t.bottom-t.top>u.bottom-u.top?t.top+gu(i,"top")-u.top:t.bottom-u.bottom+gu(i,"bottom")),t.left<u.left+gu(r,"left")?c=-(u.left-t.left+gu(i,"left")):t.right>u.right-gu(r,"right")&&(c=t.right-u.right+gu(i,"right")),c||d)if(l)o.defaultView.scrollBy(c,d);else{let f=s.scrollLeft,h=s.scrollTop;d&&(s.scrollTop+=d),c&&(s.scrollLeft+=c);let p=s.scrollLeft-f,m=s.scrollTop-h;t={left:t.left-p,top:t.top-m,right:t.right-p,bottom:t.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function z0e(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=n-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:Qq(e.dom)}}function Qq(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=y1(r));return t}function P0e({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Jq(n,r==0?0:r-t)}function Jq(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}var Dm=null;function H0e(e){if(e.setActive)return e.setActive();if(Dm)return e.focus(Dm);let t=Qq(e);e.focus(Dm==null?{get preventScroll(){return Dm={preventScroll:!0},!0}}:void 0),Dm||(Dm=!1,Jq(t,0))}function Xq(e,t){let n,r=2e8,i,o=0,a=t.top,s=t.top,l,u;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=vu(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);let m=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(m<r){n=c,r=m,i=m&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,c.nodeType==1&&m&&(o=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=c,u={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?V0e(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:Xq(n,i)}function V0e(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=Xc(r,1);if(o.top!=o.bottom&&EM(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function EM(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function U0e(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function j0e(e,t,n){let{node:r,offset:i}=Xq(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function $0e(e,t,n,r){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&(!a&&l.left>r.left||l.top>r.top?i=s.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function Zq(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(EM(t,u))return Zq(a,t,u)}}if((o=(o+1)%r)==i)break}return e}function q0e(e,t){let n=e.dom.ownerDocument,r,i=0,o=_0e(n,t.left,t.top);o&&({node:r,offset:i}=o);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=e.dom.getBoundingClientRect();if(!EM(t,u)||(a=Zq(e.dom,t,u),!a))return null}if(Vi)for(let u=a;r&&u;u=y1(u))u.draggable&&(r=void 0);if(a=U0e(a,t),r){if(ps&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let u;k1&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=$0e(e,r,i,t))}s==null&&(s=j0e(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function x$(e){return e.top<e.bottom||e.left<e.right}function Xc(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(x$(r))return r}return Array.prototype.find.call(n,x$)||e.getBoundingClientRect()}var K0e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function eK(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),a=k1||ps;if(r.nodeType==3)if(a&&(K0e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Xc(vu(r,i,i),n);if(ps&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Xc(vu(r,i-1,i-1),-1);if(u.top==l.top){let c=Xc(vu(r,i,i+1),-1);if(c.top!=l.top)return Jv(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,Jv(Xc(vu(r,l,u),c),c<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==ka(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return M6(l.getBoundingClientRect(),!1)}if(o==null&&i<ka(r)){let l=r.childNodes[i];if(l.nodeType==1)return M6(l.getBoundingClientRect(),!0)}return M6(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==ka(r))){let l=r.childNodes[i-1],u=l.nodeType==3?vu(l,ka(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Jv(Xc(u,1),!1)}if(o==null&&i<ka(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?vu(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return Jv(Xc(u,-1),!0)}return Jv(Xc(r.nodeType==3?vu(r):r,-n),n>=0)}function Jv(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function M6(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function tK(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function Y0e(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return tK(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=eK(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=vu(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}var W0e=/[\u0590-\u08ac]/;function G0e(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=e.domSelection();return s?!W0e.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:a:tK(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),f=s.caretBidiLevel;s.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:m}=e.domSelectionRange(),v=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==m;try{s.collapse(c,d),l&&(l!=c||u!=d)&&s.extend&&s.extend(l,u)}catch{}return f!=null&&(s.caretBidiLevel=f),v}):r.pos==r.start()||r.pos==r.end()}var E$=null,S$=null,C$=!1;function Q0e(e,t,n){return E$==t&&S$==n?C$:(E$=t,S$=n,C$=n=="up"||n=="down"?Y0e(e,t,n):G0e(e,t,n))}var Da=0,A$=1,If=2,ll=3,D1=class{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=Da,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=t>Qr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&t==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),o;if(i&&(!t||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],a=i+o.size;if(a>e||o instanceof aK){r=e-i;break}i=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof nK&&i.side>=0;n--);if(t<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&t&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,t):{node:this.contentDOM,offset:i?Qr(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,t):{node:this.contentDOM,offset:i?Qr(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let s=this.children[a],l=o+s.size;if(r==-1&&e<=l){let u=o+s.border;if(e>=u&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,u);e=o;for(let c=a;c>0;c--){let d=this.children[c-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=Qr(d.dom)+1;break}e-=d.size}r==-1&&(r=0)}if(r>-1&&(l>t||a==this.children.length-1)){t=l;for(let u=a+1;u<this.children.length;u++){let c=this.children[u];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){i=Qr(c.dom);break}t+=c.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],m=h+p.size;if(i>h&&o<m)return p.setSelection(e-h-p.border,t-h-p.border,n,r);h=m}let a=this.domFromPos(e,e?-1:1),s=t==e?a:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),u=n.domSelectionRange(),c=!1;if((ps||Vi)&&e==t){let{node:f,offset:h}=a;if(f.nodeType==3){if(c=!!(h&&f.nodeValue[h-1]==`
`),c&&h==f.nodeValue.length)for(let p=f,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(a=s={node:m.parentNode,offset:Qr(m)+1});break}let v=p.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let p=f.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(ps&&u.focusNode&&u.focusNode!=s.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(r=!0)}if(!(r||c&&Vi)&&Uf(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Uf(s.node,s.offset,u.focusNode,u.focusOffset))return;let d=!1;if((l.extend||e==t)&&!c){l.collapse(a.node,a.offset);try{e!=t&&l.extend(s.node,s.offset),d=!0}catch{}}if(!d){if(e>t){let h=a;a=s,s=h}let f=document.createRange();f.setEnd(s.node,s.offset),f.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let a=n+i.border,s=o-i.border;if(e>=a&&t<=s){this.dirty=e==n||t==o?If:A$,e==a&&t==s&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ll:i.markDirty(e-a,t-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?If:ll}n=o}this.dirty=If}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?If:A$;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}},nK=class extends D1{constructor(e,t,n,r){let i,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return this.dirty==Da&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},J0e=class extends D1{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},SS=class eM extends D1{constructor(t,n,r,i,o){super(t,[],r,i),this.mark=n,this.spec=o}static create(t,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return(!a||!a.dom)&&(a=C1.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new eM(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ll||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=ll&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Da){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Da}}slice(t,n,r){let i=eM.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=nM(o,n,a,r)),t>0&&(o=nM(o,0,t,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},Nm=class rK extends D1{constructor(t,n,r,i,o,a,s,l,u){super(t,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(t,n,r,i,o,a){let s=o.nodeViews[n.type.name],l,u=s&&s(n,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=C1.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=uK(c,r,n),u?l=new X0e(t,n,r,i,c,d||null,f,u,o,a+1):n.isText?new iK(t,n,r,i,c,f,o):new rK(t,n,r,i,c,d||null,f,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Z.empty)}return t}matchesNode(t,n,r){return this.dirty==Da&&t.eq(this.node)&&CS(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new ege(this,a&&a.node,t);rge(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?Zt.none:this.node.child(c).marks,r,t),l.placeWidget(u,t,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,r,t);let h;l.findNodeMatch(u,c,d,f)||s&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,d,h,t)||l.updateNextNode(u,c,d,t,f,i)||l.addNode(u,c,d,t,i),i+=u.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==If)&&(a&&this.protectLocalComposition(t,a),sK(this.contentDOM,this.children,t),Pm&&ige(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Be)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=oge(this.node.content,a,r-n,i-n);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new J0e(this,o,n,i);t.input.compositionNodes.push(a),this.children=nM(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==ll||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Da}updateOuterDeco(t){if(CS(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=lK(this.dom,this.nodeDOM,tM(this.outerDeco,this.node,n),tM(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function T$(e,t,n,r,i){uK(r,t,e);let o=new Nm(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}var iK=class oK extends Nm{constructor(t,n,r,i,o,a,s){super(t,n,r,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==ll||this.dirty!=Da&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Da||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Da,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new oK(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ll)}get domAtom(){return!1}isText(t){return this.node.text==t}},aK=class extends D1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Da&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},X0e=class extends Nm{constructor(e,t,n,r,i,o,a,s,l,u){super(e,t,n,r,i,o,a,l,u),this.spec=s}update(e,t,n,r){if(this.dirty==ll)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function sK(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=k$(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(a instanceof SS){let l=r?r.previousSibling:e.lastChild;sK(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=k$(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}var h1=function(e){e&&(this.nodeName=e)};h1.prototype=Object.create(null);var Nf=[new h1];function tM(e,t,n){if(e.length==0)return Nf;let r=n?Nf[0]:new h1,i=[r];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(r=new h1(a.nodeName));for(let s in a){let l=a[s];l!=null&&(n&&i.length==1&&i.push(r=new h1(t.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function lK(e,t,n,r){if(n==Nf&&r==Nf)return t;let i=t;for(let o=0;o<r.length;o++){let a=r[o],s=n[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Nf[0]),i=l}Z0e(i,s||Nf[0],a)}return i}function Z0e(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function uK(e,t,n){return lK(e,e,Nf,tM(t,n,e.nodeType!=1))}function CS(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function k$(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}var ege=class{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=tge(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=Da,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let s=this.index;s<Math.min(this.index+3,this.top.children.length);s++){let l=this.top.children[s];if(l.matchesMark(e[i])&&!this.isLocked(l.dom)){a=s;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let s=SS.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,s),this.top=s,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){let l=this.top.children[a];if(l.matchesNode(e,t,n)&&!this.preMatch.matched.has(l)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,i){let o=this.top.children[r];return o.dirty==ll&&o.dom==o.contentDOM&&(o.dirty=If),o.update(e,t,n,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}e=t}}updateNextNode(e,t,n,r,i,o){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof Nm){let l=this.preMatch.matched.get(s);if(l!=null&&l!=i)return!1;let u=s.dom,c,d=this.isLocked(u)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=ll&&CS(t,s.outerDeco));if(!d&&s.update(e,t,n,r))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(s,e,t,n,r,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=If,c.updateChildren(r,o+1),c.dirty=Da),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,i,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!CS(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=Nm.create(this.top,t,n,r,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let s of a.children)s.parent=a}return e.destroy(),a}addNode(e,t,n,r,i){let o=Nm.create(this.top,e,t,n,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new nK(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof SS;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof iK)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Vi||gi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new aK(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};function tge(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let u=n.children[r-1];if(u instanceof SS)n=u,r=u.children.length;else{s=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function nge(e,t){return e.type.side-t.type.side}function rge(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let u=0;u<e.childCount;u++){let c=e.child(u);r(c,i,t.forChild(o,c),u),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){let c,d;for(;a<i.length&&i[a].to==o;){let v=i[a++];v.widget&&(c?(d||(d=[c])).push(v):c=v)}if(c)if(d){d.sort(nge);for(let v=0;v<d.length;v++)n(d[v],u,!!l)}else n(c,u,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(u<e.childCount)h=u,f=e.child(u++);else break;for(let v=0;v<s.length;v++)s[v].to<=o&&s.splice(v--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let p=o+f.nodeSize;if(f.isText){let v=p;a<i.length&&i[a].from<v&&(v=i[a].from);for(let g=0;g<s.length;g++)s[g].to<v&&(v=s[g].to);v<p&&(l=f.cut(v-o),f=f.cut(0,v-o),p=v,h=-1)}else for(;a<i.length&&i[a].to<p;)a++;let m=f.isInline&&!f.isLeaf?s.filter(v=>!v.inline):s.slice();r(f,m,t.forChild(o,f),h),o=p}}function ige(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function oge(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let u=e.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=n){if(o>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let u=s<r?l.lastIndexOf(t,r-s-1):-1;if(u>=0&&u+t.length+s>=n)return s+u;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}function nM(e,t,n,r,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],u=s,c=s+=l.size;u>=n||c<=t?o.push(l):(u<t&&o.push(l.slice(0,t-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(l.slice(n-u,l.size,r)))}return o}function SM(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,u;if(_S(n)){for(l=a;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Oe.isSelectable(d)&&i.parent&&!(d.isInline&&O0e(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new Oe(a==f?s:r.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=a,f=a;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,a]=f==e.state.selection.anchor?[f,d]:[d,f],s=r.resolve(a)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let d=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;u=CM(e,c,s,d)}return u}function cK(e){return e.editable?e.hasFocus():fK(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function xu(e,t=!1){let n=e.state.selection;if(dK(e,n),!!cK(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&gi){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Uf(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)sge(e);else{let{anchor:r,head:i}=n,o,a;D$&&!(n instanceof Be)&&(n.$from.parent.inlineContent||(o=M$(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=M$(e,n.to))),e.docView.setSelection(r,i,e,t),D$&&(o&&R$(o),a&&R$(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&age(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var D$=Vi||gi&&Gq<63;function M$(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Vi&&i&&i.contentEditable=="false")return R6(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return R6(i);if(o)return R6(o)}}function R6(e){return e.contentEditable="true",Vi&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function R$(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function age(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!cK(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function sge(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Qr(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&po&&id<=11&&(r.disabled=!0,r.disabled=!1)}function dK(e,t){if(t instanceof Oe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(O$(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else O$(e)}function O$(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function CM(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Be.between(t,n,r)}function B$(e){return e.editable&&!e.hasFocus()?!1:fK(e)}function fK(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function lge(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Uf(t.node,t.offset,n.anchorNode,n.anchorOffset)}function rM(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Fe.findFrom(o,t)}function ed(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function _$(e,t,n){let r=e.state.selection;if(r instanceof Be)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return ed(e,new Be(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=rM(e.state,t);return i&&i instanceof Oe?ed(e,i):!1}else if(!(Ta&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?Oe.isSelectable(o)?ed(e,new Oe(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):k1?ed(e,new Be(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Oe&&r.node.isInline)return ed(e,new Be(t>0?r.$to:r.$from));{let i=rM(e.state,t);return i?ed(e,i):!1}}}function AS(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function p1(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Mm(e,t){return t<0?uge(e):cge(e)}function uge(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=!1;for(ps&&n.nodeType==1&&r<AS(n)&&p1(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(p1(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(hK(n))break;{let s=n.previousSibling;for(;s&&p1(s,-1);)i=n.parentNode,o=Qr(s),s=s.previousSibling;if(s)n=s,r=AS(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?iM(e,n,r):i&&iM(e,i,o)}function cge(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=AS(n),o,a;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(p1(s,1))o=n,a=++r;else break}else{if(hK(n))break;{let s=n.nextSibling;for(;s&&p1(s,1);)o=s.parentNode,a=Qr(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=AS(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&iM(e,o,a)}function hK(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function dge(e,t){for(;e&&t==e.childNodes.length&&!T1(e);)t=Qr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function fge(e,t){for(;e&&!t&&!T1(e);)t=Qr(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function iM(e,t,n){if(t.nodeType!=3){let o,a;(a=dge(t,n))?(t=a,n=0):(o=fge(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(!r)return;if(_S(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&xu(e)},50)}function F$(e,t){let n=e.state.doc.resolve(t);if(!(gi||F0e)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function I$(e,t,n){let r=e.state.selection;if(r instanceof Be&&!r.empty||n.indexOf("s")>-1||Ta&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=rM(e.state,t);if(a&&a instanceof Oe)return ed(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=r instanceof al?Fe.near(a,t):Fe.findFrom(a,t);return s?ed(e,s):!1}return!1}function N$(e,t){if(!(e.state.selection instanceof Be))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),e.dispatch(a),!0}return!1}function L$(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function hge(e){if(!Vi||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;L$(e,r,"true"),setTimeout(()=>L$(e,r,"false"),20)}return!1}function pge(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function mge(e,t){let n=t.keyCode,r=pge(t);if(n==8||Ta&&n==72&&r=="c")return N$(e,-1)||Mm(e,-1);if(n==46&&!t.shiftKey||Ta&&n==68&&r=="c")return N$(e,1)||Mm(e,1);if(n==13||n==27)return!0;if(n==37||Ta&&n==66&&r=="c"){let i=n==37?F$(e,e.state.selection.from)=="ltr"?-1:1:-1;return _$(e,i,r)||Mm(e,i)}else if(n==39||Ta&&n==70&&r=="c"){let i=n==39?F$(e,e.state.selection.from)=="ltr"?1:-1:1;return _$(e,i,r)||Mm(e,i)}else{if(n==38||Ta&&n==80&&r=="c")return I$(e,-1,r)||Mm(e,-1);if(n==40||Ta&&n==78&&r=="c")return hge(e)||I$(e,1,r)||Mm(e,1);if(r==(Ta?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function pK(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let a=e.someProp("clipboardSerializer")||C1.fromSchema(e.state.schema),s=wK(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=bK[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=s.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function mK(e,t,n,r,i){let o=i.parent.type.spec.code,a,s;if(!n&&!t)return null;let l=t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,o||r,e)}),o)return t?new fe(Z.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):fe.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)s=d;else{let f=i.marks(),{schema:h}=e.state,p=C1.fromSchema(h);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=a.appendChild(document.createElement("p"));m&&v.appendChild(p.serializeNode(h.text(m,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),a=bge(n),k1&&wge(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=a.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;a=f}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||d1.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!gge.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)s=xge(z$(s,+c[1],+c[2]),c[4]);else if(s=fe.maxOpen(vge(s.content,i),!0),s.openStart||s.openEnd){let d=0,f=0;for(let h=s.content.firstChild;d<s.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=s.content.lastChild;f<s.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);s=z$(s,d,f)}return e.someProp("transformPasted",d=>{s=d(s,e)}),s}var gge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function vge(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&o.length&&vK(l,o,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=yK(a[a.length-1],o.length));let c=gK(s,l);a.push(c),i=i.matchType(c.type),o=l}}),a)return Z.from(a)}return e}function gK(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Z.from(e));return e}function vK(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=vK(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Z.from(gK(n,e,i+1))))}}function yK(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,yK(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Z.empty,!0);return e.copy(n.append(r))}function oM(e,t,n,r,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<r-1&&(s=oM(s,t,n,r,i+1,o)),i>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Z.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function z$(e,t,n){return t<e.openStart&&(e=new fe(oM(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new fe(oM(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var bK={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},P$=null;function wK(){return P$||(P$=document.implementation.createHTMLDocument("title"))}var O6=null;function yge(e){let t=window.trustedTypes;return t?(O6||(O6=t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),O6.createHTML(e)):e}function bge(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=wK().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&bK[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=yge(e),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function wge(e){let t=e.querySelectorAll(gi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function xge(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=r.length-2;s>=0;s-=2){let l=n.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=Z.from(l.create(r[s+1],i)),o++,a++}return new fe(i,o,a)}var Ui={},ji={},Ege={touchstart:!0,touchmove:!0},Sge=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function Cge(e){for(let t in Ui){let n=Ui[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{Tge(e,r)&&!AM(e,r)&&(e.editable||!(r.type in ji))&&n(e,r)},Ege[t]?{passive:!0}:void 0)}Vi&&e.dom.addEventListener("input",()=>null),aM(e)}function nd(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Age(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function aM(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>AM(e,r))})}function AM(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function Tge(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function kge(e,t){!AM(e,t)&&Ui[t.type]&&(e.editable||!(t.type in ji))&&Ui[t.type](e,t)}ji.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!EK(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(yu&&gi&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Pm&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Ff(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||mge(e,n)?n.preventDefault():nd(e,"key")};ji.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};ji.keypress=(e,t)=>{let n=t;if(EK(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ta&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Be)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function FS(e){return{left:e.clientX,top:e.clientY}}function Dge(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function TM(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,n,o.nodeAfter,o.before(a),i,!0):s(e,n,o.node(a),o.before(a),i,!1)))return!0;return!1}function Lm(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function Mge(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Oe.isSelectable(r)?(Lm(e,new Oe(n),"pointer"),!0):!1}function Rge(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Oe&&(r=n.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Oe.isSelectable(s)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?(Lm(e,Oe.create(e.state.doc,i),"pointer"),!0):!1}function Oge(e,t,n,r,i){return TM(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?Rge(e,n):Mge(e,n))}function Bge(e,t,n,r){return TM(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function _ge(e,t,n,r){return TM(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||Fge(e,n,r)}function Fge(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Lm(e,Be.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Lm(e,Be.create(r,s+1,s+1+a.content.size),"pointer");else if(Oe.isSelectable(a))Lm(e,Oe.create(r,s),"pointer");else continue;return!0}}function kM(e){return TS(e)}var xK=Ta?"metaKey":"ctrlKey";Ui.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=kM(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&Dge(n,e.input.lastClick)&&!n[xK]&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let a=e.posAtCoords(FS(n));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Ige(e,a,n,!!r)):(o=="doubleClick"?Bge:_ge)(e,a.pos,a.inside,n)?n.preventDefault():nd(e,"pointer"))};var Ige=class{constructor(e,t,n,r){this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[xK],this.allowDefault=n.shiftKey;let i,o;if(t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);i=u.parent,o=u.depth?u.before():0}let a=r?null:n.target,s=a?e.docView.nearestDesc(a,!0):null;this.target=s&&s.dom.nodeType==1?s.dom:null;let{selection:l}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||l instanceof Oe&&l.from<=o&&l.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ps&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),nd(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xu(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(FS(e))),this.updateAllowDefault(e),this.allowDefault||!t?nd(this.view,"pointer"):Oge(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Vi&&this.mightDrag&&!this.mightDrag.node.isAtom||gi&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Lm(this.view,Fe.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):nd(this.view,"pointer")}move(e){this.updateAllowDefault(e),nd(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};Ui.touchstart=e=>{e.input.lastTouch=Date.now(),kM(e),nd(e,"pointer")};Ui.touchmove=e=>{e.input.lastTouch=Date.now(),nd(e,"pointer")};Ui.contextmenu=e=>kM(e);function EK(e,t){return e.composing?!0:Vi&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}var Nge=yu?5e3:-1;ji.compositionstart=ji.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Be&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),TS(e,!0),e.markCursor=null;else if(TS(e,!t.selection.empty),ps&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}SK(e,Nge)};ji.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,SK(e,20))};function SK(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>TS(e),t))}function CK(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=zge());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Lge(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=M0e(t.focusNode,t.focusOffset),r=R0e(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function zge(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function TS(e,t=!1){if(!(yu&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),CK(e),t||e.docView&&e.docView.dirty){let n=SM(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Pge(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}var b1=po&&id<15||Pm&&I0e<604;Ui.copy=ji.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=b1?null:n.clipboardData,a=r.content(),{dom:s,text:l}=pK(e,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):Pge(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Hge(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Vge(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?w1(e,r.value,null,i,t):w1(e,r.textContent,r.innerHTML,i,t)},50)}function w1(e,t,n,r,i){let o=mK(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||fe.empty)))return!0;if(!o)return!1;let a=Hge(o),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function AK(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ji.paste=(e,t)=>{let n=t;if(e.composing&&!yu)return;let r=b1?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&w1(e,AK(r),r.getData("text/html"),i,n)?n.preventDefault():Vge(e,n)};var TK=class{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}},kK=Ta?"altKey":"ctrlKey";Ui.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(FS(n)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Oe?i.to-1:i.to))){if(r&&r.mightDrag)a=Oe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=Oe.create(e.state.doc,d.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:u,slice:c}=pK(e,s);(!n.dataTransfer.files.length||!gi||Gq>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(b1?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",b1||n.dataTransfer.setData("text/plain",u),e.dragging=new TK(c,!n[kK],a)};Ui.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};ji.dragover=ji.dragenter=(e,t)=>t.preventDefault();ji.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(FS(n));if(!i)return;let o=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",p=>{a=p(a,e)}):a=mK(e,AK(n.dataTransfer),b1?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&!n[kK]);if(e.someProp("handleDrop",p=>p(e,n,a||fe.empty,s))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?bM(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let u=e.state.tr;if(s){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,a.content.firstChild):u.replaceRange(c,c,a),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&Oe.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Oe(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,v,g,y)=>p=y),u.setSelection(CM(e,h,u.doc.resolve(p)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};Ui.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&xu(e)},20))};Ui.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Ui.beforeinput=(e,t)=>{if(gi&&yu&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Ff(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in ji)Ui[e]=ji[e];function x1(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}var H$=class DK{constructor(t,n){this.toDOM=t,this.spec=n||Pf,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new ms(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof DK&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&x1(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},m1=class sM{constructor(t,n){this.attrs=t,this.spec=n||Pf}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new ms(o,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof sM&&x1(this.attrs,t.attrs)&&x1(this.spec,t.spec)}static is(t){return t.type instanceof sM}destroy(){}},Uge=class MK{constructor(t,n){this.attrs=t,this.spec=n||Pf}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new ms(o.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof MK&&x1(this.attrs,t.attrs)&&x1(this.spec,t.spec)}destroy(){}},ms=class l1{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new l1(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new l1(t,t,new H$(n,r))}static inline(t,n,r,i){return new l1(t,n,new m1(r,i))}static node(t,n,r,i){return new l1(t,n,new Uge(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof m1}get widget(){return this.type instanceof H$}},_m=[],Pf={},Hi=class Zc{constructor(t,n){this.local=t.length?t:_m,this.children=n.length?n:_m}static create(t,n){return n.length?kS(n,t,0,Pf):mi}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=n&&s.to>=t&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,n-s,r,i+s,o)}}map(t,n,r){return this==mi||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Pf)}mapInner(t,n,r,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?jge(this.children,a||[],t,n,r,i,o):a?new Zc(a.sort(Hf),_m):mi}add(t,n){return n.length?this==mi?Zc.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((s,l)=>{let u=l+r,c;if(c=BK(n,s,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,l,l+s.nodeSize,kS(c,s,u+1,Pf)),o+=3}});let a=OK(o?_K(n):n,-r);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new Zc(a.length?this.local.concat(a).sort(Hf):this.local,i||this.children)}remove(t){return t.length==0||this==mi?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,s=r[o]+n,l=r[o+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>s&&d.to<l&&(t[c]=null,(a||(a=[])).push(d));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(a,s+1);u!=mi?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Zc(i,r):mi}forChild(t,n){if(this==mi)return this;if(n.isLeaf)return Zc.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(r=this.children[s+2]);break}let o=t+1,a=o+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof m1){let u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new Zc(i.sort(Hf),_m);return r?new RK([s,r]):s}return r||mi}eq(t){if(this==t)return!0;if(!(t instanceof Zc)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return DM(this.localsInner(t))}localsInner(t){if(this==mi)return _m;if(t.inlineContent||!this.local.some(m1.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof m1||n.push(this.local[r]);return n}forEachSet(t){t(this)}};Hi.empty=new Hi([],[]);Hi.removeOverlap=DM;var mi=Hi.empty,RK=class Fm{constructor(t){this.members=t}map(t,n){let r=this.members.map(i=>i.map(t,n,Pf));return Fm.from(r)}forChild(t,n){if(n.isLeaf)return Hi.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=mi&&(o instanceof Fm?r=r.concat(o.members):r.push(o))}return Fm.from(r)}eq(t){if(!(t instanceof Fm)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?DM(r?n:n.sort(Hf)):_m}static from(t){switch(t.length){case 0:return mi;case 1:return t[0];default:return new Fm(t.every(n=>n instanceof Hi)?t:t.reduce((n,r)=>n.concat(r instanceof Hi?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}};function jge(e,t,n,r,i,o,a){let s=e.slice();for(let u=0,c=o;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,h,p,m)=>{let v=m-p-(h-f);for(let g=0;g<s.length;g+=3){let y=s[g+1];if(y<0||f>y+c-d)continue;let w=s[g]+c-d;h>=w?s[g+1]=f<=w?-2:-1:f>=c&&v&&(s[g]+=v,s[g+1]+=v)}d+=v}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=n.map(e[u]+o),d=c-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[u+1]+o,-1),h=f-i,{index:p,offset:m}=r.content.findIndex(d),v=r.maybeChild(p);if(v&&m==d&&m+v.nodeSize==h){let g=s[u+2].mapInner(n,v,c+1,e[u]+o+1,a);g!=mi?(s[u]=d,s[u+1]=h,s[u+2]=g):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=$ge(s,e,t,n,i,o,a),c=kS(u,r,0,a);t=c.local;for(let d=0;d<s.length;d+=3)s[d+1]<0&&(s.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<s.length&&s[f]<h;)f+=3;s.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Hi(t.sort(Hf),s)}function OK(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new ms(i.from+t,i.to+t,i.type))}return n}function $ge(e,t,n,r,i,o,a){function s(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,i,u);d?n.push(d):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return n}function BK(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[o]=null);return i}function _K(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function kS(e,t,n,r){let i=[],o=!1;t.forEach((s,l)=>{let u=BK(e,s,l+n);if(u){o=!0;let c=kS(u,s,n+l+1,r);c!=mi&&i.push(l,l+s.nodeSize,c)}});let a=OK(o?_K(e):e,-n).sort(Hf);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Hi(a,i):mi}function Hf(e,t){return e.from-t.from||e.to-t.to}function DM(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),V$(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),V$(t,i,r.copy(o.from,r.to)));break}}}return t}function V$(e,t,n){for(;t<e.length&&Hf(n,e[t])>0;)t++;e.splice(t,0,n)}function B6(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=mi&&t.push(r)}),e.cursorWrapper&&t.push(Hi.create(e.state.doc,[e.cursorWrapper.deco])),RK.from(t)}var qge={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Kge=po&&id<=11,Yge=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},Wge=class{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Yge,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);po&&id<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Kge&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qge)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(B$(this.view)){if(this.suppressingSelectionUpdates)return xu(this.view);if(po&&id<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Uf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let i=e.focusNode;i;i=y1(i))t.add(i);for(let i=e.anchorNode;i;i=y1(i))if(t.has(i)){n=i;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&B$(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,a=!1,s=[];if(e.editable)for(let u=0;u<t.length;u++){let c=this.registerMutation(t[u],s);c&&(i=i<0?c.from:Math.min(c.from,i),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(a=!0))}if(ps&&s.length){let u=s.filter(c=>c.nodeName=="BR");if(u.length==2){let[c,d]=u;c.parentNode&&c.parentNode.parentNode==d.parentNode?d.remove():c.remove()}else{let{focusNode:c}=this.currentSelection;for(let d of u){let f=d.parentNode;f&&f.nodeName=="LI"&&(!c||Jge(e,c)!=f)&&d.remove()}}}let l=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&_S(n)&&(l=SM(e))&&l.eq(Fe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xu(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,o),Gge(e)),this.handleDOMChange(i,o,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||xu(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let c=e.addedNodes[u];t.push(c),c.nodeType==3&&(this.lastChangedTextNode=c)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(po&&id<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:c,nextSibling:d}=e.addedNodes[u];(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(r=c),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d)}let o=r&&r.parentNode==e.target?Qr(r)+1:0,a=n.localPosFromDOM(e.target,o,-1),s=i&&i.parentNode==e.target?Qr(i):e.target.childNodes.length,l=n.localPosFromDOM(e.target,s,1);return{from:a,to:l}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},U$=new WeakMap,j$=!1;function Gge(e){if(!U$.has(e)&&(U$.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=ps,j$)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),j$=!0}}function $$(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Uf(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Qge(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return $$(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?$$(e,n):null}function Jge(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Xge(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,c=l.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],_S(l)||u.push({node:l.focusNode,offset:l.focusOffset})),gi&&e.input.lastKeyCode===8)for(let v=o;v>i;v--){let g=r.childNodes[v-1],y=g.pmViewDesc;if(g.nodeName=="BR"&&!y){o=v;break}if(!y||y.size)break}let d=e.state.doc,f=e.someProp("domParser")||d1.fromSchema(e.state.schema),h=d.resolve(a),p=null,m=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Zge,context:h});if(u&&u[0].pos!=null){let v=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=v),p={anchor:v+a,head:g+a}}return{doc:m,sel:p,from:a,to:s}}function Zge(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Vi&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Vi&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}var eve=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function tve(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let T=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,R=SM(e,T);if(R&&!e.state.selection.eq(R)){if(gi&&yu&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",O=>O(e,Ff(13,"Enter"))))return;let M=e.state.tr.setSelection(R);T=="pointer"?M.setMeta("pointer",!0):T=="key"&&M.scrollIntoView(),o&&M.setMeta("composition",o),e.dispatch(M)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l=e.state.selection,u=Xge(e,t,n),c=e.state.doc,d=c.slice(u.from,u.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=ive(d.content,u.doc.content,u.from,f,h);if(p&&e.input.domChangeCount++,(Pm&&e.input.lastIOSEnter>Date.now()-225||yu)&&i.some(T=>T.nodeType==1&&!eve.test(T.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",T=>T(e,Ff(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof Be&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let T=q$(e,e.state.doc,u.sel);if(T&&!T.eq(e.state.selection)){let R=e.state.tr.setSelection(T);o&&R.setMeta("composition",o),e.dispatch(R)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof Be&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),po&&id<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" \xA0"&&(p.start--,p.endA--,p.endB--);let m=u.doc.resolveNoCache(p.start-u.from),v=u.doc.resolveNoCache(p.endB-u.from),g=c.resolve(p.start),y=m.sameParent(v)&&m.parent.inlineContent&&g.end()>=p.endA,w;if((Pm&&e.input.lastIOSEnter>Date.now()-225&&(!y||i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!y&&m.pos<u.doc.content.size&&!m.sameParent(v)&&(w=Fe.findFrom(u.doc.resolve(m.pos+1),1,!0))&&w.head==v.pos)&&e.someProp("handleKeyDown",T=>T(e,Ff(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&rve(c,p.start,p.endA,m,v)&&e.someProp("handleKeyDown",T=>T(e,Ff(8,"Backspace")))){yu&&gi&&e.domObserver.suppressSelectionUpdates();return}gi&&p.endB==p.start&&(e.input.lastChromeDelete=Date.now()),yu&&!y&&m.start()!=v.start()&&v.parentOffset==0&&m.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,v=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(T){return T(e,Ff(13,"Enter"))})},20));let x=p.start,S=p.endA,E,k,A;if(y){if(m.pos==v.pos)po&&id<=11&&m.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>xu(e),20)),E=e.state.tr.delete(x,S),k=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(A=nve(m.parent.content.cut(m.parentOffset,v.parentOffset),g.parent.content.cut(g.parentOffset,p.endA-g.start()))))E=e.state.tr,A.type=="add"?E.addMark(x,S,A.mark):E.removeMark(x,S,A.mark);else if(m.parent.child(m.index()).isText&&m.index()==v.index()-(v.textOffset?0:1)){let T=m.parent.textBetween(m.parentOffset,v.parentOffset);if(e.someProp("handleTextInput",R=>R(e,x,S,T)))return;E=e.state.tr.insertText(T,x,S)}}if(E||(E=e.state.tr.replace(x,S,u.doc.slice(p.start-u.from,p.endB-u.from))),u.sel){let T=q$(e,E.doc,u.sel);T&&!(gi&&e.composing&&T.empty&&(p.start!=p.endB||e.input.lastChromeDelete<Date.now()-100)&&(T.head==x||T.head==E.mapping.map(S)-1)||po&&T.empty&&T.head==x)&&E.setSelection(T)}k&&E.ensureMarks(k),o&&E.setMeta("composition",o),e.dispatch(E.scrollIntoView())}function q$(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:CM(e,t.resolve(n.anchor),t.resolve(n.head))}function nve(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,a,s,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<t.childCount;c++)u.push(l(t.child(c)));if(Z.from(u).eq(e))return{mark:s,type:a}}function rve(e,t,n,r,i){if(n-t<=i.pos-r.pos||_6(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let s=o.nodeAfter;return s!=null&&n==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(_6(o,!0,!0));return!a.parent.isTextblock||a.pos>n||_6(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function _6(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function ive(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));r-=a+l-o}if(a<o&&e.size<t.size){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&K$(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&K$(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function K$(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}var ove=class{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Sge,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(J$),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=G$(this),W$(this),this.nodeViews=Q$(this),this.docView=T$(this.state.doc,Y$(this),B6(this),this.dom,this),this.domObserver=new Wge(this,(n,r,i,o)=>tve(this,n,r,i,o)),this.domObserver.start(),Cge(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&aM(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(J$),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(CK(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let f=Q$(this);sve(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&aM(this),this.editable=G$(this),W$(this);let s=B6(this),l=Y$(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,s);(c||!e.selection.eq(r.selection))&&(o=!0);let d=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&z0e(this);if(o){this.domObserver.stop();let f=c&&(po||gi)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&ave(r.selection,e.selection);if(c){let h=gi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Lge(this)),(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=T$(e.doc,l,s,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&lge(this))?xu(this,f):(dK(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&P0e(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Oe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&w$(this,t.getBoundingClientRect(),e)}else w$(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let i=n.from+(this.state.doc.content.size-t.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(r=i)}this.dragging=new TK(e.slice,e.move,r<0?void 0:Oe.create(this.state.doc,r))}someProp(e,t){let n=this._props&&this._props[e],r;if(n!=null&&(r=t?t(n):n))return r;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(r=t?t(a):a))return r}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(r=t?t(a):a))return r}}hasFocus(){if(po){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&H0e(this.dom),xu(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return q0e(this,e)}coordsAtPos(e,t=1){return eK(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return Q0e(this,t||this.state,e)}pasteHTML(e,t){return w1(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return w1(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(Age(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],B6(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,k0e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return kge(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Vi&&this.root.nodeType===11&&B0e(this.dom.ownerDocument)==this.dom&&Qge(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};function Y$(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ms.node(0,e.state.doc.content.size,t)]}function W$(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ms.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function G$(e){return!e.someProp("editable",t=>t(e.state)===!1)}function ave(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Q$(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function sve(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function J$(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var od={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},DS={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},lve=typeof navigator<"u"&&/Mac/.test(navigator.platform),uve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(or=0;or<10;or++)od[48+or]=od[96+or]=String(or);var or;for(or=1;or<=24;or++)od[or+111]="F"+or;var or;for(or=65;or<=90;or++)od[or]=String.fromCharCode(or+32),DS[or]=String.fromCharCode(or);var or;for(sS in od)DS.hasOwnProperty(sS)||(DS[sS]=od[sS]);var sS;function cve(e){var t=lve&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||uve&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?DS:od)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var dve=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function fve(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))dve?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function hve(e){let t=Object.create(null);for(let n in e)t[fve(n)]=e[n];return t}function F6(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function pve(e){return new Xn({props:{handleKeyDown:IS(e)}})}function IS(e){let t=hve(e);return function(n,r){let i=cve(r),o,a=t[F6(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=t[F6(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=od[r.keyCode])&&o!=i){let s=t[F6(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}var MM=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function FK(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}var IK=(e,t,n)=>{let r=FK(e,n);if(!r)return!1;let i=RM(r);if(!i){let a=r.blockRange(),s=a&&Vm(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(qK(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Hm(o,"end")||Oe.isSelectable(o)))for(let a=r.depth;;a--){let s=BS(e.doc,r.before(a),r.after(a),fe.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(Hm(o,"end")?Fe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Oe.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},mve=(e,t,n)=>{let r=FK(e,n);if(!r)return!1;let i=RM(r);return i?NK(e,i,t):!1},gve=(e,t,n)=>{let r=zK(e,n);if(!r)return!1;let i=OM(r);return i?NK(e,i,t):!1};function NK(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let c=s.firstChild;if(!c)return!1;s=c}let u=BS(e.doc,o,l,fe.empty);if(!u||u.from!=o||u instanceof hs&&u.slice.size>=l-o)return!1;if(n){let c=e.tr.step(u);c.setSelection(Be.create(c.doc,o)),n(c.scrollIntoView())}return!0}function Hm(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}var LK=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=RM(r)}let a=o&&o.nodeBefore;return!a||!Oe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Oe.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function RM(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function zK(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}var PK=(e,t,n)=>{let r=zK(e,n);if(!r)return!1;let i=OM(r);if(!i)return!1;let o=i.nodeAfter;if(qK(e,i,t,1))return!0;if(r.parent.content.size==0&&(Hm(o,"start")||Oe.isSelectable(o))){let a=BS(e.doc,r.before(),r.after(),fe.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(Hm(o,"start")?Fe.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Oe.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},HK=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=OM(r)}let a=o&&o.nodeAfter;return!a||!Oe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Oe.create(e.doc,o.pos)).scrollIntoView()),!0)};function OM(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}var vve=(e,t)=>{let n=e.selection,r=n instanceof Oe,i;if(r){if(n.node.isTextblock||!ad(e.doc,n.from))return!1;i=n.from}else if(i=OS(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(Oe.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},yve=(e,t)=>{let n=e.selection,r;if(n instanceof Oe){if(n.node.isTextblock||!ad(e.doc,n.to))return!1;r=n.to}else if(r=OS(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},bve=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&Vm(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},VK=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function BM(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}var UK=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=BM(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=n.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(Fe.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},jK=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof al||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=BM(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(Be.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},$K=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(wu(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Vm(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function wve(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Oe&&t.selection.node.isBlock)return!r.parentOffset||!wu(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,s,l=!1,u=!1;for(let h=r.depth;;h--)if(r.node(h).isBlock){l=r.end(h)==r.pos+(r.depth-h),u=r.start(h)==r.pos-(r.depth-h),s=BM(r.node(h-1).contentMatchAt(r.indexAfter(h-1)));let m=e&&e(i.parent,l,r);o.unshift(m||(l&&s?{type:s}:null)),a=h;break}else{if(h==1)return!1;o.unshift(null)}let c=t.tr;(t.selection instanceof Be||t.selection instanceof al)&&c.deleteSelection();let d=c.mapping.map(r.pos),f=wu(c.doc,d,o.length,o);if(f||(o[0]=s?{type:s}:null,f=wu(c.doc,d,o.length,o)),c.split(d,o.length,o),!l&&u&&r.node(a).type!=s){let h=c.mapping.map(r.before(a)),p=c.doc.resolve(h);s&&r.node(a-1).canReplaceWith(p.index(),p.index()+1,s)&&c.setNodeMarkup(c.mapping.map(r.before(a)),s)}return n&&n(c.scrollIntoView()),!0}}var xve=wve(),Eve=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(Oe.create(e.doc,i))),!0)},Sve=(e,t)=>(t&&t(e.tr.setSelection(new al(e.doc))),!0);function Cve(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||ad(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function qK(e,t,n,r){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&Cve(e,t,n))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(n){let h=t.pos+o.nodeSize,p=Z.empty;for(let g=a.length-1;g>=0;g--)p=Z.from(a[g].create(null,p));p=Z.from(i.copy(p));let m=e.tr.step(new mo(t.pos-1,h,t.pos,h,new fe(p,1,0),a.length,!0)),v=m.doc.resolve(h+2*a.length);v.nodeAfter&&v.nodeAfter.type==i.type&&ad(m.doc,v.pos)&&m.join(v.pos),n(m.scrollIntoView())}return!0}let c=o.type.spec.isolating||r>0&&l?null:Fe.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),f=d&&Vm(d);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(u&&Hm(o,"start",!0)&&Hm(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let m=o,v=1;for(;!m.isTextblock;m=m.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,m.content)){if(n){let g=Z.empty;for(let w=p.length-1;w>=0;w--)g=Z.from(p[w].copy(g));let y=e.tr.step(new mo(t.pos-p.length,t.pos+o.nodeSize,t.pos+v,t.pos+o.nodeSize-v,new fe(g,p.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function KK(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(Be.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}var YK=KK(-1),WK=KK(1);function Ave(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&yM(a,e,t);return s?(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0):!1}}function X$(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(a,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];o.setBlockType(s,l,e,t)}r(o.scrollIntoView())}return!0}}function _M(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}var I6=_M(MM,IK,LK),Z$=_M(MM,PK,HK),td={Enter:_M(VK,jK,$K,xve),"Mod-Enter":UK,Backspace:I6,"Mod-Backspace":I6,"Shift-Backspace":I6,Delete:Z$,"Mod-Delete":Z$,"Mod-a":Sve},Tve={"Ctrl-h":td.Backspace,"Alt-Backspace":td["Mod-Backspace"],"Ctrl-d":td.Delete,"Ctrl-Alt-Backspace":td["Mod-Delete"],"Alt-Delete":td["Mod-Delete"],"Alt-d":td["Mod-Delete"],"Ctrl-a":YK,"Ctrl-e":WK};for(let e in td)Tve[e]=td[e];var Stt=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1;function kve(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o);if(!a)return!1;let s=r?n.tr:null;return Dve(s,a,e,t)?(r&&r(s.scrollIntoView()),!0):!1}}function Dve(e,t,n,r=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new ES(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new ES(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=yM(o,n,r,t);return s?(e&&Mve(e,t,s,i,n),!0):!1}function Mve(e,t,n,r,i){let o=Z.empty;for(let c=n.length-1;c>=0;c--)o=Z.from(n[c].type.create(n[c].attrs,o));e.step(new mo(t.start-(r?2:0),t.end,t.start,t.end,new fe(o,0,0),n.length,!0));let a=0;for(let c=0;c<n.length;c++)n[c].type==i&&(a=c+1);let s=n.length-a,l=t.start+n.length-(r?2:0),u=t.parent;for(let c=t.startIndex,d=t.endIndex,f=!0;c<d;c++,f=!1)!f&&wu(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=u.child(c).nodeSize;return e}function Rve(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?Ove(t,n,e,o):Bve(t,n,o):!0:!1}}function Ove(e,t,n,r){let i=e.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new mo(o-1,a,o,a,new fe(Z.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ES(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));let s=Vm(r);if(s==null)return!1;i.lift(r,s);let l=i.mapping.map(o,-1)-1;return ad(i.doc,l)&&i.join(l),t(i.scrollIntoView()),!0}function Bve(e,t,n){let r=e.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,l=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(s?0:1),c+1,a.content.append(l?Z.empty:Z.from(i))))return!1;let d=o.pos,f=d+a.nodeSize;return r.step(new mo(d-(s?1:0),f+(l?1:0),d+1,f-1,new fe((s?Z.empty:Z.from(i.copy(Z.empty))).append(l?Z.empty:Z.from(i.copy(Z.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}function _ve(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(n){let u=l.lastChild&&l.lastChild.type==s.type,c=Z.from(u?e.create():null),d=new fe(Z.from(e.create(null,Z.from(s.type.create(null,c)))),u?3:1,0),f=o.start,h=o.end;n(t.tr.step(new mo(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function NS(e){let{state:t,transaction:n}=e,{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var LS=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...u)=>{let c=s(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){let{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a=[],s=!!e,l=e||i.tr,u=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(d=>d===!0)),c={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>{let m=this.buildProps(l,t),v=f(...p)(m);return a.push(v),c}])),run:u};return c}createCan(e){let{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...u)=>l(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){let{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:NS({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([s,l])=>[s,(...u)=>l(...u)(a)]))}};return a}},Fve=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){let n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){let n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){let n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function xe(e,t,n){return e.config[t]===void 0&&e.parent?xe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?xe(e.parent,t,n):null}):e.config[t]}function zS(e){let t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function GK(e){let t=[],{nodeExtensions:n,markExtensions:r}=zS(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{let s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=xe(a,"addGlobalAttributes",s);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{t.push({type:d,name:f,attribute:{...o,...h}})})})})}),i.forEach(a=>{let s={name:a.name,options:a.options,storage:a.storage},l=xe(a,"addAttributes",s);if(!l)return;let u=l();Object.entries(u).forEach(([c,d])=>{let f={...o,...d};typeof f?.default=="function"&&(f.default=f.default()),f?.isRequired&&f?.default===void 0&&delete f.default,t.push({type:a.name,name:c,attribute:f})})}),t}function Br(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function cn(...e){return e.filter(t=>!!t).reduce((t,n)=>{let r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){let s=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],u=s.filter(c=>!l.includes(c));r[i]=[...l,...u].join(" ")}else if(i==="style"){let s=o?o.split(";").map(c=>c.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{let[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),s.forEach(c=>{let[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),r[i]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else r[i]=o}),r},{})}function E1(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>cn(n,r),{})}function QK(e){return typeof e=="function"}function Qe(e,t=void 0,...n){return QK(e)?t?e.bind(t)(...n):e(...n):e}function Ive(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Nve(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function eq(e,t){return"style"in e?e:{...e,getAttrs:n=>{let r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;let i=t.reduce((o,a)=>{let s=a.attribute.parseHTML?a.attribute.parseHTML(n):Nve(n.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...r,...i}}}}function tq(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&Ive(n)?!1:n!=null))}function Lve(e,t){var n;let r=GK(e),{nodeExtensions:i,markExtensions:o}=zS(e),a=(n=i.find(u=>xe(u,"topNode")))===null||n===void 0?void 0:n.name,s=Object.fromEntries(i.map(u=>{let c=r.filter(g=>g.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((g,y)=>{let w=xe(y,"extendNodeSchema",d);return{...g,...w?w(u):{}}},{}),h=tq({...f,content:Qe(xe(u,"content",d)),marks:Qe(xe(u,"marks",d)),group:Qe(xe(u,"group",d)),inline:Qe(xe(u,"inline",d)),atom:Qe(xe(u,"atom",d)),selectable:Qe(xe(u,"selectable",d)),draggable:Qe(xe(u,"draggable",d)),code:Qe(xe(u,"code",d)),whitespace:Qe(xe(u,"whitespace",d)),linebreakReplacement:Qe(xe(u,"linebreakReplacement",d)),defining:Qe(xe(u,"defining",d)),isolating:Qe(xe(u,"isolating",d)),attrs:Object.fromEntries(c.map(g=>{var y;return[g.name,{default:(y=g?.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Qe(xe(u,"parseHTML",d));p&&(h.parseDOM=p.map(g=>eq(g,c)));let m=xe(u,"renderHTML",d);m&&(h.toDOM=g=>m({node:g,HTMLAttributes:E1(g,c)}));let v=xe(u,"renderText",d);return v&&(h.toText=v),[u.name,h]})),l=Object.fromEntries(o.map(u=>{let c=r.filter(v=>v.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((v,g)=>{let y=xe(g,"extendMarkSchema",d);return{...v,...y?y(u):{}}},{}),h=tq({...f,inclusive:Qe(xe(u,"inclusive",d)),excludes:Qe(xe(u,"excludes",d)),group:Qe(xe(u,"group",d)),spanning:Qe(xe(u,"spanning",d)),code:Qe(xe(u,"code",d)),attrs:Object.fromEntries(c.map(v=>{var g;return[v.name,{default:(g=v?.attribute)===null||g===void 0?void 0:g.default}]}))}),p=Qe(xe(u,"parseHTML",d));p&&(h.parseDOM=p.map(v=>eq(v,c)));let m=xe(u,"renderHTML",d);return m&&(h.toDOM=v=>m({mark:v,HTMLAttributes:E1(v,c)})),[u.name,h]}));return new Aq({topNode:a,nodes:s,marks:l})}function N6(e,t){return t.nodes[e]||t.marks[e]||null}function nq(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function FM(e,t){let n=C1.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}var zve=(e,t=500)=>{let n="",r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,a,s)=>{var l,u;let c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-o))}),n};function IM(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var PS=class{constructor(e){this.find=e.find,this.handler=e.handler}},Pve=(e,t)=>{if(IM(t))return t.exec(e);let n=t(e);if(!n)return null;let r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function lS(e){var t;let{editor:n,from:r,to:i,text:o,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;let u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let c=!1,d=zve(u)+o;return a.forEach(f=>{if(c)return;let h=Pve(d,f.find);if(!h)return;let p=l.state.tr,m=NS({state:l.state,transaction:p}),v={from:r-(h[0].length-o.length),to:i},{commands:g,chain:y,can:w}=new LS({editor:n,state:m});f.handler({state:m,range:v,match:h,commands:g,chain:y,can:w})===null||!p.steps.length||(p.setMeta(s,{transform:p,from:r,to:i,text:o}),l.dispatch(p),c=!0)}),c}function Hve(e){let{editor:t,rules:n}=e,r=new Xn({state:{init(){return null},apply(i,o,a){let s=i.getMeta(r);if(s)return s;let l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=FM(Z.from(c),a.schema);let{from:d}=l,f=d+c.length;lS({editor:t,from:d,to:f,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return lS({editor:t,from:o,to:a,text:s,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{let{$cursor:o}=i.state.selection;o&&lS({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;let{$cursor:a}=i.state.selection;return a?lS({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Vve(e){return Object.prototype.toString.call(e).slice(8,-1)}function uS(e){return Vve(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function HS(e,t){let n={...e};return uS(e)&&uS(t)&&Object.keys(t).forEach(r=>{uS(t[r])&&uS(e[r])?n[r]=HS(e[r],t[r]):n[r]=t[r]}),n}var gs=class lM{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Qe(xe(this,"addOptions",{name:this.name}))),this.storage=Qe(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new lM(t)}configure(t={}){let n=this.extend({...this.config,addOptions:()=>HS(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){let n=new lM(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Qe(xe(n,"addOptions",{name:n.name})),n.storage=Qe(xe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){let{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){let a=i.marks();if(!!!a.find(u=>u?.type.name===n.name))return!1;let l=a.find(u=>u?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}};function Uve(e){return typeof e=="number"}var jve=class{constructor(e){this.find=e.find,this.handler=e.handler}},$ve=(e,t,n)=>{if(IM(t))return[...e.matchAll(t)];let r=t(e,n);return r?r.map(i=>{let o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function qve(e){let{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:u,can:c}=new LS({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;let m=Math.max(r,p),v=Math.min(i,p+h.content.size),g=h.textBetween(m-p,v-p,void 0,"\uFFFC");$ve(g,o.find,a).forEach(w=>{if(w.index===void 0)return;let x=m+w.index+1,S=x+w[0].length,E={from:n.tr.mapping.map(x),to:n.tr.mapping.map(S)},k=o.handler({state:n,range:E,match:w,commands:l,chain:u,can:c,pasteEvent:a,dropEvent:s});d.push(k)})}),d.every(h=>h!==null)}var cS=null,Kve=e=>{var t;let n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function Yve(e){let{editor:t,rules:n}=e,r=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}let l=({state:c,from:d,to:f,rule:h,pasteEvt:p})=>{let m=c.tr,v=NS({state:c,transaction:m});if(!(!qve({editor:t,state:v,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:s})||!m.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(c=>new Xn({view(d){let f=p=>{var m;r=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null,r&&(cS=t)},h=()=>{cS&&(cS=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(o=r===d.dom.parentElement,s=f,!o){let h=cS;h&&setTimeout(()=>{let p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;let p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return a=f,i=!!p?.includes("data-pm-slice"),!1}}},appendTransaction:(d,f,h)=>{let p=d[0],m=p.getMeta("uiEvent")==="paste"&&!i,v=p.getMeta("uiEvent")==="drop"&&!o,g=p.getMeta("applyPasteRules"),y=!!g;if(!m&&!v&&!y)return;if(y){let{text:S}=g;typeof S=="string"?S=S:S=FM(Z.from(S),h.schema);let{from:E}=g,k=E+S.length,A=Kve(S);return l({rule:c,state:h,from:E,to:{b:k},pasteEvt:A})}let w=f.doc.content.findDiffStart(h.doc.content),x=f.doc.content.findDiffEnd(h.doc.content);if(!(!Uve(w)||!x||w===x.b))return l({rule:c,state:h,from:w,to:x,pasteEvt:a})}}))}function Wve(e){let t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}var Gve=class u1{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=u1.resolve(t),this.schema=Lve(this.extensions,n),this.setupExtensions()}static resolve(t){let n=u1.sort(u1.flatten(t)),r=Wve(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{let r={name:n.name,options:n.options,storage:n.storage},i=xe(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((r,i)=>{let o=xe(r,"priority")||100,a=xe(i,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((t,n)=>{let r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:N6(n.name,this.schema)},i=xe(n,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){let{editor:t}=this,n=u1.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(a=>{let s={name:a.name,options:a.options,storage:a.storage,editor:t,type:N6(a.name,this.schema)},l=[],u=xe(a,"addKeyboardShortcuts",s),c={};if(a.type==="mark"&&xe(a,"exitable",s)&&(c.ArrowRight=()=>gs.handleExit({editor:t,mark:a})),u){let m=Object.fromEntries(Object.entries(u()).map(([v,g])=>[v,()=>g({editor:t})]));c={...c,...m}}let d=pve(c);l.push(d);let f=xe(a,"addInputRules",s);nq(a,t.options.enableInputRules)&&f&&r.push(...f());let h=xe(a,"addPasteRules",s);nq(a,t.options.enablePasteRules)&&h&&i.push(...h());let p=xe(a,"addProseMirrorPlugins",s);if(p){let m=p();l.push(...m)}return l}).flat();return[Hve({editor:t,rules:r}),...Yve({editor:t,rules:i}),...o]}get attributes(){return GK(this.extensions)}get nodeViews(){let{editor:t}=this,{nodeExtensions:n}=zS(this.extensions);return Object.fromEntries(n.filter(r=>!!xe(r,"addNodeView")).map(r=>{let i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:t,type:Br(r.name,this.schema)},a=xe(r,"addNodeView",o);if(!a)return[];let s=(l,u,c,d,f)=>{let h=E1(l,i);return a()({node:l,view:u,getPos:c,decorations:d,innerDecorations:f,editor:t,extension:r,HTMLAttributes:h})};return[r.name,s]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;let r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:N6(t.name,this.schema)};t.type==="mark"&&(!((n=Qe(xe(t,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);let i=xe(t,"onBeforeCreate",r),o=xe(t,"onCreate",r),a=xe(t,"onUpdate",r),s=xe(t,"onSelectionUpdate",r),l=xe(t,"onTransaction",r),u=xe(t,"onFocus",r),c=xe(t,"onBlur",r),d=xe(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}},Jr=class uM{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Qe(xe(this,"addOptions",{name:this.name}))),this.storage=Qe(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new uM(t)}configure(t={}){let n=this.extend({...this.config,addOptions:()=>HS(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){let n=new uM({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Qe(xe(n,"addOptions",{name:n.name})),n.storage=Qe(xe(n,"addStorage",{name:n.name,options:n.options})),n}};function JK(e,t,n){let{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=n||{},s="";return e.nodesBetween(r,i,(l,u,c,d)=>{var f;l.isBlock&&u>r&&(s+=o);let h=a?.[l.type.name];if(h)return c&&(s+=h({node:l,pos:u,parent:c,index:d,range:t})),!1;l.isText&&(s+=(f=l?.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,i-u))}),s}function VS(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}var Qve=Jr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Xn({key:new _r("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(c=>c.$from.pos)),s=Math.max(...o.map(c=>c.$to.pos)),l=VS(n);return JK(r,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Jve=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Xve=(e=!1)=>({commands:t})=>t.setContent("",e),Zve=()=>({state:e,tr:t,dispatch:n})=>{let{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;let{doc:u,mapping:c}=t,d=u.resolve(c.map(l)),f=u.resolve(c.map(l+s.nodeSize)),h=d.blockRange(f);if(!h)return;let p=Vm(h);if(s.type.isTextblock){let{defaultType:m}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(h.start,m)}(p||p===0)&&t.lift(h,p)})}),!0},e1e=e=>t=>e(t),t1e=()=>({state:e,dispatch:t})=>jK(e,t),n1e=(e,t)=>({editor:n,tr:r})=>{let{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);let a=r.mapping.map(t);return r.insert(a,o.content),r.setSelection(new Be(r.doc.resolve(a-1))),!0},r1e=()=>({tr:e,dispatch:t})=>{let{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;let i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){let s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1},i1e=e=>({tr:t,state:n,dispatch:r})=>{let i=Br(e,n.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){let l=o.before(a),u=o.after(a);t.delete(l,u).scrollIntoView()}return!0}return!1},o1e=e=>({tr:t,dispatch:n})=>{let{from:r,to:i}=e;return n&&t.delete(r,i),!0},a1e=()=>({state:e,dispatch:t})=>MM(e,t),s1e=()=>({commands:e})=>e.keyboardShortcut("Enter"),l1e=()=>({state:e,dispatch:t})=>UK(e,t);function MS(e,t,n={strict:!0}){let r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:IM(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function XK(e,t,n={}){return e.find(r=>r.type===t&&MS(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function rq(e,t,n={}){return!!XK(e,t,n)}function NM(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===t)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!XK([...i.node.marks],t,n)))return;let a=i.index,s=e.start()+i.offset,l=a+1,u=s+i.node.nodeSize;for(;a>0&&rq([...e.parent.child(a-1).marks],t,n);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&rq([...e.parent.child(l).marks],t,n);)u+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:u}}function ld(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var u1e=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=ld(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:u,to:c}=s;if(i){let d=NM(l,o,t);if(d&&d.from<=u&&d.to>=c){let f=Be.create(a,d.from,d.to);n.setSelection(f)}}return!0},c1e=e=>t=>{let n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function ZK(e){return e instanceof Be}function bu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function eY(e,t=null){if(!t)return null;let n=Fe.atStart(e),r=Fe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;let i=n.from,o=r.to;return t==="all"?Be.create(e,bu(0,i,o),bu(e.content.size,i,o)):Be.create(e,bu(t,i,o),bu(t,i,o))}var d1e=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};let a=()=>{r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!ZK(n.state.selection))return a(),!0;let s=eY(i.doc,e)||n.state.selection,l=n.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},f1e=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),h1e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),tY=e=>{let t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){let r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&tY(r)}return e};function dS(e){let t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return tY(n)}function RS(e,t,n){if(e instanceof rd||e instanceof Z)return e;n={slice:!0,parseOptions:{},...n};let r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return Z.fromArray(e.map(s=>t.nodeFromJSON(s)));let a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),RS("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,s="",l=new Aq({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,s=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?d1.fromSchema(l).parseSlice(dS(e),n.parseOptions):d1.fromSchema(l).parse(dS(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}let o=d1.fromSchema(t);return n.slice?o.parseSlice(dS(e),n.parseOptions).content:o.parse(dS(e),n.parseOptions)}return RS("",t,n)}function p1e(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof hs||i instanceof mo))return;let o=e.mapping.maps[r],a=0;o.forEach((s,l,u,c)=>{a===0&&(a=c)}),e.setSelection(Fe.near(e.doc.resolve(a),n))}var m1e=e=>!("type"in e),g1e=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{var a;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let s;try{s=RS(t,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:o.options.enableContentCheck})}catch(p){return o.emit("contentError",{editor:o,error:p,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:u}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},c=!0,d=!0;if((m1e(s)?s:[s]).forEach(p=>{p.check(),c=c?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===u&&d){let{parent:p}=r.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,u+=1)}let h;if(c){if(Array.isArray(t))h=t.map(p=>p.text||"").join("");else if(t instanceof Z){let p="";t.forEach(m=>{m.text&&(p+=m.text)}),h=p}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,l,u)}else h=s,r.replaceWith(l,u,h);n.updateSelection&&p1e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:h})}return!0},v1e=()=>({state:e,dispatch:t})=>vve(e,t),y1e=()=>({state:e,dispatch:t})=>yve(e,t),b1e=()=>({state:e,dispatch:t})=>IK(e,t),w1e=()=>({state:e,dispatch:t})=>PK(e,t),x1e=()=>({state:e,dispatch:t,tr:n})=>{try{let r=OS(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},E1e=()=>({state:e,dispatch:t,tr:n})=>{try{let r=OS(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},S1e=()=>({state:e,dispatch:t})=>mve(e,t),C1e=()=>({state:e,dispatch:t})=>gve(e,t);function LM(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function nY(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function A1e(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s+=1){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))LM()||nY()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var T1e=e=>({editor:t,view:n,tr:r,dispatch:i})=>{let o=A1e(e).split(/-(?!$)/),a=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,s))});return l?.steps.forEach(u=>{let c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function S1(e,t,n={}){let{from:r,to:i,empty:o}=e.selection,a=t?Br(t,e.schema):null,s=[];e.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;let h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);s.push({node:d,from:h,to:p})});let l=i-r,u=s.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>MS(d.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=l}var k1e=(e,t={})=>({state:n,dispatch:r})=>{let i=Br(e,n.schema);return S1(n,i,t)?bve(n,r):!1},D1e=()=>({state:e,dispatch:t})=>$K(e,t),M1e=e=>({state:t,dispatch:n})=>{let r=Br(e,t.schema);return Rve(r)(t,n)},R1e=()=>({state:e,dispatch:t})=>VK(e,t);function US(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function iq(e,t){let n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var O1e=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null,s=US(typeof e=="string"?e:e.name,r.schema);return s?(s==="node"&&(o=Br(e,r.schema)),s==="mark"&&(a=ld(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,iq(u.attrs,t)),a&&u.marks.length&&u.marks.forEach(d=>{a===d.type&&n.addMark(c,c+u.nodeSize,a.create(iq(d.attrs,t)))})})}),!0):!1},B1e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),_1e=()=>({tr:e,dispatch:t})=>{if(t){let n=new al(e.doc);e.setSelection(n)}return!0},F1e=()=>({state:e,dispatch:t})=>LK(e,t),I1e=()=>({state:e,dispatch:t})=>HK(e,t),N1e=()=>({state:e,dispatch:t})=>Eve(e,t),L1e=()=>({state:e,dispatch:t})=>WK(e,t),z1e=()=>({state:e,dispatch:t})=>YK(e,t);function cM(e,t,n={},r={}){return RS(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var P1e=(e,t=!1,n={},r={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{var l,u;let{doc:c}=o;if(n.preserveWhitespace!=="full"){let d=cM(e,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return a&&o.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!t),!0}return a&&o.setMeta("preventUpdate",!t),s.insertContentAt({from:0,to:c.content.size},e,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function rY(e,t){let n=ld(t,e.schema),{from:r,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{a.push(...l.marks)});let s=a.find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function H1e(e){for(let t=0;t<e.edgeCount;t+=1){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function zM(e,t){for(let n=e.depth;n>0;n-=1){let r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function PM(e){return t=>zM(t.$from,e)}function HM(e,t){let n={from:0,to:e.content.size};return JK(e,n,t)}function V1e(e,t){let n=Br(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,s=>{o.push(s)});let a=o.reverse().find(s=>s.type.name===n.name);return a?{...a.attrs}:{}}function U1e(e,t){let n=US(typeof t=="string"?t:t.name,e.schema);return n==="node"?V1e(e,t):n==="mark"?rY(e,t):{}}function iY(e,t,n){let r=[];return e===t?n.resolve(e).marks().forEach(i=>{let o=n.resolve(e),a=NM(o,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(e,t,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}function yS(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{let i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function dM(e,t,n={}){let{empty:r,ranges:i}=e.selection,o=t?ld(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>MS(d.attrs,n,{strict:!1}));let a=0,s=[];if(i.forEach(({$from:d,$to:f})=>{let h=d.pos,p=f.pos;e.doc.nodesBetween(h,p,(m,v)=>{if(!m.isText&&!m.marks.length)return;let g=Math.max(h,v),y=Math.min(p,v+m.nodeSize),w=y-g;a+=w,s.push(...m.marks.map(x=>({mark:x,from:g,to:y})))})}),a===0)return!1;let l=s.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>MS(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=s.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+u:l)>=a}function j1e(e,t,n={}){if(!t)return S1(e,null,n)||dM(e,null,n);let r=US(t,e.schema);return r==="node"?S1(e,t,n):r==="mark"?dM(e,t,n):!1}function oq(e,t){let{nodeExtensions:n}=zS(t),r=n.find(a=>a.name===e);if(!r)return!1;let i={name:r.name,options:r.options,storage:r.storage},o=Qe(xe(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function VM(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!==null&&r!==void 0?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(VM(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function oY(e){return e instanceof Oe}function aY(e,t,n){let i=e.state.doc.content.size,o=bu(t,0,i),a=bu(n,0,i),s=e.coordsAtPos(o),l=e.coordsAtPos(a,-1),u=Math.min(s.top,l.top),c=Math.max(s.bottom,l.bottom),d=Math.min(s.left,l.left),f=Math.max(s.right,l.right),h=f-d,p=c-u,g={top:u,bottom:c,left:d,right:f,width:h,height:p,x:d,y:u};return{...g,toJSON:()=>g}}function $1e(e,t,n){var r;let{selection:i}=t,o=null;if(ZK(i)&&(o=i.$cursor),o){let s=(r=e.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(s)||!s.some(l=>l.type.excludes(n))}let{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let u=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(s.pos,l.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){let h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(m=>m.type.excludes(n));u=h&&p}return!u}),u})}var q1e=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let{selection:o}=n,{empty:a,ranges:s}=o,l=ld(e,r.schema);if(i)if(a){let u=rY(r,l);n.addStoredMark(l.create({...u,...t}))}else s.forEach(u=>{let c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,h)=>{let p=Math.max(h,c),m=Math.min(h+f.nodeSize,d);f.marks.find(g=>g.type===l)?f.marks.forEach(g=>{l===g.type&&n.addMark(p,m,l.create({...g.attrs,...t}))}):n.addMark(p,m,l.create(t))})});return $1e(r,n,l)},K1e=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),Y1e=(e,t={})=>({state:n,dispatch:r,chain:i})=>{let o=Br(e,n.schema),a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>X$(o,{...a,...t})(n)?!0:s.clearNodes()).command(({state:s})=>X$(o,{...a,...t})(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},W1e=e=>({tr:t,dispatch:n})=>{if(n){let{doc:r}=t,i=bu(e,0,r.content.size),o=Oe.create(r,i);t.setSelection(o)}return!0},G1e=e=>({tr:t,dispatch:n})=>{if(n){let{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=Be.atStart(r).from,s=Be.atEnd(r).to,l=bu(i,a,s),u=bu(o,a,s),c=Be.create(r,l,u);t.setSelection(c)}return!0},Q1e=e=>({state:t,dispatch:n})=>{let r=Br(e,t.schema);return _ve(r)(t,n)};function aq(e,t){let n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){let r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}var J1e=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{let{selection:o,doc:a}=t,{$from:s,$to:l}=o,u=i.extensionManager.attributes,c=yS(u,s.node().type.name,s.node().attrs);if(o instanceof Oe&&o.node.isBlock)return!s.parentOffset||!wu(a,s.pos)?!1:(r&&(e&&aq(n,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;let d=l.parentOffset===l.parent.content.size,f=s.depth===0?void 0:H1e(s.node(-1).contentMatchAt(s.indexAfter(-1))),h=d&&f?[{type:f,attrs:c}]:void 0,p=wu(t.doc,t.mapping.map(s.pos),1,h);if(!h&&!p&&wu(t.doc,t.mapping.map(s.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:c}]:void 0),r){if(p&&(o instanceof Be&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,h),f&&!d&&!s.parentOffset&&s.parent.type!==f)){let m=t.mapping.map(s.before()),v=t.doc.resolve(m);s.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&t.setNodeMarkup(t.mapping.map(s.before()),f)}e&&aq(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},X1e=(e,t={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var a;let s=Br(e,r.schema),{$from:l,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;let d=l.node(-1);if(d.type!==s)return!1;let f=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let g=Z.empty,y=l.index(-1)?1:l.index(-2)?2:3;for(let A=l.depth-y;A>=l.depth-3;A-=1)g=Z.from(l.node(A).copy(g));let w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,x={...yS(f,l.node().type.name,l.node().attrs),...t},S=((a=s.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(x))||void 0;g=g.append(Z.from(s.createAndFill(null,S)||void 0));let E=l.before(l.depth-(y-1));n.replace(E,l.after(-w),new fe(g,4-y,0));let k=-1;n.doc.nodesBetween(E,n.doc.content.size,(A,T)=>{if(k>-1)return!1;A.isTextblock&&A.content.size===0&&(k=T+1)}),k>-1&&n.setSelection(Be.near(n.doc.resolve(k))),n.scrollIntoView()}return!0}let h=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...yS(f,d.type.name,d.attrs),...t},m={...yS(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,u.pos);let v=h?[{type:s,attrs:p},{type:h,attrs:m}]:[{type:s,attrs:p}];if(!wu(n.doc,l.pos,2))return!1;if(i){let{selection:g,storedMarks:y}=r,{splittableMarks:w}=o.extensionManager,x=y||g.$to.parentOffset&&g.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!x||!i)return!0;let S=x.filter(E=>w.includes(E.type.name));n.ensureMarks(S)}return!0},L6=(e,t)=>{let n=PM(a=>a.type===t)(e.selection);if(!n)return!0;let r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;let i=e.doc.nodeAt(r);return n.node.type===i?.type&&ad(e.doc,n.pos)&&e.join(n.pos),!0},z6=(e,t)=>{let n=PM(a=>a.type===t)(e.selection);if(!n)return!0;let r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;let i=e.doc.nodeAt(r);return n.node.type===i?.type&&ad(e.doc,r)&&e.join(r),!0},Z1e=(e,t,n,r={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:u,can:c})=>{let{extensions:d,splittableMarks:f}=i.extensionManager,h=Br(e,a.schema),p=Br(t,a.schema),{selection:m,storedMarks:v}=a,{$from:g,$to:y}=m,w=g.blockRange(y),x=v||m.$to.parentOffset&&m.$from.marks();if(!w)return!1;let S=PM(E=>oq(E.type.name,d))(m);if(w.depth>=1&&S&&w.depth-S.depth<=1){if(S.node.type===h)return u.liftListItem(p);if(oq(S.node.type.name,d)&&h.validContent(S.node.content)&&s)return l().command(()=>(o.setNodeMarkup(S.pos,h),!0)).command(()=>L6(o,h)).command(()=>z6(o,h)).run()}return!n||!x||!s?l().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>L6(o,h)).command(()=>z6(o,h)).run():l().command(()=>{let E=c().wrapInList(h,r),k=x.filter(A=>f.includes(A.type.name));return o.ensureMarks(k),E?!0:u.clearNodes()}).wrapInList(h,r).command(()=>L6(o,h)).command(()=>z6(o,h)).run()},eye=(e,t={},n={})=>({state:r,commands:i})=>{let{extendEmptyMarkRange:o=!1}=n,a=ld(e,r.schema);return dM(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},tye=(e,t,n={})=>({state:r,commands:i})=>{let o=Br(e,r.schema),a=Br(t,r.schema),s=S1(r,o,n),l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...n})},nye=(e,t={})=>({state:n,commands:r})=>{let i=Br(e,n.schema);return S1(n,i,t)?r.lift(i):r.wrapIn(i,t)},rye=()=>({state:e,dispatch:t})=>{let n=e.plugins;for(let r=0;r<n.length;r+=1){let i=n[r],o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){let a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){let l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},iye=()=>({tr:e,dispatch:t})=>{let{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},oye=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;let{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=ld(e,r.schema),{$from:u,empty:c,ranges:d}=s;if(!i)return!0;if(c&&a){let{from:f,to:h}=s,p=(o=u.marks().find(v=>v.type===l))===null||o===void 0?void 0:o.attrs,m=NM(u,l,p);m&&(f=m.from,h=m.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},aye=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null,s=US(typeof e=="string"?e:e.name,r.schema);return s?(s==="node"&&(o=Br(e,r.schema)),s==="mark"&&(a=ld(e,r.schema)),i&&n.selection.ranges.forEach(l=>{let u=l.$from.pos,c=l.$to.pos,d,f,h,p;n.selection.empty?r.doc.nodesBetween(u,c,(m,v)=>{o&&o===m.type&&(h=Math.max(v,u),p=Math.min(v+m.nodeSize,c),d=v,f=m)}):r.doc.nodesBetween(u,c,(m,v)=>{v<u&&o&&o===m.type&&(h=Math.max(v,u),p=Math.min(v+m.nodeSize,c),d=v,f=m),v>=u&&v<=c&&(o&&o===m.type&&n.setNodeMarkup(v,void 0,{...m.attrs,...t}),a&&m.marks.length&&m.marks.forEach(g=>{if(a===g.type){let y=Math.max(v,u),w=Math.min(v+m.nodeSize,c);n.addMark(y,w,a.create({...g.attrs,...t}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...t}),a&&f.marks.length&&f.marks.forEach(m=>{a===m.type&&n.addMark(h,p,a.create({...m.attrs,...t}))}))}),!0):!1},sye=(e,t={})=>({state:n,dispatch:r})=>{let i=Br(e,n.schema);return Ave(i,t)(n,r)},lye=(e,t={})=>({state:n,dispatch:r})=>{let i=Br(e,n.schema);return kve(i,t)(n,r)},uye=Object.freeze({__proto__:null,blur:Jve,clearContent:Xve,clearNodes:Zve,command:e1e,createParagraphNear:t1e,cut:n1e,deleteCurrentNode:r1e,deleteNode:i1e,deleteRange:o1e,deleteSelection:a1e,enter:s1e,exitCode:l1e,extendMarkRange:u1e,first:c1e,focus:d1e,forEach:f1e,insertContent:h1e,insertContentAt:g1e,joinBackward:b1e,joinDown:y1e,joinForward:w1e,joinItemBackward:x1e,joinItemForward:E1e,joinTextblockBackward:S1e,joinTextblockForward:C1e,joinUp:v1e,keyboardShortcut:T1e,lift:k1e,liftEmptyBlock:D1e,liftListItem:M1e,newlineInCode:R1e,resetAttributes:O1e,scrollIntoView:B1e,selectAll:_1e,selectNodeBackward:F1e,selectNodeForward:I1e,selectParentNode:N1e,selectTextblockEnd:L1e,selectTextblockStart:z1e,setContent:P1e,setMark:q1e,setMeta:K1e,setNode:Y1e,setNodeSelection:W1e,setTextSelection:G1e,sinkListItem:Q1e,splitBlock:J1e,splitListItem:X1e,toggleList:Z1e,toggleMark:eye,toggleNode:tye,toggleWrap:nye,undoInputRule:rye,unsetAllMarks:iye,unsetMark:oye,updateAttributes:aye,wrapIn:sye,wrapInList:lye}),cye=Jr.create({name:"commands",addCommands(){return{...uye}}}),dye=Jr.create({name:"drop",addProseMirrorPlugins(){return[new Xn({key:new _r("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),fye=Jr.create({name:"editable",addProseMirrorPlugins(){return[new Xn({key:new _r("editable"),props:{editable:()=>this.editor.options.editable}})]}}),hye=Jr.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:e}=this;return[new Xn({key:new _r("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;let r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;let r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),pye=Jr.create({name:"keymap",addKeyboardShortcuts(){let e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{let{selection:l,doc:u}=s,{empty:c,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?s.doc.resolve(f-1):d,m=p.parent.type.spec.isolating,v=d.pos-d.parentOffset,g=m&&p.parent.childCount===1?v===d.pos:Fe.atStart(u).from===f;return!c||!h.type.isTextblock||h.textContent.length||!g||g&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return LM()||nY()?o:i},addProseMirrorPlugins(){return[new Xn({key:new _r("clearDocument"),appendTransaction:(e,t,n)=>{let r=e.some(m=>m.docChanged)&&!t.doc.eq(n.doc),i=e.some(m=>m.getMeta("preventClearDocument"));if(!r||i)return;let{empty:o,from:a,to:s}=t.selection,l=Fe.atStart(t.doc).from,u=Fe.atEnd(t.doc).to;if(o||!(a===l&&s===u)||!VM(n.doc))return;let f=n.tr,h=NS({state:n,transaction:f}),{commands:p}=new LS({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),mye=Jr.create({name:"paste",addProseMirrorPlugins(){return[new Xn({key:new _r("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),gye=Jr.create({name:"tabindex",addProseMirrorPlugins(){return[new Xn({key:new _r("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),vye=class Im{get name(){return this.node.type.name}constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;let t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Im(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Im(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Im(t,this.editor)}get children(){let t=[];return this.node.content.forEach((n,r)=>{let i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1),s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;let l=new Im(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new Im(s,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){let t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){let o=i.node.attrs,a=Object.keys(n);for(let s=0;s<a.length;s+=1){let l=a[s];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;let o=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===t&&o.every(l=>n[l]===a.node.attrs[l])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,n,r))))}),i}setAttribute(t){let{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},yye=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function bye(e,t,n){let r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;let i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var sY=class extends Fve{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:n,moved:r})=>this.options.onDrop(t,n,r)),this.on("paste",({event:t,slice:n})=>this.options.onPaste(t,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=bye(yye,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){let n=QK(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;let t=this.state.plugins,n=t;if([].concat(e).forEach(i=>{let o=typeof i=="string"?`${i}$`:i.key;n=t.filter(a=>!a.key.startsWith(o))}),t.length===n.length)return;let r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;let r=[...this.options.enableCoreExtensions?[fye,Qve.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),cye,hye,pye,gye,dye,mye].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Gve(r,this)}createCommandManager(){this.commandManager=new LS({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=cM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=cM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}let n=eY(t,this.options.autofocus);this.view=new ove(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:T0e.create({doc:t,selection:n||void 0})});let r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();let i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;let t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}let t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});let r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return U1e(this.state,e)}isActive(e,t){let n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return j1e(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return FM(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return HM(this.state.doc,{blockSeparator:t,textSerializers:{...VS(this.schema),...n}})}get isEmpty(){return VM(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){let e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,t))||null}$pos(e){let t=this.state.doc.resolve(e);return new vye(t,this)}get $doc(){return this.$pos(0)}};function Um(e){return new PS({find:e.find,handler:({state:t,range:n,match:r})=>{let i=Qe(e.getAttributes,void 0,r);if(i===!1||i===null)return null;let{tr:o}=t,a=r[r.length-1],s=r[0];if(a){let l=s.search(/\S/),u=n.from+s.indexOf(a),c=u+a.length;if(iY(n.from,n.to,t.doc).filter(h=>h.mark.type.excluded.find(m=>m===e.type&&m!==h.mark.type)).filter(h=>h.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+l,u);let f=n.from+l+a.length;o.addMark(n.from+l,f,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function lY(e){return new PS({find:e.find,handler:({state:t,range:n,match:r})=>{let i=Qe(e.getAttributes,void 0,r)||{},{tr:o}=t,a=n.from,s=n.to,l=e.type.create(i);if(r[1]){let u=r[0].lastIndexOf(r[1]),c=a+u;c>s?c=s:s=c+r[1].length;let d=r[0][r[0].length-1];o.insertText(d,a+r[0].length-1),o.replaceWith(c,s,l)}else if(r[0]){let u=e.type.isInline?a:a-1;o.insert(u,e.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s))}o.scrollIntoView()}})}function uY(e){return new PS({find:e.find,handler:({state:t,range:n,match:r})=>{let i=t.doc.resolve(n.from),o=Qe(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function jm(e){return new PS({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{let o=Qe(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),u=l&&yM(l,e.type,o);if(!u)return null;if(a.wrap(l,u),e.keepMarks&&e.editor){let{selection:d,storedMarks:f}=t,{splittableMarks:h}=e.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){let m=p.filter(v=>h.includes(v.type.name));a.ensureMarks(m)}}if(e.keepAttributes){let d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}let c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&ad(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&a.join(n.from-1)}})}var Xr=class fM{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Qe(xe(this,"addOptions",{name:this.name}))),this.storage=Qe(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new fM(t)}configure(t={}){let n=this.extend({...this.config,addOptions:()=>HS(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){let n=new fM(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Qe(xe(n,"addOptions",{name:n.name})),n.storage=Qe(xe(n,"addStorage",{name:n.name,options:n.options})),n}};function wye(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}var cY=class{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,i,o,a,s;let{view:l}=this.editor,u=e.target,c=u.nodeType===3?(t=u.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((n=this.contentDOM)===null||n===void 0)&&n.contains(u)||!c)return;let d=0,f=0;if(this.dom!==c){let v=this.dom.getBoundingClientRect(),g=c.getBoundingClientRect(),y=(r=e.offsetX)!==null&&r!==void 0?r:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,w=(o=e.offsetY)!==null&&o!==void 0?o:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;d=g.x-v.x+y,f=g.y-v.y+w}(s=e.dataTransfer)===null||s===void 0||s.setDragImage(this.dom,d,f);let h=this.getPos();if(typeof h!="number")return;let p=Oe.create(l.state.doc,h),m=l.state.tr.setSelection(p);l.dispatch(m)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});let n=e.target;if(!(this.dom.contains(n)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(n))))return!1;let i=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!i)return!0;let{isEditable:s}=this.editor,{isDragging:l}=this,u=!!this.node.type.spec.draggable,c=Oe.isSelectable(this.node),d=e.type==="copy",f=e.type==="paste",h=e.type==="cut",p=e.type==="mousedown";if(!u&&c&&i&&e.target===this.dom&&e.preventDefault(),u&&i&&!l&&e.target===this.dom)return e.preventDefault(),!1;if(u&&s&&!l&&p){let m=n.closest("[data-drag-handle]");m&&(this.dom===m||this.dom.contains(m))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||o||d||f||h||p&&c)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(LM()||wye())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{let n=this.getPos();return typeof n!="number"?!1:(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){let e=this.getPos();if(typeof e!="number")return;let t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}};function $m(e){return new jve({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{let o=Qe(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;let{tr:a}=t,s=r[r.length-1],l=r[0],u=n.to;if(s){let c=l.search(/\S/),d=n.from+l.indexOf(s),f=d+s.length;if(iY(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(v=>v===e.type&&v!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+c,d),u=n.from+c+s.length,a.addMark(n.from+c,u,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var go="top",Ra="bottom",Oa="right",vo="left",QM="auto",I1=[go,Ra,Oa,vo],Km="start",_1="end",xye="clippingParents",MY="viewport",M1="popper",Eye="reference",dY=I1.reduce(function(e,t){return e.concat([t+"-"+Km,t+"-"+_1])},[]),RY=[].concat(I1,[QM]).reduce(function(e,t){return e.concat([t,t+"-"+Km,t+"-"+_1])},[]),Sye="beforeRead",Cye="read",Aye="afterRead",Tye="beforeMain",kye="main",Dye="afterMain",Mye="beforeWrite",Rye="write",Oye="afterWrite",Bye=[Sye,Cye,Aye,Tye,kye,Dye,Mye,Rye,Oye];function dl(e){return e?(e.nodeName||"").toLowerCase():null}function Jo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function qf(e){var t=Jo(e).Element;return e instanceof t||e instanceof Element}function Ma(e){var t=Jo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function JM(e){if(typeof ShadowRoot>"u")return!1;var t=Jo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function _ye(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Ma(o)||!dl(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Fye(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=a.reduce(function(l,u){return l[u]="",l},{});!Ma(i)||!dl(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var OY={name:"applyStyles",enabled:!0,phase:"write",fn:_ye,effect:Fye,requires:["computeStyles"]};function cl(e){return e.split("-")[0]}var $f=Math.max,KS=Math.min,Ym=Math.round;function KM(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function BY(){return!/^((?!chrome|android).)*safari/i.test(KM())}function Wm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Ma(e)&&(i=e.offsetWidth>0&&Ym(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ym(r.height)/e.offsetHeight||1);var a=qf(e)?Jo(e):window,s=a.visualViewport,l=!BY()&&n,u=(r.left+(l&&s?s.offsetLeft:0))/i,c=(r.top+(l&&s?s.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function XM(e){var t=Wm(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function _Y(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&JM(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Eu(e){return Jo(e).getComputedStyle(e)}function Iye(e){return["table","td","th"].indexOf(dl(e))>=0}function ud(e){return((qf(e)?e.ownerDocument:e.document)||window.document).documentElement}function WS(e){return dl(e)==="html"?e:e.assignedSlot||e.parentNode||(JM(e)?e.host:null)||ud(e)}function fY(e){return!Ma(e)||Eu(e).position==="fixed"?null:e.offsetParent}function Nye(e){var t=/firefox/i.test(KM()),n=/Trident/i.test(KM());if(n&&Ma(e)){var r=Eu(e);if(r.position==="fixed")return null}var i=WS(e);for(JM(i)&&(i=i.host);Ma(i)&&["html","body"].indexOf(dl(i))<0;){var o=Eu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function N1(e){for(var t=Jo(e),n=fY(e);n&&Iye(n)&&Eu(n).position==="static";)n=fY(n);return n&&(dl(n)==="html"||dl(n)==="body"&&Eu(n).position==="static")?t:n||Nye(e)||t}function ZM(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function R1(e,t,n){return $f(e,KS(t,n))}function Lye(e,t,n){var r=R1(e,t,n);return r>n?n:r}function FY(){return{top:0,right:0,bottom:0,left:0}}function IY(e){return Object.assign({},FY(),e)}function NY(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var zye=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,IY(typeof t!="number"?t:NY(t,I1))};function Pye(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=cl(n.placement),l=ZM(s),u=[vo,Oa].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var d=zye(i.padding,n),f=XM(o),h=l==="y"?go:vo,p=l==="y"?Ra:Oa,m=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],v=a[l]-n.rects.reference[l],g=N1(o),y=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,w=m/2-v/2,x=d[h],S=y-f[c]-d[p],E=y/2-f[c]/2+w,k=R1(x,E,S),A=l;n.modifiersData[r]=(t={},t[A]=k,t.centerOffset=k-E,t)}}function Hye(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||_Y(t.elements.popper,i)&&(t.elements.arrow=i))}var Vye={name:"arrow",enabled:!0,phase:"main",fn:Pye,effect:Hye,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Gm(e){return e.split("-")[1]}var Uye={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jye(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Ym(n*i)/i||0,y:Ym(r*i)/i||0}}function hY(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=a.x,h=f===void 0?0:f,p=a.y,m=p===void 0?0:p,v=typeof c=="function"?c({x:h,y:m}):{x:h,y:m};h=v.x,m=v.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),w=vo,x=go,S=window;if(u){var E=N1(n),k="clientHeight",A="clientWidth";if(E===Jo(n)&&(E=ud(n),Eu(E).position!=="static"&&s==="absolute"&&(k="scrollHeight",A="scrollWidth")),E=E,i===go||(i===vo||i===Oa)&&o===_1){x=Ra;var T=d&&E===S&&S.visualViewport?S.visualViewport.height:E[k];m-=T-r.height,m*=l?1:-1}if(i===vo||(i===go||i===Ra)&&o===_1){w=Oa;var R=d&&E===S&&S.visualViewport?S.visualViewport.width:E[A];h-=R-r.width,h*=l?1:-1}}var M=Object.assign({position:s},u&&Uye),O=c===!0?jye({x:h,y:m},Jo(n)):{x:h,y:m};if(h=O.x,m=O.y,l){var B;return Object.assign({},M,(B={},B[x]=y?"0":"",B[w]=g?"0":"",B.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",B))}return Object.assign({},M,(t={},t[x]=y?m+"px":"",t[w]=g?h+"px":"",t.transform="",t))}function $ye(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:cl(t.placement),variation:Gm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,hY(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,hY(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var qye={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$ye,data:{}},jS={passive:!0};function Kye(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=Jo(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,jS)}),s&&l.addEventListener("resize",n.update,jS),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,jS)}),s&&l.removeEventListener("resize",n.update,jS)}}var Yye={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kye,data:{}},Wye={left:"right",right:"left",bottom:"top",top:"bottom"};function qS(e){return e.replace(/left|right|bottom|top/g,function(t){return Wye[t]})}var Gye={start:"end",end:"start"};function pY(e){return e.replace(/start|end/g,function(t){return Gye[t]})}function eR(e){var t=Jo(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function tR(e){return Wm(ud(e)).left+eR(e).scrollLeft}function Qye(e,t){var n=Jo(e),r=ud(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=BY();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+tR(e),y:l}}function Jye(e){var t,n=ud(e),r=eR(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=$f(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=$f(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+tR(e),l=-r.scrollTop;return Eu(i||n).direction==="rtl"&&(s+=$f(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function nR(e){var t=Eu(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function LY(e){return["html","body","#document"].indexOf(dl(e))>=0?e.ownerDocument.body:Ma(e)&&nR(e)?e:LY(WS(e))}function O1(e,t){var n;t===void 0&&(t=[]);var r=LY(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Jo(r),a=i?[o].concat(o.visualViewport||[],nR(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(O1(WS(a)))}function YM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xye(e,t){var n=Wm(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function mY(e,t,n){return t===MY?YM(Qye(e,n)):qf(t)?Xye(t,n):YM(Jye(ud(e)))}function Zye(e){var t=O1(WS(e)),n=["absolute","fixed"].indexOf(Eu(e).position)>=0,r=n&&Ma(e)?N1(e):e;return qf(r)?t.filter(function(i){return qf(i)&&_Y(i,r)&&dl(i)!=="body"}):[]}function ebe(e,t,n,r){var i=t==="clippingParents"?Zye(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(l,u){var c=mY(e,u,r);return l.top=$f(c.top,l.top),l.right=KS(c.right,l.right),l.bottom=KS(c.bottom,l.bottom),l.left=$f(c.left,l.left),l},mY(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function zY(e){var t=e.reference,n=e.element,r=e.placement,i=r?cl(r):null,o=r?Gm(r):null,a=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(i){case go:l={x:a,y:t.y-n.height};break;case Ra:l={x:a,y:t.y+t.height};break;case Oa:l={x:t.x+t.width,y:s};break;case vo:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?ZM(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Km:l[u]=l[u]-(t[c]/2-n[c]/2);break;case _1:l[u]=l[u]+(t[c]/2-n[c]/2);break;default:}}return l}function F1(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,a=o===void 0?e.strategy:o,s=n.boundary,l=s===void 0?xye:s,u=n.rootBoundary,c=u===void 0?MY:u,d=n.elementContext,f=d===void 0?M1:d,h=n.altBoundary,p=h===void 0?!1:h,m=n.padding,v=m===void 0?0:m,g=IY(typeof v!="number"?v:NY(v,I1)),y=f===M1?Eye:M1,w=e.rects.popper,x=e.elements[p?y:f],S=ebe(qf(x)?x:x.contextElement||ud(e.elements.popper),l,c,a),E=Wm(e.elements.reference),k=zY({reference:E,element:w,strategy:"absolute",placement:i}),A=YM(Object.assign({},w,k)),T=f===M1?A:E,R={top:S.top-T.top+g.top,bottom:T.bottom-S.bottom+g.bottom,left:S.left-T.left+g.left,right:T.right-S.right+g.right},M=e.modifiersData.offset;if(f===M1&&M){var O=M[i];Object.keys(R).forEach(function(B){var _=[Oa,Ra].indexOf(B)>=0?1:-1,z=[go,Ra].indexOf(B)>=0?"y":"x";R[B]+=O[z]*_})}return R}function tbe(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?RY:l,c=Gm(r),d=c?s?dY:dY.filter(function(p){return Gm(p)===c}):I1,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=F1(e,{placement:m,boundary:i,rootBoundary:o,padding:a})[cl(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function nbe(e){if(cl(e)===QM)return[];var t=qS(e);return[pY(e),t,pY(t)]}function rbe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,m=n.allowedAutoPlacements,v=t.options.placement,g=cl(v),y=g===v,w=l||(y||!p?[qS(v)]:nbe(v)),x=[v].concat(w).reduce(function(G,Y){return G.concat(cl(Y)===QM?tbe(t,{placement:Y,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:m}):Y)},[]),S=t.rects.reference,E=t.rects.popper,k=new Map,A=!0,T=x[0],R=0;R<x.length;R++){var M=x[R],O=cl(M),B=Gm(M)===Km,_=[go,Ra].indexOf(O)>=0,z=_?"width":"height",V=F1(t,{placement:M,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),P=_?B?Oa:vo:B?Ra:go;S[z]>E[z]&&(P=qS(P));var F=qS(P),U=[];if(o&&U.push(V[O]<=0),s&&U.push(V[P]<=0,V[F]<=0),U.every(function(G){return G})){T=M,A=!1;break}k.set(M,U)}if(A)for(var I=p?3:1,Q=function(Y){var ne=x.find(function(ae){var ce=k.get(ae);if(ce)return ce.slice(0,Y).every(function(Ee){return Ee})});if(ne)return T=ne,"break"},N=I;N>0;N--){var H=Q(N);if(H==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}var ibe={name:"flip",enabled:!0,phase:"main",fn:rbe,requiresIfExists:["offset"],data:{_skip:!1}};function gY(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function vY(e){return[go,Oa,Ra,vo].some(function(t){return e[t]>=0})}function obe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=F1(t,{elementContext:"reference"}),s=F1(t,{altBoundary:!0}),l=gY(a,r),u=gY(s,i,o),c=vY(l),d=vY(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var abe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:obe};function sbe(e,t,n){var r=cl(e),i=[vo,go].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[vo,Oa].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function lbe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,a=RY.reduce(function(c,d){return c[d]=sbe(d,t.rects,o),c},{}),s=a[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}var ube={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lbe};function cbe(e){var t=e.state,n=e.name;t.modifiersData[n]=zY({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var dbe={name:"popperOffsets",enabled:!0,phase:"read",fn:cbe,data:{}};function fbe(e){return e==="x"?"y":"x"}function hbe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,m=p===void 0?0:p,v=F1(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=cl(t.placement),y=Gm(t.placement),w=!y,x=ZM(g),S=fbe(x),E=t.modifiersData.popperOffsets,k=t.rects.reference,A=t.rects.popper,T=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,R=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(E){if(o){var B,_=x==="y"?go:vo,z=x==="y"?Ra:Oa,V=x==="y"?"height":"width",P=E[x],F=P+v[_],U=P-v[z],I=h?-A[V]/2:0,Q=y===Km?k[V]:A[V],N=y===Km?-A[V]:-k[V],H=t.elements.arrow,G=h&&H?XM(H):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:FY(),ne=Y[_],ae=Y[z],ce=R1(0,k[V],G[V]),Ee=w?k[V]/2-I-ce-ne-R.mainAxis:Q-ce-ne-R.mainAxis,be=w?-k[V]/2+I+ce+ae+R.mainAxis:N+ce+ae+R.mainAxis,Se=t.elements.arrow&&N1(t.elements.arrow),pe=Se?x==="y"?Se.clientTop||0:Se.clientLeft||0:0,ye=(B=M?.[x])!=null?B:0,Pe=P+Ee-ye-pe,nt=P+be-ye,re=R1(h?KS(F,Pe):F,P,h?$f(U,nt):U);E[x]=re,O[x]=re-P}if(s){var ue,Ae=x==="x"?go:vo,Xe=x==="x"?Ra:Oa,Dt=E[S],Mt=S==="y"?"height":"width",An=Dt+v[Ae],_n=Dt-v[Xe],Fn=[go,vo].indexOf(g)!==-1,Fr=(ue=M?.[S])!=null?ue:0,ml=Fn?An:Dt-k[Mt]-A[Mt]-Fr+R.altAxis,gl=Fn?Dt+k[Mt]+A[Mt]-Fr-R.altAxis:_n,Tu=h&&Fn?Lye(ml,Dt,gl):R1(h?ml:An,Dt,h?gl:_n);E[S]=Tu,O[S]=Tu-Dt}t.modifiersData[r]=O}}var pbe={name:"preventOverflow",enabled:!0,phase:"main",fn:hbe,requiresIfExists:["offset"]};function mbe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function gbe(e){return e===Jo(e)||!Ma(e)?eR(e):mbe(e)}function vbe(e){var t=e.getBoundingClientRect(),n=Ym(t.width)/e.offsetWidth||1,r=Ym(t.height)/e.offsetHeight||1;return n!==1||r!==1}function ybe(e,t,n){n===void 0&&(n=!1);var r=Ma(t),i=Ma(t)&&vbe(t),o=ud(t),a=Wm(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((dl(t)!=="body"||nR(o))&&(s=gbe(t)),Ma(t)?(l=Wm(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=tR(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function bbe(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function wbe(e){var t=bbe(e);return Bye.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function xbe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Ebe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var yY={placement:"bottom",modifiers:[],strategy:"absolute"};function bY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Sbe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?yY:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},yY,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(g){var y=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:qf(s)?O1(s):s.contextElement?O1(s.contextElement):[],popper:O1(l)};var w=wbe(Ebe([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(x){return x.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var g=c.elements,y=g.reference,w=g.popper;if(bY(y,w)){c.rects={reference:ybe(y,N1(w),c.options.strategy==="fixed"),popper:XM(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var x=0;x<c.orderedModifiers.length;x++){if(c.reset===!0){c.reset=!1,x=-1;continue}var S=c.orderedModifiers[x],E=S.fn,k=S.options,A=k===void 0?{}:k,T=S.name;typeof E=="function"&&(c=E({state:c,options:A,name:T,instance:h})||c)}}}},update:xbe(function(){return new Promise(function(v){h.forceUpdate(),v(c)})}),destroy:function(){m(),f=!0}};if(!bY(s,l))return h;h.setOptions(u).then(function(v){!f&&u.onFirstUpdate&&u.onFirstUpdate(v)});function p(){c.orderedModifiers.forEach(function(v){var g=v.name,y=v.options,w=y===void 0?{}:y,x=v.effect;if(typeof x=="function"){var S=x({state:c,name:g,instance:h,options:w}),E=function(){};d.push(S||E)}})}function m(){d.forEach(function(v){return v()}),d=[]}return h}}var Cbe=[Yye,dbe,qye,OY,ube,ibe,pbe,Vye,abe],Abe=Sbe({defaultModifiers:Cbe}),Tbe="tippy-box",PY="tippy-content",kbe="tippy-backdrop",HY="tippy-arrow",VY="tippy-svg-arrow",jf={passive:!0,capture:!0},UY=function(){return document.body};function UM(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function rR(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function jY(e,t){return typeof e=="function"?e.apply(void 0,t):e}function wY(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function Dbe(e){return e.split(/\s+/).filter(Boolean)}function qm(e){return[].concat(e)}function xY(e,t){e.indexOf(t)===-1&&e.push(t)}function Mbe(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function Rbe(e){return e.split("-")[0]}function YS(e){return[].slice.call(e)}function EY(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function B1(){return document.createElement("div")}function GS(e){return["Element","Fragment"].some(function(t){return rR(e,t)})}function Obe(e){return rR(e,"NodeList")}function Bbe(e){return rR(e,"MouseEvent")}function _be(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Fbe(e){return GS(e)?[e]:Obe(e)?YS(e):Array.isArray(e)?e:YS(document.querySelectorAll(e))}function jM(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function SY(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function Ibe(e){var t,n=qm(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function Nbe(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,l=s.interactiveBorder,u=Rbe(a.placement),c=a.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,f=u==="top"?c.bottom.y:0,h=u==="right"?c.left.x:0,p=u==="left"?c.right.x:0,m=o.top-r+d>l,v=r-o.bottom-f>l,g=o.left-n+h>l,y=n-o.right-p>l;return m||v||g||y})}function $M(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function CY(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var ul={isTouch:!1},AY=0;function Lbe(){ul.isTouch||(ul.isTouch=!0,window.performance&&document.addEventListener("mousemove",$Y))}function $Y(){var e=performance.now();e-AY<20&&(ul.isTouch=!1,document.removeEventListener("mousemove",$Y)),AY=e}function zbe(){var e=document.activeElement;if(_be(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Pbe(){document.addEventListener("touchstart",Lbe,jf),window.addEventListener("blur",zbe)}var Hbe=typeof window<"u"&&typeof document<"u",Vbe=Hbe?!!window.msCrypto:!1;var Ube={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},jbe={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},vs=Object.assign({appendTo:UY,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ube,jbe),$be=Object.keys(vs),qbe=function(t){var n=Object.keys(t);n.forEach(function(r){vs[r]=t[r]})};function qY(e){var t=e.plugins||[],n=t.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var s;r[o]=e[o]!==void 0?e[o]:(s=vs[o])!=null?s:a}return r},{});return Object.assign({},e,n)}function Kbe(e,t){var n=t?Object.keys(qY(Object.assign({},vs,{plugins:t}))):$be,r=n.reduce(function(i,o){var a=(e.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function TY(e,t){var n=Object.assign({},t,{content:jY(t.content,[e])},t.ignoreAttributes?{}:Kbe(e,t.plugins));return n.aria=Object.assign({},vs.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var Ybe=function(){return"innerHTML"};function WM(e,t){e[Ybe()]=t}function kY(e){var t=B1();return e===!0?t.className=HY:(t.className=VY,GS(e)?t.appendChild(e):WM(t,e)),t}function DY(e,t){GS(t.content)?(WM(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?WM(e,t.content):e.textContent=t.content)}function GM(e){var t=e.firstElementChild,n=YS(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(PY)}),arrow:n.find(function(r){return r.classList.contains(HY)||r.classList.contains(VY)}),backdrop:n.find(function(r){return r.classList.contains(kbe)})}}function KY(e){var t=B1(),n=B1();n.className=Tbe,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=B1();r.className=PY,r.setAttribute("data-state","hidden"),DY(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(o,a){var s=GM(t),l=s.box,u=s.content,c=s.arrow;a.theme?l.setAttribute("data-theme",a.theme):l.removeAttribute("data-theme"),typeof a.animation=="string"?l.setAttribute("data-animation",a.animation):l.removeAttribute("data-animation"),a.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?l.setAttribute("role",a.role):l.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&DY(u,e.props),a.arrow?c?o.arrow!==a.arrow&&(l.removeChild(c),l.appendChild(kY(a.arrow))):l.appendChild(kY(a.arrow)):c&&l.removeChild(c)}return{popper:t,onUpdate:i}}KY.$$tippy=!0;var Wbe=1,$S=[],qM=[];function Gbe(e,t){var n=TY(e,Object.assign({},vs,qY(EY(t)))),r,i,o,a=!1,s=!1,l=!1,u=!1,c,d,f,h=[],p=wY(Pe,n.interactiveDebounce),m,v=Wbe++,g=null,y=Mbe(n.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},x={id:v,reference:e,popper:B1(),popperInstance:g,props:n,state:w,plugins:y,clearDelayTimeouts:ml,setProps:gl,setContent:Tu,show:Wf,hide:Jm,hideWithInteractivity:U1,enable:Fn,disable:Fr,unmount:Zn,destroy:vr};if(!n.render)return x;var S=n.render(x),E=S.popper,k=S.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+x.id,x.popper=E,e._tippy=x,E._tippy=x;var A=y.map(function(q){return q.fn(x)}),T=e.hasAttribute("aria-expanded");return Se(),I(),P(),F("onCreate",[x]),n.showOnCreate&&An(),E.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&_().addEventListener("mousemove",p)}),x;function R(){var q=x.props.touch;return Array.isArray(q)?q:[q,0]}function M(){return R()[0]==="hold"}function O(){var q;return!!((q=x.props.render)!=null&&q.$$tippy)}function B(){return m||e}function _(){var q=B().parentNode;return q?Ibe(q):document}function z(){return GM(E)}function V(q){return x.state.isMounted&&!x.state.isVisible||ul.isTouch||c&&c.type==="focus"?0:UM(x.props.delay,q?0:1,vs.delay)}function P(q){q===void 0&&(q=!1),E.style.pointerEvents=x.props.interactive&&!q?"":"none",E.style.zIndex=""+x.props.zIndex}function F(q,ve,Re){if(Re===void 0&&(Re=!0),A.forEach(function(Ue){Ue[q]&&Ue[q].apply(Ue,ve)}),Re){var Ct;(Ct=x.props)[q].apply(Ct,ve)}}function U(){var q=x.props.aria;if(q.content){var ve="aria-"+q.content,Re=E.id,Ct=qm(x.props.triggerTarget||e);Ct.forEach(function(Ue){var Kn=Ue.getAttribute(ve);if(x.state.isVisible)Ue.setAttribute(ve,Kn?Kn+" "+Re:Re);else{var yr=Kn&&Kn.replace(Re,"").trim();yr?Ue.setAttribute(ve,yr):Ue.removeAttribute(ve)}})}}function I(){if(!(T||!x.props.aria.expanded)){var q=qm(x.props.triggerTarget||e);q.forEach(function(ve){x.props.interactive?ve.setAttribute("aria-expanded",x.state.isVisible&&ve===B()?"true":"false"):ve.removeAttribute("aria-expanded")})}}function Q(){_().removeEventListener("mousemove",p),$S=$S.filter(function(q){return q!==p})}function N(q){if(!(ul.isTouch&&(l||q.type==="mousedown"))){var ve=q.composedPath&&q.composedPath()[0]||q.target;if(!(x.props.interactive&&CY(E,ve))){if(qm(x.props.triggerTarget||e).some(function(Re){return CY(Re,ve)})){if(ul.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else F("onClickOutside",[x,q]);x.props.hideOnClick===!0&&(x.clearDelayTimeouts(),x.hide(),s=!0,setTimeout(function(){s=!1}),x.state.isMounted||ne())}}}function H(){l=!0}function G(){l=!1}function Y(){var q=_();q.addEventListener("mousedown",N,!0),q.addEventListener("touchend",N,jf),q.addEventListener("touchstart",G,jf),q.addEventListener("touchmove",H,jf)}function ne(){var q=_();q.removeEventListener("mousedown",N,!0),q.removeEventListener("touchend",N,jf),q.removeEventListener("touchstart",G,jf),q.removeEventListener("touchmove",H,jf)}function ae(q,ve){Ee(q,function(){!x.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&ve()})}function ce(q,ve){Ee(q,ve)}function Ee(q,ve){var Re=z().box;function Ct(Ue){Ue.target===Re&&($M(Re,"remove",Ct),ve())}if(q===0)return ve();$M(Re,"remove",d),$M(Re,"add",Ct),d=Ct}function be(q,ve,Re){Re===void 0&&(Re=!1);var Ct=qm(x.props.triggerTarget||e);Ct.forEach(function(Ue){Ue.addEventListener(q,ve,Re),h.push({node:Ue,eventType:q,handler:ve,options:Re})})}function Se(){M()&&(be("touchstart",ye,{passive:!0}),be("touchend",nt,{passive:!0})),Dbe(x.props.trigger).forEach(function(q){if(q!=="manual")switch(be(q,ye),q){case"mouseenter":be("mouseleave",nt);break;case"focus":be(Vbe?"focusout":"blur",re);break;case"focusin":be("focusout",re);break}})}function pe(){h.forEach(function(q){var ve=q.node,Re=q.eventType,Ct=q.handler,Ue=q.options;ve.removeEventListener(Re,Ct,Ue)}),h=[]}function ye(q){var ve,Re=!1;if(!(!x.state.isEnabled||ue(q)||s)){var Ct=((ve=c)==null?void 0:ve.type)==="focus";c=q,m=q.currentTarget,I(),!x.state.isVisible&&Bbe(q)&&$S.forEach(function(Ue){return Ue(q)}),q.type==="click"&&(x.props.trigger.indexOf("mouseenter")<0||a)&&x.props.hideOnClick!==!1&&x.state.isVisible?Re=!0:An(q),q.type==="click"&&(a=!Re),Re&&!Ct&&_n(q)}}function Pe(q){var ve=q.target,Re=B().contains(ve)||E.contains(ve);if(!(q.type==="mousemove"&&Re)){var Ct=Mt().concat(E).map(function(Ue){var Kn,yr=Ue._tippy,Ba=(Kn=yr.popperInstance)==null?void 0:Kn.state;return Ba?{popperRect:Ue.getBoundingClientRect(),popperState:Ba,props:n}:null}).filter(Boolean);Nbe(Ct,q)&&(Q(),_n(q))}}function nt(q){var ve=ue(q)||x.props.trigger.indexOf("click")>=0&&a;if(!ve){if(x.props.interactive){x.hideWithInteractivity(q);return}_n(q)}}function re(q){x.props.trigger.indexOf("focusin")<0&&q.target!==B()||x.props.interactive&&q.relatedTarget&&E.contains(q.relatedTarget)||_n(q)}function ue(q){return ul.isTouch?M()!==q.type.indexOf("touch")>=0:!1}function Ae(){Xe();var q=x.props,ve=q.popperOptions,Re=q.placement,Ct=q.offset,Ue=q.getReferenceClientRect,Kn=q.moveTransition,yr=O()?GM(E).arrow:null,Ba=Ue?{getBoundingClientRect:Ue,contextElement:Ue.contextElement||B()}:e,ku={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(hd){var vl=hd.state;if(O()){var BG=z(),cC=BG.box;["placement","reference-hidden","escaped"].forEach(function(j1){j1==="placement"?cC.setAttribute("data-placement",vl.placement):vl.attributes.popper["data-popper-"+j1]?cC.setAttribute("data-"+j1,""):cC.removeAttribute("data-"+j1)}),vl.attributes.popper={}}}},bo=[{name:"offset",options:{offset:Ct}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Kn}},ku];O()&&yr&&bo.push({name:"arrow",options:{element:yr,padding:3}}),bo.push.apply(bo,ve?.modifiers||[]),x.popperInstance=Abe(Ba,E,Object.assign({},ve,{placement:Re,onFirstUpdate:f,modifiers:bo}))}function Xe(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function Dt(){var q=x.props.appendTo,ve,Re=B();x.props.interactive&&q===UY||q==="parent"?ve=Re.parentNode:ve=jY(q,[Re]),ve.contains(E)||ve.appendChild(E),x.state.isMounted=!0,Ae()}function Mt(){return YS(E.querySelectorAll("[data-tippy-root]"))}function An(q){x.clearDelayTimeouts(),q&&F("onTrigger",[x,q]),Y();var ve=V(!0),Re=R(),Ct=Re[0],Ue=Re[1];ul.isTouch&&Ct==="hold"&&Ue&&(ve=Ue),ve?r=setTimeout(function(){x.show()},ve):x.show()}function _n(q){if(x.clearDelayTimeouts(),F("onUntrigger",[x,q]),!x.state.isVisible){ne();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(q.type)>=0&&a)){var ve=V(!1);ve?i=setTimeout(function(){x.state.isVisible&&x.hide()},ve):o=requestAnimationFrame(function(){x.hide()})}}function Fn(){x.state.isEnabled=!0}function Fr(){x.hide(),x.state.isEnabled=!1}function ml(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function gl(q){if(!x.state.isDestroyed){F("onBeforeUpdate",[x,q]),pe();var ve=x.props,Re=TY(e,Object.assign({},ve,EY(q),{ignoreAttributes:!0}));x.props=Re,Se(),ve.interactiveDebounce!==Re.interactiveDebounce&&(Q(),p=wY(Pe,Re.interactiveDebounce)),ve.triggerTarget&&!Re.triggerTarget?qm(ve.triggerTarget).forEach(function(Ct){Ct.removeAttribute("aria-expanded")}):Re.triggerTarget&&e.removeAttribute("aria-expanded"),I(),P(),k&&k(ve,Re),x.popperInstance&&(Ae(),Mt().forEach(function(Ct){requestAnimationFrame(Ct._tippy.popperInstance.forceUpdate)})),F("onAfterUpdate",[x,q])}}function Tu(q){x.setProps({content:q})}function Wf(){var q=x.state.isVisible,ve=x.state.isDestroyed,Re=!x.state.isEnabled,Ct=ul.isTouch&&!x.props.touch,Ue=UM(x.props.duration,0,vs.duration);if(!(q||ve||Re||Ct)&&!B().hasAttribute("disabled")&&(F("onShow",[x],!1),x.props.onShow(x)!==!1)){if(x.state.isVisible=!0,O()&&(E.style.visibility="visible"),P(),Y(),x.state.isMounted||(E.style.transition="none"),O()){var Kn=z(),yr=Kn.box,Ba=Kn.content;jM([yr,Ba],0)}f=function(){var bo;if(!(!x.state.isVisible||u)){if(u=!0,E.offsetHeight,E.style.transition=x.props.moveTransition,O()&&x.props.animation){var Du=z(),hd=Du.box,vl=Du.content;jM([hd,vl],Ue),SY([hd,vl],"visible")}U(),I(),xY(qM,x),(bo=x.popperInstance)==null||bo.forceUpdate(),F("onMount",[x]),x.props.animation&&O()&&ce(Ue,function(){x.state.isShown=!0,F("onShown",[x])})}},Dt()}}function Jm(){var q=!x.state.isVisible,ve=x.state.isDestroyed,Re=!x.state.isEnabled,Ct=UM(x.props.duration,1,vs.duration);if(!(q||ve||Re)&&(F("onHide",[x],!1),x.props.onHide(x)!==!1)){if(x.state.isVisible=!1,x.state.isShown=!1,u=!1,a=!1,O()&&(E.style.visibility="hidden"),Q(),ne(),P(!0),O()){var Ue=z(),Kn=Ue.box,yr=Ue.content;x.props.animation&&(jM([Kn,yr],Ct),SY([Kn,yr],"hidden"))}U(),I(),x.props.animation?O()&&ae(Ct,x.unmount):x.unmount()}}function U1(q){_().addEventListener("mousemove",p),xY($S,p),p(q)}function Zn(){x.state.isVisible&&x.hide(),x.state.isMounted&&(Xe(),Mt().forEach(function(q){q._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),qM=qM.filter(function(q){return q!==x}),x.state.isMounted=!1,F("onHidden",[x]))}function vr(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),pe(),delete e._tippy,x.state.isDestroyed=!0,F("onDestroy",[x]))}}function L1(e,t){t===void 0&&(t={});var n=vs.plugins.concat(t.plugins||[]);Pbe();var r=Object.assign({},t,{plugins:n}),i=Fbe(e);if(0)var o,a;var s=i.reduce(function(l,u){var c=u&&Gbe(u,r);return c&&l.push(c),l},[]);return GS(e)?s[0]:s}L1.defaultProps=vs;L1.setDefaultProps=qbe;L1.currentInput=ul;var dnt=Object.assign({},OY,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});L1.setDefaultProps({render:KY});var Qbe=L1,Jbe=class{getTextContent(e){return HM(e,{textSerializers:VS(this.editor.schema)})}constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:o,state:a})=>{let{selection:s}=a,{$anchor:l,empty:u}=s,c=l.depth===1,d=l.parent.isTextblock&&!l.parent.type.spec.code&&!l.parent.textContent&&l.parent.childCount===0&&!this.getTextContent(l.parent);return!(!o.hasFocus()||!u||!c||!d||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var a;if(this.preventHide){this.preventHide=!1;return}o?.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(o.relatedTarget))||o?.relatedTarget!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=o=>{this.blurHandler({event:o})},this.editor=e,this.element=t,this.view=n,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){let{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Qbe(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var n,r,i;let{state:o}=e,{doc:a,selection:s}=o,{from:l,to:u}=s;if(t&&t.doc.eq(a)&&t.selection.eq(s))return;if(this.createTooltip(),!((n=this.shouldShow)===null||n===void 0?void 0:n.call(this,{editor:this.editor,view:e,state:o,oldState:t}))){this.hide();return}(r=this.tippy)===null||r===void 0||r.setProps({getReferenceClientRect:((i=this.tippyOptions)===null||i===void 0?void 0:i.getReferenceClientRect)||(()=>aY(e,l,u))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}},iR=e=>new Xn({key:typeof e.pluginKey=="string"?new _r(e.pluginKey):e.pluginKey,view:t=>new Jbe({view:t,...e})}),YY=Jr.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[iR({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var St=D($(),1),lC=D(Ei(),1);b();var oR=D(L(),1);function WY(e){return(0,oR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,oR.jsx)("path",{fill:"currentColor",d:"M20 11H4c-.55 0-1 .45-1 1s.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1zM4 18h10c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM20 6H4c-.55 0-1 .45-1 1v.01c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1z"})})}var bi=D($(),1);b();b();var GY=D($(),1);function QY(){let[e,t]=(0,GY.useState)(void 0);return{options:e?.options,isActive:!!e,request(n){return new Promise((r,i)=>{t({options:n,resolve:r,reject:i})}).finally(()=>{t(void 0)})},resolve(n){e&&e.resolve(n)},reject(){e&&e.reject()}}}var JY=D($(),1),Zr=D(L(),1),Xbe={root:"alinea-PickLink"},Zbe=j(Xbe);function ewe(e){let t=!!e.link,n=Tn("Pick link",{fields:{link:fm("Link",{required:!0,initialValue:e.link}),description:cr("Description",{help:"Text to display inside the link element"}),title:cr("Tooltip",{help:"Extra information that describes the link, shown on hover"}),blank:cm("Open link in new tab",{inline:!0})}});return Wa.options(n.description,r=>{let o=r(n.link)?.[ke.type]==="url";return{hidden:!(e.requireDescription&&!(t||o))}}),Wa.options(n.blank,r=>({hidden:r(n.link)?.[ke.type]==="url"})),n}function XY(){let e=QY();return{options:e.options,open:e.isActive,onClose:e.reject,resolve:e.resolve,pickLink:e.request}}function twe({open:e,onClose:t,resolve:n,options:r={}}){let i=(0,JY.useMemo)(()=>ewe(r),[r]),o=yp(i,{initialValue:r});function a(s){s.preventDefault(),s.stopPropagation();let l=o.data();return n(l)}return(0,Zr.jsx)(Zr.Fragment,{children:e&&(0,Zr.jsx)("form",{onSubmit:a,children:(0,Zr.jsxs)(ut,{gap:18,children:[(0,Zr.jsx)("div",{children:(0,Zr.jsx)(Qn,{form:o,border:!1})}),(0,Zr.jsxs)(K,{children:[r.hasLink&&(0,Zr.jsx)(nn,{icon:so,outline:!0,type:"button",onClick:()=>n(void 0),children:"Remove link"}),(0,Zr.jsx)(Vr.Right,{children:(0,Zr.jsxs)(K,{gap:16,children:[(0,Zr.jsx)(nn,{outline:!0,type:"button",onClick:t,children:"Cancel"}),(0,Zr.jsx)(nn,{children:"Confirm"})]})})]})]})})})}function ZY({picker:e}){return e.open?(0,Zr.jsx)(ga,{open:!0,onClose:e.onClose,className:Zbe.root(),children:(0,Zr.jsx)(twe,{...e})}):null}b();b();var eW=gs.create({name:"link",priority:1e3,keepOnSplit:!1,addOptions(){return{HTMLAttributes:{rel:"noopener noreferrer nofollow"}}},addAttributes(){return{"data-id":{default:null},"data-entry":{default:null},"data-link":{default:null},href:{default:null},target:{default:this.options.HTMLAttributes.target},title:{default:null}}},parseHTML(){return[{tag:'a:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:e}){return["a",cn(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{"Mod-k":()=>this.editor.commands.setLink({})}},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).run()}}});b();var nwe=gs.create({name:"small",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"small"}]},renderHTML({HTMLAttributes:e}){return["small",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSmall:()=>({commands:e})=>e.setMark(this.name),toggleSmall:()=>({commands:e})=>e.toggleMark(this.name),unsetSmall:()=>({commands:e})=>e.unsetMark(this.name)}}}),tW=nwe;var rwe=/^\s*>\s$/,iwe=Xr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[jm({find:rwe,type:this.type})]}}),owe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,awe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,swe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,lwe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,uwe=gs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Um({find:owe,type:this.type}),Um({find:swe,type:this.type})]},addPasteRules(){return[$m({find:awe,type:this.type}),$m({find:lwe,type:this.type})]}}),cwe="listItem",nW="textStyle",rW=/^\s*([-+*])\s$/,dwe=Xr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(cwe,this.editor.getAttributes(nW)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=jm({find:rW,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=jm({find:rW,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(nW),editor:this.editor})),[e]}}),fwe=Xr.create({name:"doc",topNode:!0,content:"block+"});function hwe(e={}){return new Xn({view(t){return new pwe(t,e)}})}var pwe=class{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n;if(t){let a=e.nodeBefore,s=e.nodeAfter;if(a||s){let l=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(l){let u=l.getBoundingClientRect(),c=a?u.bottom:u.top;a&&s&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:c-this.width/2,bottom:c+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=r.getBoundingClientRect();i=a.left-r.scrollLeft,o=a.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,t,e):r;if(t&&!i){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=bM(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}},mwe=Jr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[hwe(this.options)]}}),yo=class cd extends Fe{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return cd.valid(r)?new cd(r):Fe.near(r)}content(){return fe.empty}eq(t){return t instanceof cd&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new cd(t.resolve(n.pos))}getBookmark(){return new gwe(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!vwe(t)||!ywe(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&cd.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(n>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let l=t.doc.resolve(i);if(cd.valid(l))return l}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Oe.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=a,i+=n;let s=t.doc.resolve(i);if(cd.valid(s))return s}return null}}};yo.prototype.visible=!1;yo.findFrom=yo.findGapCursorFrom;Fe.jsonID("gapcursor",yo);var gwe=class wW{constructor(t){this.pos=t}map(t){return new wW(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return yo.valid(n)?new yo(n):Fe.near(n)}};function vwe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function ywe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function bwe(){return new Xn({props:{decorations:Swe,createSelectionBetween(e,t,n){return t.pos==n.pos&&yo.valid(n)?new yo(n):null},handleClick:xwe,handleKeyDown:wwe,handleDOMEvents:{beforeinput:Ewe}}})}var wwe=IS({ArrowLeft:QS("horiz",-1),ArrowRight:QS("horiz",1),ArrowUp:QS("vert",-1),ArrowDown:QS("vert",1)});function QS(e,t){let n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let a=r.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof Be){if(!o.endOfTextblock(n)||s.depth==0)return!1;l=!1,s=r.doc.resolve(t>0?s.after():s.before())}let u=yo.findGapCursorFrom(s,t,l);return u?(i&&i(r.tr.setSelection(new yo(u))),!0):!1}}function xwe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!yo.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Oe.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new yo(r))),!0)}function Ewe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof yo))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Z.empty;for(let a=r.length-1;a>=0;a--)i=Z.from(r[a].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new fe(i,0,0));return o.setSelection(Be.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function Swe(e){if(!(e.selection instanceof yo))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Hi.create(e.doc,[ms.widget(e.selection.head,t,{key:"gapcursor"})])}var Cwe=Jr.create({name:"gapCursor",addProseMirrorPlugins(){return[bwe()]},extendNodeSchema(e){var t;let n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Qe(xe(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),Awe=Xr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",cn(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;let{keepMarks:a}=this.options,{splittableMarks:s}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&a){let d=l.filter(f=>s.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Twe=Xr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,cn(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>uY({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),kwe=Xr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",cn(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{let{selection:n}=t,{$from:r,$to:i}=n,o=e();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):oY(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:a,dispatch:s})=>{var l;if(s){let{$to:u}=a.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(Be.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Oe.create(a.doc,u.pos)):a.setSelection(Be.create(a.doc,u.pos));else{let d=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(a.insert(c,d),a.setSelection(Be.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[lY({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Dwe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Mwe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Rwe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Owe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Bwe=gs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Um({find:Dwe,type:this.type}),Um({find:Rwe,type:this.type})]},addPasteRules(){return[$m({find:Mwe,type:this.type}),$m({find:Owe,type:this.type})]}}),_we=Xr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",cn(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Fwe="listItem",iW="textStyle",oW=/^(\d+)\.\s$/,Iwe=Xr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){let{start:t,...n}=e;return t===1?["ol",cn(this.options.HTMLAttributes,n),0]:["ol",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Fwe,this.editor.getAttributes(iW)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=jm({find:oW,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=jm({find:oW,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(iW)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),Nwe=Xr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Lwe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,zwe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Pwe=gs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Um({find:Lwe,type:this.type})]},addPasteRules(){return[$m({find:zwe,type:this.type})]}}),Hwe=gs.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),Vwe=gs.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",cn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),sR,lR;if(typeof WeakMap<"u"){let e=new WeakMap;sR=t=>e.get(t),lR=(t,n)=>(e.set(t,n),n)}else{let e=[],n=0;sR=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},lR=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var qn=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let r=t%this.width,i=t/this.width|0,o=r+1,a=i+1;for(let s=1;o<this.width&&this.map[t+s]==n;s++)o++;for(let s=1;a<this.height&&this.map[t+this.width*s]==n;s++)a++;return{left:r,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){let{left:r,right:i,top:o,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:a==this.height)?null:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(e,t){let{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:a,right:s,top:l,bottom:u}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,s),bottom:Math.max(o,u)}}cellsInRect(e){let t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){let o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[o-1]==a||r==e.top&&r&&this.map[o-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){let o=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width,s=(e+1)*this.width;for(;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}}static get(e){return sR(e)||lR(e,Uwe(e))}};function Uwe(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);let t=jwe(e),n=e.childCount,r=[],i=0,o=null,a=[];for(let u=0,c=t*n;u<c;u++)r[u]=0;for(let u=0,c=0;u<n;u++){let d=e.child(u);c++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==d.childCount)break;let m=d.child(p),{colspan:v,rowspan:g,colwidth:y}=m.attrs;for(let w=0;w<g;w++){if(w+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:c,n:g-w});break}let x=i+w*t;for(let S=0;S<v;S++){r[x+S]==0?r[x+S]=c:(o||(o=[])).push({type:"collision",row:u,pos:c,n:v-S});let E=y&&y[S];if(E){let k=(x+S)%t*2,A=a[k];A==null||A!=E&&a[k+1]==1?(a[k]=E,a[k+1]=1):A==E&&a[k+1]++}}}i+=v,c+=m.nodeSize}let f=(u+1)*t,h=0;for(;i<f;)r[i++]==0&&h++;h&&(o||(o=[])).push({type:"missing",row:u,n:h}),c++}let s=new qn(t,n,r,o),l=!1;for(let u=0;!l&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(l=!0);return l&&$we(s,a,e),s}function jwe(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){let i=e.child(r),o=0;if(n)for(let a=0;a<r;a++){let s=e.child(a);for(let l=0;l<s.childCount;l++){let u=s.child(l);a+u.attrs.rowspan>r&&(o+=u.attrs.colspan)}}for(let a=0;a<i.childCount;a++){let s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function $we(e,t,n){e.problems||(e.problems=[]);let r={};for(let i=0;i<e.map.length;i++){let o=e.map[i];if(r[o])continue;r[o]=!0;let a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null,l=a.attrs;for(let u=0;u<l.colspan;u++){let c=(i+u)%e.width,d=t[c*2];d!=null&&(!l.colwidth||l.colwidth[u]!=d)&&((s||(s=qwe(l)))[u]=d)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function qwe(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function yi(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(let n in e.nodes){let r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var dd=new _r("selectingCells");function Qm(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Kwe(e){for(let t=e.depth;t>0;t--){let n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function ys(e){let t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function rC(e){let t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;let n=Qm(t.$head)||Ywe(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function Ywe(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function uR(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function Wwe(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function hR(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function xW(e,t,n){let r=e.node(-1),i=qn.get(r),o=e.start(-1),a=i.nextCell(e.pos-o,t,n);return a==null?null:e.node(0).resolve(o+a)}function Kf(e,t,n=1){let r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function EW(e,t,n=1){let r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function Gwe(e,t,n){let r=yi(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var dn=class Su extends Fe{constructor(t,n=t){let r=t.node(-1),i=qn.get(r),o=t.start(-1),a=i.rectBetween(t.pos-o,n.pos-o),s=t.node(0),l=i.cellsInRect(a).filter(c=>c!=n.pos-o);l.unshift(n.pos-o);let u=l.map(c=>{let d=r.nodeAt(c);if(!d)throw RangeError(`No cell with offset ${c} found`);let f=o+c+1;return new xM(s.resolve(f),s.resolve(f+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){let r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(uR(r)&&uR(i)&&hR(r,i)){let o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?Su.rowSelection(r,i):o&&this.isColSelection()?Su.colSelection(r,i):new Su(r,i)}return Be.between(r,i)}content(){let t=this.$anchorCell.node(-1),n=qn.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},a=[];for(let l=i.top;l<i.bottom;l++){let u=[];for(let c=l*n.width+i.left,d=i.left;d<i.right;d++,c++){let f=n.map[c];if(o[f])continue;o[f]=!0;let h=n.findCell(f),p=t.nodeAt(f);if(!p)throw RangeError(`No cell with offset ${f} found`);let m=i.left-h.left,v=h.right-i.right;if(m>0||v>0){let g=p.attrs;if(m>0&&(g=Kf(g,0,m)),v>0&&(g=Kf(g,g.colspan-v,v)),h.left<i.left){if(p=p.type.createAndFill(g),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(g)}`)}else p=p.type.create(g,p.content)}if(h.top<i.top||h.bottom>i.bottom){let g={...p.attrs,rowspan:Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top)};h.top<i.top?p=p.type.createAndFill(g):p=p.type.create(g,p.content)}u.push(p)}a.push(t.child(l).copy(Z.from(u)))}let s=this.isColSelection()&&this.isRowSelection()?t:a;return new fe(Z.from(s),1,1)}replace(t,n=fe.empty){let r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:l}=i[a],u=t.mapping.slice(r);t.replace(u.map(s.pos),u.map(l.pos),a?fe.empty:n)}let o=Fe.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,n){this.replace(t,new fe(Z.from(n),0,0))}forEachCell(t){let n=this.$anchorCell.node(-1),r=qn.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)t(n.nodeAt(o[a]),i+o[a])}isColSelection(){let t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;let r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){let r=t.node(-1),i=qn.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new Su(t,n)}isRowSelection(){let t=this.$anchorCell.node(-1),n=qn.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;let a=i+this.$anchorCell.nodeAfter.attrs.colspan,s=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==n.width}eq(t){return t instanceof Su&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){let r=t.node(-1),i=qn.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(n=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(t=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new Su(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Su(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Su(t.resolve(n),t.resolve(r))}getBookmark(){return new Qwe(this.$anchorCell.pos,this.$headCell.pos)}};dn.prototype.visible=!1;Fe.jsonID("cell",dn);var Qwe=class SW{constructor(t,n){this.anchor=t,this.head=n}map(t){return new SW(t.map(this.anchor),t.map(this.head))}resolve(t){let n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&hR(n,r)?new dn(n,r):Fe.near(r,1)}};function Jwe(e){if(!(e.selection instanceof dn))return null;let t=[];return e.selection.forEachCell((n,r)=>{t.push(ms.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Hi.create(e.doc,t)}function Xwe({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function Zwe({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){let o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=t.depth;i>0;i--){let o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&t.parentOffset===0}function e2e(e,t,n){let r=(t||e).selection,i=(t||e).doc,o,a;if(r instanceof Oe&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=dn.create(i,r.from);else if(a=="row"){let s=i.resolve(r.from+1);o=dn.rowSelection(s,s)}else if(!n){let s=qn.get(r.node),l=r.from+1,u=l+s.map[s.width*s.height-1];o=dn.create(i,l+1,u)}}else r instanceof Be&&Xwe(r)?o=Be.create(i,r.from):r instanceof Be&&Zwe(r)&&(o=Be.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var t2e=new _r("fix-tables");function CW(e,t,n,r){let i=e.childCount,o=t.childCount;e:for(let a=0,s=0;a<o;a++){let l=t.child(a);for(let u=s,c=Math.min(i,a+3);u<c;u++)if(e.child(u)==l){s=u+1,n+=l.nodeSize;continue e}r(l,n),s<i&&e.child(s).sameMarkup(l)?CW(e.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function AW(e,t){let n,r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=n2e(e,i,o,n))};return t?t.doc!=e.doc&&CW(t.doc,e.doc,0,r):e.doc.descendants(r),n}function n2e(e,t,n,r){let i=qn.get(t);if(!i.problems)return r;r||(r=e.tr);let o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){let u=i.problems[l];if(u.type=="collision"){let c=t.nodeAt(u.pos);if(!c)continue;let d=c.attrs;for(let f=0;f<d.rowspan;f++)o[u.row+f]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Kf(d,d.colspan-u.n,u.n))}else if(u.type=="missing")o[u.row]+=u.n;else if(u.type=="overlong_rowspan"){let c=t.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){let c=t.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,u=n+1;l<i.height;l++){let c=t.child(l),d=u+c.nodeSize,f=o[l];if(f>0){let h="cell";c.firstChild&&(h=c.firstChild.type.spec.tableRole);let p=[];for(let v=0;v<f;v++){let g=yi(e.schema)[h].createAndFill();g&&p.push(g)}let m=(l==0||a==l-1)&&s==l?u+1:d-1;r.insert(r.mapping.map(m),p)}u=d}return r.setMeta(t2e,{fixTables:!0})}function hl(e){let t=e.selection,n=rC(e),r=n.node(-1),i=n.start(-1),o=qn.get(r);return{...t instanceof dn?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function TW(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;Gwe(t,r,i+o)&&(o=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){let s=a*t.width+i;if(i>0&&i<t.width&&t.map[s-1]==t.map[s]){let l=t.map[s],u=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,EW(u.attrs,i-t.colCount(l))),a+=u.attrs.rowspan-1}else{let l=o==null?yi(r.type.schema).cell:r.nodeAt(t.map[s+o]).type,u=t.positionAt(a,i,r);e.insert(e.mapping.map(n+u),l.createAndFill())}}return e}function r2e(e,t){if(!ys(e))return!1;if(t){let n=hl(e);t(TW(e.tr,n,n.left))}return!0}function i2e(e,t){if(!ys(e))return!1;if(t){let n=hl(e);t(TW(e.tr,n,n.right))}return!0}function o2e(e,{map:t,table:n,tableStart:r},i){let o=e.mapping.maps.length;for(let a=0;a<t.height;){let s=a*t.width+i,l=t.map[s],u=n.nodeAt(l),c=u.attrs;if(i>0&&t.map[s-1]==l||i<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,Kf(c,i-t.colCount(l)));else{let d=e.mapping.slice(o).map(r+l);e.delete(d,d+u.nodeSize)}a+=c.rowspan}}function a2e(e,t){if(!ys(e))return!1;if(t){let n=hl(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;o2e(r,n,i),i!=n.left;i--){let o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=qn.get(o)}t(r)}return!0}function s2e(e,t,n){var r;let i=yi(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((r=t.nodeAt(e.map[o+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function kW(e,{map:t,tableStart:n,table:r},i){var o;let a=n;for(let u=0;u<i;u++)a+=r.child(u).nodeSize;let s=[],l=i>0?-1:0;s2e(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let u=0,c=t.width*i;u<t.width;u++,c++)if(i>0&&i<t.height&&t.map[c]==t.map[c-t.width]){let d=t.map[c],f=r.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),u+=f.colspan-1}else{let d=l==null?yi(r.type.schema).cell:(o=r.nodeAt(t.map[c+l*t.width]))==null?void 0:o.type,f=d?.createAndFill();f&&s.push(f)}return e.insert(a,yi(r.type.schema).row.create(null,s)),e}function l2e(e,t){if(!ys(e))return!1;if(t){let n=hl(e);t(kW(e.tr,n,n.top))}return!0}function u2e(e,t){if(!ys(e))return!1;if(t){let n=hl(e);t(kW(e.tr,n,n.bottom))}return!0}function c2e(e,{map:t,table:n,tableStart:r},i){let o=0;for(let u=0;u<i;u++)o+=n.child(u).nodeSize;let a=o+n.child(i).nodeSize,s=e.mapping.maps.length;e.delete(o+r,a+r);let l=new Set;for(let u=0,c=i*t.width;u<t.width;u++,c++){let d=t.map[c];if(!l.has(d)){if(l.add(d),i>0&&d==t.map[c-t.width]){let f=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(i<t.height&&d==t.map[c+t.width]){let f=n.nodeAt(d),h=f.attrs,p=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),m=t.positionAt(i+1,u,n);e.insert(e.mapping.slice(s).map(r+m),p),u+=h.colspan-1}}}}function d2e(e,t){if(!ys(e))return!1;if(t){let n=hl(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;c2e(r,n,i),i!=n.top;i--){let o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=qn.get(n.table)}t(r)}return!0}function aW(e){let t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function f2e({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,a=(r.bottom-1)*e+r.left,s=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[s]==n[s+1])return!0;o+=e,s+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function sW(e,t){let n=e.selection;if(!(n instanceof dn)||n.$anchorCell.pos==n.$headCell.pos)return!1;let r=hl(e),{map:i}=r;if(f2e(i,r))return!1;if(t){let o=e.tr,a={},s=Z.empty,l,u;for(let c=r.top;c<r.bottom;c++)for(let d=r.left;d<r.right;d++){let f=i.map[c*i.width+d],h=r.table.nodeAt(f);if(!(a[f]||!h))if(a[f]=!0,l==null)l=f,u=h;else{aW(h)||(s=s.append(h.content));let p=o.mapping.map(f+r.tableStart);o.delete(p,p+h.nodeSize)}}if(l==null||u==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...EW(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),s.size){let c=l+1+u.content.size,d=aW(u)?l+1:c;o.replaceWith(d+r.tableStart,c+r.tableStart,s)}o.setSelection(new dn(o.doc.resolve(l+r.tableStart))),t(o)}return!0}function lW(e,t){let n=yi(e.schema);return h2e(({node:r})=>n[r.type.spec.tableRole])(e,t)}function h2e(e){return(t,n)=>{var r;let i=t.selection,o,a;if(i instanceof dn){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(o=Kwe(i.$from),!o)return!1;a=(r=Qm(i.$from))==null?void 0:r.pos}if(o==null||a==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let s=o.attrs,l=[],u=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});let c=hl(t),d=t.tr;for(let h=0;h<c.right-c.left;h++)l.push(u?{...s,colwidth:u&&u[h]?[u[h]]:null}:s);let f;for(let h=c.top;h<c.bottom;h++){let p=c.map.positionAt(h,c.left,c.table);h==c.top&&(p+=o.nodeSize);for(let m=c.left,v=0;m<c.right;m++,v++)m==c.left&&h==c.top||d.insert(f=d.mapping.map(p+c.tableStart,1),e({node:o,row:h,col:m}).createAndFill(l[v]))}d.setNodeMarkup(a,e({node:o,row:c.top,col:c.left}),l[0]),i instanceof dn&&d.setSelection(new dn(d.doc.resolve(i.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function p2e(e,t){return function(n,r){if(!ys(n))return!1;let i=rC(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){let o=n.tr;n.selection instanceof dn?n.selection.forEachCell((a,s)=>{a.attrs[e]!==t&&o.setNodeMarkup(s,null,{...a.attrs,[e]:t})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(o)}return!0}}function m2e(e){return function(t,n){if(!ys(t))return!1;if(n){let r=yi(t.schema),i=hl(t),o=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[l],r.cell,s[l].attrs);if(o.steps.length==0)for(let l=0;l<a.length;l++)o.setNodeMarkup(i.tableStart+a[l],r.header_cell,s[l].attrs);n(o)}return!0}}function uW(e,t,n){let r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){let o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function z1(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?m2e(e):function(n,r){if(!ys(n))return!1;if(r){let i=yi(n.schema),o=hl(n),a=n.tr,s=uW("row",o,i),l=uW("column",o,i),c=(e==="column"?s:e==="row"?l:!1)?1:0,d=e=="column"?{left:0,top:c,right:1,bottom:o.map.height}:e=="row"?{left:c,top:0,right:o.map.width,bottom:1}:o,f=e=="column"?l?i.cell:i.header_cell:e=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(d).forEach(h=>{let p=h+o.tableStart,m=a.doc.nodeAt(p);m&&a.setNodeMarkup(p,f,m.attrs)}),r(a)}return!0}}var jnt=z1("row",{useDeprecatedLogic:!0}),$nt=z1("column",{useDeprecatedLogic:!0}),g2e=z1("cell",{useDeprecatedLogic:!0});function v2e(e,t){if(t<0){let n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){let o=e.node(-1).child(r),a=o.lastChild;if(a)return i-1-a.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){let o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function cW(e){return function(t,n){if(!ys(t))return!1;let r=v2e(rC(t),e);if(r==null)return!1;if(n){let i=t.doc.resolve(r);n(t.tr.setSelection(Be.between(i,Wwe(i))).scrollIntoView())}return!0}}function y2e(e,t){let n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function JS(e,t){let n=e.selection;if(!(n instanceof dn))return!1;if(t){let r=e.tr,i=yi(e.schema).cell.createAndFill().content;n.forEachCell((o,a)=>{o.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+o.nodeSize-1),new fe(i,0,0))}),r.docChanged&&t(r)}return!0}function b2e(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;let i=t.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<t.childCount;l++){let u=t.child(l).content,c=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,r-1);(c||d)&&(u=cR(yi(a).row,new fe(u,c,d)).content),s.push(u)}else if(o=="cell"||o=="header_cell")s.push(n||r?cR(yi(a).row,new fe(t,n,r)).content:t);else return null;return w2e(a,s)}function w2e(e,t){let n=[];for(let i=0;i<t.length;i++){let o=t[i];for(let a=o.childCount-1;a>=0;a--){let{rowspan:s,colspan:l}=o.child(a).attrs;for(let u=i;u<i+s;u++)n[u]=(n[u]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Z.empty),n[i]<r){let o=yi(e).cell.createAndFill(),a=[];for(let s=n[i];s<r;s++)a.push(o);t[i]=t[i].append(Z.from(a))}return{height:t.length,width:r,rows:t}}function cR(e,t){let n=e.createAndFill();return new wM(n).replace(0,n.content.size,t).doc}function x2e({width:e,height:t,rows:n},r,i){if(e!=r){let o=[],a=[];for(let s=0;s<n.length;s++){let l=n[s],u=[];for(let c=o[s]||0,d=0;c<r;d++){let f=l.child(d%l.childCount);c+f.attrs.colspan>r&&(f=f.type.createChecked(Kf(f.attrs,f.attrs.colspan,c+f.attrs.colspan-r),f.content)),u.push(f),c+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)o[s+h]=(o[s+h]||0)+f.attrs.colspan}a.push(Z.from(u))}n=a,e=r}if(t!=i){let o=[];for(let a=0,s=0;a<i;a++,s++){let l=[],u=n[s%t];for(let c=0;c<u.childCount;c++){let d=u.child(c);a+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}o.push(Z.from(l))}n=o,t=i}return{width:e,height:t,rows:n}}function E2e(e,t,n,r,i,o,a){let s=e.doc.type.schema,l=yi(s),u,c;if(i>t.width)for(let d=0,f=0;d<t.height;d++){let h=n.child(d);f+=h.nodeSize;let p=[],m;h.lastChild==null||h.lastChild.type==l.cell?m=u||(u=l.cell.createAndFill()):m=c||(c=l.header_cell.createAndFill());for(let v=t.width;v<i;v++)p.push(m);e.insert(e.mapping.slice(a).map(f-1+r),p)}if(o>t.height){let d=[];for(let p=0,m=(t.height-1)*t.width;p<Math.max(t.width,i);p++){let v=p>=t.width?!1:n.nodeAt(t.map[m+p]).type==l.header_cell;d.push(v?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}let f=l.row.create(null,Z.from(d)),h=[];for(let p=t.height;p<o;p++)h.push(f);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),h)}return!!(u||c)}function dW(e,t,n,r,i,o,a,s){if(a==0||a==t.height)return!1;let l=!1;for(let u=i;u<o;u++){let c=a*t.width+u,d=t.map[c];if(t.map[c-t.width]==d){l=!0;let f=n.nodeAt(d),{top:h,left:p}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,{...f.attrs,rowspan:a-h}),e.insert(e.mapping.slice(s).map(t.positionAt(a,p,n)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-a})),u+=f.attrs.colspan-1}}return l}function fW(e,t,n,r,i,o,a,s){if(a==0||a==t.width)return!1;let l=!1;for(let u=i;u<o;u++){let c=u*t.width+a,d=t.map[c];if(t.map[c-1]==d){l=!0;let f=n.nodeAt(d),h=t.colCount(d),p=e.mapping.slice(s).map(d+r);e.setNodeMarkup(p,null,Kf(f.attrs,a-h,f.attrs.colspan-(a-h))),e.insert(p+f.nodeSize,f.type.createAndFill(Kf(f.attrs,0,a-h))),u+=f.attrs.rowspan-1}}return l}function hW(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let a=qn.get(o),{top:s,left:l}=r,u=l+i.width,c=s+i.height,d=e.tr,f=0;function h(){if(o=n?d.doc.nodeAt(n-1):d.doc,!o)throw new Error("No table found");a=qn.get(o),f=d.mapping.maps.length}E2e(d,a,o,n,u,c,f)&&h(),dW(d,a,o,n,l,u,s,f)&&h(),dW(d,a,o,n,l,u,c,f)&&h(),fW(d,a,o,n,s,c,l,f)&&h(),fW(d,a,o,n,s,c,u,f)&&h();for(let p=s;p<c;p++){let m=a.positionAt(p,l,o),v=a.positionAt(p,u,o);d.replace(d.mapping.slice(f).map(m+n),d.mapping.slice(f).map(v+n),new fe(i.rows[p-s],0,0))}h(),d.setSelection(new dn(d.doc.resolve(n+a.positionAt(s,l,o)),d.doc.resolve(n+a.positionAt(c-1,u-1,o)))),t(d)}var S2e=IS({ArrowLeft:XS("horiz",-1),ArrowRight:XS("horiz",1),ArrowUp:XS("vert",-1),ArrowDown:XS("vert",1),"Shift-ArrowLeft":ZS("horiz",-1),"Shift-ArrowRight":ZS("horiz",1),"Shift-ArrowUp":ZS("vert",-1),"Shift-ArrowDown":ZS("vert",1),Backspace:JS,"Mod-Backspace":JS,Delete:JS,"Mod-Delete":JS});function tC(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function XS(e,t){return(n,r,i)=>{if(!i)return!1;let o=n.selection;if(o instanceof dn)return tC(n,r,Fe.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;let a=DW(i,e,t);if(a==null)return!1;if(e=="horiz")return tC(n,r,Fe.near(n.doc.resolve(o.head+t),t));{let s=n.doc.resolve(a),l=xW(s,e,t),u;return l?u=Fe.near(l,1):t<0?u=Fe.near(n.doc.resolve(s.before(-1)),-1):u=Fe.near(n.doc.resolve(s.after(-1)),1),tC(n,r,u)}}}function ZS(e,t){return(n,r,i)=>{if(!i)return!1;let o=n.selection,a;if(o instanceof dn)a=o;else{let l=DW(i,e,t);if(l==null)return!1;a=new dn(n.doc.resolve(l))}let s=xW(a.$headCell,e,t);return s?tC(n,r,new dn(a.$anchorCell,s)):!1}}function C2e(e,t){let n=e.state.doc,r=Qm(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new dn(r))),!0):!1}function A2e(e,t,n){if(!ys(e.state))return!1;let r=b2e(n),i=e.state.selection;if(i instanceof dn){r||(r={width:1,height:1,rows:[Z.from(cR(yi(e.state.schema).cell,n))]});let o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=qn.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=x2e(r,s.right-s.left,s.bottom-s.top),hW(e.state,e.dispatch,a,s,r),!0}else if(r){let o=rC(e.state),a=o.start(-1);return hW(e.state,e.dispatch,a,qn.get(o.node(-1)).findCell(o.pos-a),r),!0}else return!1}function T2e(e,t){var n;if(t.ctrlKey||t.metaKey)return;let r=pW(e,t.target),i;if(t.shiftKey&&e.state.selection instanceof dn)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=Qm(e.state.selection.$anchor))!=null&&((n=aR(e,t))==null?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(l,u){let c=aR(e,u),d=dd.getState(e.state)==null;if(!c||!hR(l,c))if(d)c=l;else return;let f=new dn(l,c);if(d||!e.state.selection.eq(f)){let h=e.state.tr.setSelection(f);d&&h.setMeta(dd,l.pos),e.dispatch(h)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),dd.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(dd,-1))}function s(l){let u=l,c=dd.getState(e.state),d;if(c!=null)d=e.state.doc.resolve(c);else if(pW(e,u.target)!=r&&(d=aR(e,t),!d))return a();d&&o(d,u)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function DW(e,t,n){if(!(e.state.selection instanceof Be))return null;let{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){let o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){let s=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function pW(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function aR(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Qm(e.state.doc.resolve(n.pos)):null}var k2e=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),dR(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,dR(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function dR(e,t,n,r,i,o){var a;let s=0,l=!0,u=t.firstChild,c=e.firstChild;if(c){for(let d=0,f=0;d<c.childCount;d++){let{colspan:h,colwidth:p}=c.child(d).attrs;for(let m=0;m<h;m++,f++){let v=i==f?o:p&&p[m],g=v?v+"px":"";if(s+=v||r,v||(l=!1),u)u.style.width!=g&&(u.style.width=g),u=u.nextSibling;else{let y=document.createElement("col");y.style.width=g,t.appendChild(y)}}}for(;u;){let d=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=d}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var Xo=new _r("tableColumnResizing");function D2e({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=k2e,lastColumnResizable:i=!0}={}){let o=new Xn({key:Xo,state:{init(a,s){var l,u;let c=(u=(l=o.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,d=yi(s.schema).table.name;return r&&c&&(c[d]=(f,h)=>new r(f,n,h)),new M2e(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{let s=Xo.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{R2e(a,s,e,i)},mouseleave:a=>{O2e(a)},mousedown:(a,s)=>{B2e(a,s,t,n)}},decorations:a=>{let s=Xo.getState(a);if(s&&s.activeHandle>-1)return L2e(a,s.activeHandle)},nodeViews:{}}});return o}var M2e=class nC{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){let n=this,r=t.getMeta(Xo);if(r&&r.setHandle!=null)return new nC(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new nC(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return uR(t.doc.resolve(i))||(i=-1),new nC(i,n.dragging)}return n}};function R2e(e,t,n,r){let i=Xo.getState(e.state);if(i&&!i.dragging){let o=F2e(t.target),a=-1;if(o){let{left:s,right:l}=o.getBoundingClientRect();t.clientX-s<=n?a=mW(e,t,"left",n):l-t.clientX<=n&&(a=mW(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){let s=e.state.doc.resolve(a),l=s.node(-1),u=qn.get(l),c=s.start(-1);if(u.colCount(s.pos-c)+s.nodeAfter.attrs.colspan-1==u.width-1)return}MW(e,a)}}}function O2e(e){let t=Xo.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&MW(e,-1)}function B2e(e,t,n,r){var i;let o=(i=e.dom.ownerDocument.defaultView)!=null?i:window,a=Xo.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;let s=e.state.doc.nodeAt(a.activeHandle),l=_2e(e,a.activeHandle,s.attrs);e.dispatch(e.state.tr.setMeta(Xo,{setDragging:{startX:t.clientX,startWidth:l}}));function u(d){o.removeEventListener("mouseup",u),o.removeEventListener("mousemove",c);let f=Xo.getState(e.state);f?.dragging&&(I2e(e,f.activeHandle,gW(f.dragging,d,n)),e.dispatch(e.state.tr.setMeta(Xo,{setDragging:null})))}function c(d){if(!d.which)return u(d);let f=Xo.getState(e.state);if(f&&f.dragging){let h=gW(f.dragging,d,n);vW(e,f.activeHandle,h,r)}}return vW(e,a.activeHandle,l,r),o.addEventListener("mouseup",u),o.addEventListener("mousemove",c),t.preventDefault(),!0}function _2e(e,t,{colspan:n,colwidth:r}){let i=r&&r[r.length-1];if(i)return i;let o=e.domAtPos(t),s=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(s-=r[u],l--);return s/l}function F2e(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function mW(e,t,n,r){let i=n=="right"?-r:r,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;let{pos:a}=o,s=Qm(e.state.doc.resolve(a));if(!s)return-1;if(n=="right")return s.pos;let l=qn.get(s.node(-1)),u=s.start(-1),c=l.map.indexOf(s.pos-u);return c%l.width==0?-1:u+l.map[c-1]}function gW(e,t,n){let r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function MW(e,t){e.dispatch(e.state.tr.setMeta(Xo,{setHandle:t}))}function I2e(e,t,n){let r=e.state.doc.resolve(t),i=r.node(-1),o=qn.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let u=0;u<o.height;u++){let c=u*o.width+s;if(u&&o.map[c]==o.map[c-o.width])continue;let d=o.map[c],f=i.nodeAt(d).attrs,h=f.colspan==1?0:s-o.colCount(d);if(f.colwidth&&f.colwidth[h]==n)continue;let p=f.colwidth?f.colwidth.slice():N2e(f.colspan);p[h]=n,l.setNodeMarkup(a+d,null,{...f,colwidth:p})}l.docChanged&&e.dispatch(l)}function vW(e,t,n,r){let i=e.state.doc.resolve(t),o=i.node(-1),a=i.start(-1),s=qn.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1,l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&dR(o,l.firstChild,l,r,s,n)}function N2e(e){return Array(e).fill(0)}function L2e(e,t){var n;let r=[],i=e.doc.resolve(t),o=i.node(-1);if(!o)return Hi.empty;let a=qn.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<a.height;u++){let c=l+u*a.width;if((l==a.width-1||a.map[c]!=a.map[c+1])&&(u==0||a.map[c]!=a.map[c-a.width])){let d=a.map[c],f=s+d+o.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=Xo.getState(e))!=null&&n.dragging&&r.push(ms.node(s+d,s+d+o.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(ms.widget(f,h))}}return Hi.create(e.doc,r)}function z2e({allowTableNodeSelection:e=!1}={}){return new Xn({key:dd,state:{init(){return null},apply(t,n){let r=t.getMeta(dd);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;let{deleted:i,pos:o}=t.mapping.mapResult(n);return i?null:o}},props:{decorations:Jwe,handleDOMEvents:{mousedown:T2e},createSelectionBetween(t){return dd.getState(t.state)!=null?t.state.selection:null},handleTripleClick:C2e,handleKeyDown:S2e,handlePaste:A2e},appendTransaction(t,n,r){return e2e(r,AW(r,n),e)}})}function fR(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function yW(e,t,n,r,i,o){var a;let s=0,l=!0,u=t.firstChild,c=e.firstChild;if(c!==null)for(let d=0,f=0;d<c.childCount;d+=1){let{colspan:h,colwidth:p}=c.child(d).attrs;for(let m=0;m<h;m+=1,f+=1){let v=i===f?o:p&&p[m],g=v?`${v}px`:"";if(s+=v||r,v||(l=!1),u){if(u.style.width!==g){let[y,w]=fR(r,v);u.style.setProperty(y,w)}u=u.nextSibling}else{let y=document.createElement("col"),[w,x]=fR(r,v);y.style.setProperty(w,x),t.appendChild(y)}}}for(;u;){let d=u.nextSibling;(a=u.parentNode)===null||a===void 0||a.removeChild(u),u=d}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}var P2e=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),yW(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,yW(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}};function H2e(e,t,n,r){let i=0,o=!0,a=[],s=e.firstChild;if(!s)return{};for(let d=0,f=0;d<s.childCount;d+=1){let{colspan:h,colwidth:p}=s.child(d).attrs;for(let m=0;m<h;m+=1,f+=1){let v=n===f?r:p&&p[m];i+=v||t,v||(o=!1);let[g,y]=fR(t,v);a.push(["col",{style:`${g}: ${y}`}])}}let l=o?`${i}px`:"",u=o?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:u}}function bW(e,t){return t?e.createChecked(null,t):e.createAndFill()}function V2e(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function U2e(e,t,n,r,i){let o=V2e(e),a=[],s=[];for(let u=0;u<n;u+=1){let c=bW(o.cell,i);if(c&&s.push(c),r){let d=bW(o.header_cell,i);d&&a.push(d)}}let l=[];for(let u=0;u<t;u+=1)l.push(o.row.createChecked(null,r&&u===0?a:s));return o.table.createChecked(null,l)}function j2e(e){return e instanceof dn}var eC=({editor:e})=>{let{selection:t}=e.state;if(!j2e(t))return!1;let n=0,r=zM(t.ranges[0].$from,o=>o.type.name==="table");return r?.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},$2e=Xr.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:P2e,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){let{colgroup:n,tableWidth:r,tableMinWidth:i}=H2e(e,this.options.cellMinWidth);return["table",cn(this.options.HTMLAttributes,t,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{let a=U2e(o.schema,e,t,n);if(i){let s=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Be.near(r.doc.resolve(s)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>r2e(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>i2e(e,t),deleteColumn:()=>({state:e,dispatch:t})=>a2e(e,t),addRowBefore:()=>({state:e,dispatch:t})=>l2e(e,t),addRowAfter:()=>({state:e,dispatch:t})=>u2e(e,t),deleteRow:()=>({state:e,dispatch:t})=>d2e(e,t),deleteTable:()=>({state:e,dispatch:t})=>y2e(e,t),mergeCells:()=>({state:e,dispatch:t})=>sW(e,t),splitCell:()=>({state:e,dispatch:t})=>lW(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>z1("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>z1("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>g2e(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>sW(e,t)?!0:lW(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>p2e(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>cW(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>cW(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&AW(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){let r=dn.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:eC,"Mod-Backspace":eC,Delete:eC,"Mod-Delete":eC}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[D2e({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],z2e({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){let t={name:e.name,options:e.options,storage:e.storage};return{tableRole:Qe(xe(e,"tableRole",t))}}}),q2e=Xr.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",cn(this.options.HTMLAttributes,e),0]}}),K2e=Xr.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",cn(this.options.HTMLAttributes,e),0]}}),Y2e=Xr.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",cn(this.options.HTMLAttributes,e),0]}}),W2e=Xr.create({name:"text",group:"inline"}),G2e=Jr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{let t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Q2e={hyphenate:"alinea-RichTextKit-hyphenate",link:"alinea-RichTextKit-link",p:"alinea-RichTextKit-p",h5:"alinea-RichTextKit-h5",h4:"alinea-RichTextKit-h4",h3:"alinea-RichTextKit-h3",heading:"alinea-RichTextKit-heading",h2:"alinea-RichTextKit-h2",h1:"alinea-RichTextKit-h1","is-flat":"alinea-RichTextKit-is-flat",isFlat:"alinea-RichTextKit-is-flat",monospace:"alinea-RichTextKit-monospace",small:"alinea-RichTextKit-small",paragraph:"alinea-RichTextKit-paragraph",list:"alinea-RichTextKit-list",listItem:"alinea-RichTextKit-listItem",blockquote:"alinea-RichTextKit-blockquote",table:"alinea-RichTextKit-table",td:"alinea-RichTextKit-td",th:"alinea-RichTextKit-th"},fl=j(Q2e),RW=Jr.create({name:"richTextKit",addExtensions(){return[fwe,W2e,Nwe.configure({HTMLAttributes:{class:fl.paragraph()}}),tW,uwe,Bwe,Pwe,kwe,dwe.configure({HTMLAttributes:{class:fl.list()}}),Iwe.configure({HTMLAttributes:{class:fl.list()}}),_we.configure({HTMLAttributes:{class:fl.listItem()}}),iwe.configure({HTMLAttributes:{class:fl.blockquote()}}),Awe,Twe.configure({HTMLAttributes:{class:fl.heading()}}),G2e.configure({types:["heading","paragraph"]}),mwe,Cwe,eW.configure({HTMLAttributes:{class:fl.link()}}),YY,Vwe,Hwe,$2e.configure({HTMLAttributes:{class:fl.table()}}),q2e.configure({HTMLAttributes:{class:fl.td()}}),K2e.configure({HTMLAttributes:{class:fl.th()}}),Y2e]}});b();b();var pR=D(L(),1);function mR(e){return(0,pR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,pR.jsx)("path",{fill:"currentColor",d:"M7 16c0 .55.45 1 1 1h8c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1zm-3 5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-8h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm3-5c0 .55.45 1 1 1h8c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}b();var gR=D(L(),1);function vR(e){return(0,gR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,gR.jsx)("path",{fill:"currentColor",d:"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-4h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-4h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-4h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}b();var yR=D(L(),1);function bR(e){return(0,yR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,yR.jsx)("path",{fill:"currentColor",d:"M14 15H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0-8H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM4 13h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0 8h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}b();var wR=D(L(),1);function xR(e){return(0,wR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,wR.jsx)("path",{fill:"currentColor",d:"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm6-4h10c.55 0 1-.45 1-1s-.45-1-1-1H10c-.55 0-1 .45-1 1s.45 1 1 1zm-6-4h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm6-4h10c.55 0 1-.45 1-1s-.45-1-1-1H10c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"})})}b();var ER=D(L(),1);function OW(e){return(0,ER.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,ER.jsx)("path",{fill:"currentColor",d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79c0-2.26-1.75-4-4-4H8c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h5.78c2.07 0 3.96-1.69 3.97-3.77c.01-1.53-.85-2.84-2.15-3.44zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"})})}b();var SR=D(L(),1);function BW(e){return(0,SR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,SR.jsx)("path",{fill:"currentColor",d:"M18.5 8c.83 0 1.5-.67 1.5-1.5S19.33 5 18.5 5H6.39l3 3h1.83l-.55 1.28l2.09 2.09L14.21 8h4.29zm-1.06 10.88L4.12 5.56a.996.996 0 1 0-1.41 1.41l6.26 6.26l-1.65 3.84c-.39.92.28 1.93 1.27 1.93c.55 0 1.05-.33 1.27-.84l1.21-2.83l4.95 4.95c.39.39 1.02.39 1.41 0c.4-.38.4-1.01.01-1.4z"})})}b();var CR=D(L(),1);function _W(e){return(0,CR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,CR.jsx)("path",{fill:"currentColor",d:"M10 5.5c0 .83.67 1.5 1.5 1.5h.71l-3.42 8H7.5c-.83 0-1.5.67-1.5 1.5S6.67 18 7.5 18h5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5h-.71l3.42-8h1.29c.83 0 1.5-.67 1.5-1.5S17.33 4 16.5 4h-5c-.83 0-1.5.67-1.5 1.5z"})})}b();var AR=D(L(),1);function FW(e){return(0,AR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,AR.jsx)("path",{fill:"currentColor",d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5s1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5S5.5 6.83 5.5 6S4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5s1.5-.68 1.5-1.5s-.67-1.5-1.5-1.5zM8 19h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm0-6h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zM7 6c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z"})})}b();var TR=D(L(),1);function IW(e){return(0,TR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,TR.jsx)("path",{fill:"currentColor",d:"M8 7h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm12 10H8c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zm0-6H8c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zM4.5 16h-2c-.28 0-.5.22-.5.5s.22.5.5.5H4v.5h-.5c-.28 0-.5.22-.5.5s.22.5.5.5H4v.5H2.5c-.28 0-.5.22-.5.5s.22.5.5.5h2c.28 0 .5-.22.5-.5v-3c0-.28-.22-.5-.5-.5zm-2-11H3v2.5c0 .28.22.5.5.5s.5-.22.5-.5v-3c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5s.22.5.5.5zm2 5h-2c-.28 0-.5.22-.5.5s.22.5.5.5h1.3l-1.68 1.96a.49.49 0 0 0-.12.32v.22c0 .28.22.5.5.5h2c.28 0 .5-.22.5-.5s-.22-.5-.5-.5H3.2l1.68-1.96a.49.49 0 0 0 .12-.32v-.22c0-.28-.22-.5-.5-.5z"})})}b();var kR=D(L(),1);function NW(e){return(0,kR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,kR.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 13H5c-.55 0-1-.45-1-1s.45-1 1-1h14c.55 0 1 .45 1 1s-.45 1-1 1z"})})}b();var DR=D(L(),1);function LW(e){return(0,DR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,DR.jsx)("path",{fill:"currentColor",d:"M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"})})}b();var MR=D(L(),1);function zW(e){return(0,MR.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,MR.jsx)("path",{fill:"currentColor",d:"M10.52 10.73L7.3 5.72a1.112 1.112 0 1 1 1.88-1.19l2.76 4.46h.12l2.74-4.45c.21-.34.57-.54.96-.54c.88 0 1.42.98.94 1.72l-3.23 5l3.55 5.55c.48.75-.06 1.73-.94 1.73c-.38 0-.74-.2-.95-.52l-3.07-4.89h-.12l-3.07 4.89c-.2.32-.56.52-.95.52c-.88 0-1.42-.97-.94-1.72zM23 19.5c0-.28-.22-.5-.5-.5H20v-1h2c.55 0 1-.45 1-1v-1c0-.55-.45-1-1-1h-2.5c-.28 0-.5.22-.5.5s.22.5.5.5H22v1h-2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1h2.5c.28 0 .5-.22.5-.5"})})}b();var RR=D(L(),1);function PW(e){return(0,RR.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,RR.jsx)("path",{fill:"currentColor",d:"M10.51 12.73L7.3 7.72a1.112 1.112 0 1 1 1.88-1.19l2.76 4.46h.12l2.74-4.45c.2-.34.56-.54.95-.54c.88 0 1.42.98.94 1.72l-3.23 5l3.55 5.55c.49.75-.05 1.73-.93 1.73c-.38 0-.74-.2-.95-.52l-3.07-4.89h-.12l-3.07 4.89c-.21.32-.56.52-.95.52c-.88 0-1.42-.97-.94-1.72zM23 8.5c0-.28-.22-.5-.5-.5H20V7h2c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1h-2.5c-.28 0-.5.22-.5.5s.22.5.5.5H22v1h-2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1h2.5c.28 0 .5-.22.5-.5"})})}b();var P1=D(L(),1);function HW(e){return(0,P1.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[(0,P1.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"}),(0,P1.jsx)("path",{fill:"currentColor",d:"m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"})]})}b();var OR=D(L(),1);function VW(e){return(0,OR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,OR.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"})})}b();var BR=D(L(),1);function UW(e){return(0,BR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,BR.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"})})}b();var _R=D(L(),1);function jW(e){return(0,_R.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,_R.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"})})}b();var FR=D(L(),1);function $W(e){return(0,FR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,FR.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"})})}b();var IR=D(L(),1);function qW(e){return(0,IR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,IR.jsx)("path",{fill:"currentColor",d:"M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"})})}b();var NR=D(L(),1);function KW(e){return(0,NR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,NR.jsx)("path",{fill:"currentColor",d:"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"})})}b();var LR=D(L(),1);function YW(e){return(0,LR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,LR.jsx)("path",{fill:"currentColor",d:"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"})})}b();var zR=D(L(),1);function WW(e){return(0,zR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,zR.jsx)("path",{fill:"currentColor",d:"M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"})})}var XW=D($(),1);b();function GW(e){switch(e[ke.type]){case"url":{let t=e;return{"data-id":t[ke.id],"data-entry":void 0,"data-link":"url",href:t._url,target:t._target}}case"entry":{let t=e;return{"data-id":t[ke.id],"data-entry":t[qt.entry],"data-link":"entry",href:void 0,target:void 0}}case"file":{let t=e;return{"data-id":t[ke.id],"data-entry":t[qt.entry],"data-link":"file",href:void 0,target:void 0}}default:throw new Error(`Unexpected reference type: ${e[ke.type]}`)}}function QW(e){let t=e["data-id"];return t?e["data-entry"]?{[ke.id]:t,[ke.type]:e["data-link"]==="file"?"file":"entry",[qt.entry]:e["data-entry"]}:{[ke.id]:t,[ke.type]:"url",[Bn.url]:e.href,[Bn.target]:e.target}:e.href?{[ke.id]:Qt(),[ke.type]:"url",[Bn.url]:e.href,[Bn.target]:e.target}:void 0}var ee=D(L(),1),J2e={root:"alinea-RichTextToolbar","root-separator":"alinea-RichTextToolbar-separator",rootSeparator:"alinea-RichTextToolbar-separator","root-dropdown":"alinea-RichTextToolbar-dropdown",rootDropdown:"alinea-RichTextToolbar-dropdown"},Cu=j(J2e),ZW=(e=>(e.paragraph="Normal text",e.h1="Heading 1",e.h2="Heading 2",e.h3="Heading 3",e.h4="Heading 4",e.h5="Heading 5",e))(ZW||{}),JW=()=>(0,ee.jsx)("hr",{style:{border:"none",marginBlock:"2px",borderTop:"1px solid var(--alinea-outline)"}}),eG=(0,XW.forwardRef)(function({pickLink:t,editor:n,focusToggle:r,enableTables:i},o){function a(){return n.chain().focus(null,{scrollIntoView:!1})}let s=n.isActive("heading",{level:1})?"h1":n.isActive("heading",{level:2})?"h2":n.isActive("heading",{level:3})?"h3":n.isActive("heading",{level:4})?"h4":n.isActive("heading",{level:5})?"h5":"paragraph",l=n.isActive("table");function u(){let c=n.getAttributes("link"),d=QW(c),{view:f,state:h}=n,{from:p,to:m}=f.state.selection,v=p!==m;return t({link:d,title:c.title,blank:c.target==="_blank",hasLink:!!d,requireDescription:!v}).then(g=>{if(!g||!g.link){a().unsetLink().run();return}let y=g.link,w={title:g.title,...GW(y),target:y._target??(g.blank?"_blank":void 0)};d?a().extendMarkRange("link").setLink(w).run():v?a().setLink(w).run():a().insertContent({type:"text",text:g.title||y._title||y._url||"",marks:[{type:"link",attrs:w}]}).run()}).catch(console.error)}return(0,ee.jsx)(yf.Slot,{children:(0,ee.jsx)("div",{ref:o,tabIndex:-1,className:Cu.root(),onFocus:c=>r(c.currentTarget),onBlur:c=>r(c.relatedTarget),children:(0,ee.jsxs)(K,{gap:10,center:!0,style:{height:"100%",padding:`${Me(4)} 0`},children:[(0,ee.jsxs)(de.Root,{top:!0,children:[(0,ee.jsx)(de.Trigger,{title:"Heading/paragraph",className:Cu.root.dropdown(),children:(0,ee.jsxs)(K,{gap:10,center:!0,children:[(0,ee.jsx)("span",{children:ZW[s]}),(0,ee.jsx)(te,{icon:Ar})]})}),(0,ee.jsxs)(de.Items,{children:[(0,ee.jsx)(de.Item,{onClick:()=>a().clearNodes().run(),children:(0,ee.jsx)(At.P,{children:"Normal text"})}),(0,ee.jsx)(de.Item,{onClick:()=>a().setHeading({level:1}).run(),children:(0,ee.jsx)(At.H1,{flat:!0,children:"Heading 1"})}),(0,ee.jsx)(de.Item,{onClick:()=>a().setHeading({level:2}).run(),children:(0,ee.jsx)(At.H2,{flat:!0,children:"Heading 2"})}),(0,ee.jsx)(de.Item,{onClick:()=>a().setHeading({level:3}).run(),children:(0,ee.jsx)(At.H3,{flat:!0,children:"Heading 3"})}),(0,ee.jsx)(de.Item,{onClick:()=>a().setHeading({level:4}).run(),children:(0,ee.jsx)(At.H4,{flat:!0,children:"Heading 4"})}),(0,ee.jsx)(de.Item,{onClick:()=>a().setHeading({level:5}).run(),children:(0,ee.jsx)(At.H5,{flat:!0,children:"Heading 5"})})]})]}),i&&(0,ee.jsxs)(de.Root,{top:!0,children:[(0,ee.jsx)(de.Trigger,{title:"Table",className:Cu.root.dropdown(),children:(0,ee.jsxs)(K,{gap:10,center:!0,children:[(0,ee.jsx)("span",{children:"Table"}),(0,ee.jsx)(te,{icon:Ar})]})}),(0,ee.jsx)(de.Items,{children:l?(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(de.Item,{onClick:()=>a().addRowBefore().run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:WW,size:20}),"Insert row before"]})}),(0,ee.jsx)(de.Item,{onClick:()=>a().addRowAfter().run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:YW,size:20}),"Insert row after"]})}),(0,ee.jsx)(de.Item,{onClick:()=>a().deleteRow().run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:UW,size:20}),"Delete row"]})}),(0,ee.jsx)(de.Item,{onClick:()=>a().toggleHeaderRow().run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:jW,size:20}),"Toggle header row"]})}),(0,ee.jsx)(JW,{}),(0,ee.jsx)(de.Item,{onClick:()=>a().addColumnBefore().run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:KW,size:20}),"Insert column before"]})}),(0,ee.jsx)(de.Item,{onClick:()=>a().addColumnAfter().run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:qW,size:20}),"Insert column after"]})}),(0,ee.jsx)(de.Item,{onClick:()=>a().deleteColumn().run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:VW,size:20}),"Delete column"]})}),(0,ee.jsx)(JW,{}),(0,ee.jsx)(de.Item,{onClick:()=>a().deleteTable().run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:HW,size:20}),"Delete table"]})})]}):(0,ee.jsx)(de.Item,{onClick:()=>a().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{icon:$W,size:20}),"Insert table"]})})})]}),(0,ee.jsx)("div",{className:Cu.root.separator()}),(0,ee.jsx)(Le,{icon:OW,size:18,title:"Bold",onClick:c=>{c.preventDefault(),a().toggleBold().run()},active:n.isActive("bold")}),(0,ee.jsx)(Le,{icon:_W,size:18,title:"Italic",onClick:c=>{c.preventDefault(),a().toggleItalic().run()},active:n.isActive("italic")}),(0,ee.jsxs)(de.Root,{top:!0,children:[(0,ee.jsx)(de.Trigger,{title:"Alignment",className:Cu.root.dropdown(),children:(0,ee.jsxs)(K,{gap:10,center:!0,children:[(0,ee.jsx)(te,{icon:n.isActive({textAlign:"center"})?mR:n.isActive({textAlign:"right"})?xR:n.isActive({textAlign:"justify"})?vR:bR,size:18}),(0,ee.jsx)(te,{icon:Ar})]})}),(0,ee.jsxs)(de.Items,{children:[(0,ee.jsx)(de.Item,{onClick:()=>a().setTextAlign("left").run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{round:!0,icon:bR,title:"Align left",active:n.isActive({textAlign:"left"})}),(0,ee.jsx)("span",{children:"Left"})]})}),(0,ee.jsx)(de.Item,{onClick:()=>a().setTextAlign("center").run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{round:!0,icon:mR,title:"Align center",active:n.isActive({textAlign:"center"})}),(0,ee.jsx)("span",{children:"Center"})]})}),(0,ee.jsx)(de.Item,{onClick:()=>a().setTextAlign("right").run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{round:!0,icon:xR,title:"Align right",active:n.isActive({textAlign:"right"})}),(0,ee.jsx)("span",{children:"Right"})]})}),(0,ee.jsx)(de.Item,{onClick:()=>a().setTextAlign("justify").run(),children:(0,ee.jsxs)(K,{gap:8,center:!0,children:[(0,ee.jsx)(te,{round:!0,icon:vR,title:"Align justify",active:n.isActive({textAlign:"justify"})}),(0,ee.jsx)("span",{children:"Justify"})]})})]})]}),(0,ee.jsx)(Le,{icon:BW,size:18,title:"Clear format",onClick:c=>{c.preventDefault(),a().unsetAllMarks().run(),a().unsetTextAlign().run()}}),(0,ee.jsx)("div",{className:Cu.root.separator()}),(0,ee.jsx)(Le,{icon:FW,size:18,title:"Bullet list",onClick:c=>{c.preventDefault(),a().toggleBulletList().run()},active:n.isActive("bulletList")}),(0,ee.jsx)(Le,{icon:IW,size:18,title:"Ordered list",onClick:c=>{c.preventDefault(),a().toggleOrderedList().run()},active:n.isActive("orderedList")}),(0,ee.jsx)("div",{className:Cu.root.separator()}),(0,ee.jsx)(Le,{icon:qs,size:18,title:"Link",onClick:u,active:n.isActive("link")}),(0,ee.jsx)("div",{className:Cu.root.separator()}),(0,ee.jsx)(Le,{icon:LW,size:18,title:"Blockquote",onClick:c=>{c.preventDefault(),a().toggleBlockquote().run()},active:n.isActive("blockquote")}),(0,ee.jsx)(Le,{icon:NW,size:18,title:"Horizontal Rule",onClick:c=>{c.preventDefault(),a().setHorizontalRule().run()}}),(0,ee.jsx)("div",{className:Cu.root.separator()}),(0,ee.jsx)(Le,{icon:Aa,size:18,title:"Small",onClick:c=>{c.preventDefault(),a().toggleSmall().run()},active:n.isActive("small")}),(0,ee.jsx)(Le,{icon:zW,size:18,title:"Subscript",onClick:c=>{c.preventDefault(),a().toggleSubscript().run()},active:n.isActive("subscript")}),(0,ee.jsx)(Le,{icon:PW,size:18,title:"Superscript",onClick:c=>{c.preventDefault(),a().toggleSuperscript().run()},active:n.isActive("superscript")})]})})})});var kt=D(L(),1),X2e=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else n!==void 0&&n()}},Z2e=/[\uD800-\uDBFF]/,exe=/[\uDC00-\uDFFF]/,txe=(e,t)=>{let n=0,r=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;for(n>0&&Z2e.test(e[n-1])&&n--;r+n<e.length&&r+n<t.length&&e[e.length-r-1]===t[t.length-r-1];)r++;return r>0&&exe.test(e[e.length-r])&&r--,{index:n,remove:e.length-n-r,insert:t.slice(n,t.length-r)}},nxe=txe,mr=new _r("y-sync"),Au=new _r("y-undo"),_it=new _r("yjs-cursor"),oC=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!qd(t.ds,e.id),rxe=[{light:"#ecd44433",dark:"#ecd444"}],ixe=(e,t,n)=>{if(!e.has(n)){if(e.size<t.length){let r=Hl();e.forEach(i=>r.add(i)),t=t.filter(i=>!r.has(i))}e.set(n,K9(t))}return e.get(n)},oxe=(e,{colors:t=rxe,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:o}={})=>{let a=!1,s=new sxe(e,o),l=new Xn({props:{editable:u=>{let c=mr.getState(u);return c.snapshot==null&&c.prevSnapshot==null}},key:mr,state:{init:(u,c)=>({type:e,doc:e.doc,binding:s,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:n,permanentUserData:r}),apply:(u,c)=>{let d=u.getMeta(mr);if(d!==void 0){c=Object.assign({},c);for(let f in d)c[f]=d[f]}return c.addToHistory=u.getMeta("addToHistory")!==!1,c.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,c.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,s.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&uT(0,()=>{s.prosemirrorView!=null&&(d.restore==null?s._renderSnapshot(d.snapshot,d.prevSnapshot,c):(s._renderSnapshot(d.snapshot,d.snapshot,c),delete c.restore,delete c.snapshot,delete c.prevSnapshot,s.mux(()=>{s._prosemirrorChanged(s.prosemirrorView.state.doc)})))}),c}},view:u=>(s.initView(u),o==null&&s._forceRerender(),i(),{update:()=>{let c=l.getState(u.state);if(c.snapshot==null&&c.prevSnapshot==null&&(a||u.state.doc.content.findDiffStart(u.state.doc.type.createAndFill().content)!==null)){if(a=!0,c.addToHistory===!1&&!c.isChangeOrigin){let d=Au.getState(u.state),f=d&&d.undoManager;f&&f.stopCapturing()}s.mux(()=>{c.doc.transact(d=>{d.meta.set("addToHistory",c.addToHistory),s._prosemirrorChanged(u.state.doc)},mr)})}},destroy:()=>{s.destroy()}})});return l},axe=(e,t,n)=>{if(t!==null&&t.anchor!==null&&t.head!==null){let r=iG(n.doc,n.type,t.anchor,n.mapping),i=iG(n.doc,n.type,t.head,n.mapping);r!==null&&i!==null&&(e=e.setSelection(Be.create(e.doc,r,i)))}},VR=(e,t)=>({anchor:rG(t.selection.anchor,e.type,e.mapping),head:rG(t.selection.head,e.type,e.mapping)}),sxe=class{constructor(e,t=new Map){this.type=e,this.prosemirrorView=null,this.mux=X2e(),this.mapping=t,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=VR(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(G9&&this._domSelectionInView===null&&(uT(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){let e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;let t=this.prosemirrorView._root.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset),t.getClientRects().length===0&&t.startContainer&&t.collapsed&&t.selectNodeContents(t.startContainer);let r=t.getBoundingClientRect(),i=Kl.documentElement;return r.bottom>=0&&r.right>=0&&r.left<=(window.innerWidth||i.clientWidth||0)&&r.top<=(window.innerHeight||i.clientHeight||0)}renderSnapshot(e,t){t||(t=Mw(Aw(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(mr,{snapshot:e,prevSnapshot:t}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{let e=this.type.toArray().map(n=>iC(n,this.prosemirrorView.state.schema,this.mapping)).filter(n=>n!==null),t=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new fe(Z.from(e),0,0));t.setMeta(mr,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(t)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{let e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,t=this.type.toArray().map(r=>iC(r,this.prosemirrorView.state.schema,this.mapping)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new fe(Z.from(t),0,0));if(e){let r=hc(Va(e.anchor,0),n.doc.content.size),i=hc(Va(e.head,0),n.doc.content.size);n.setSelection(Be.create(n.doc,r,i))}this.prosemirrorView.dispatch(n.setMeta(mr,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,t,n){let r=this.doc;e||(e=Rw(this.doc)),(e instanceof Uint8Array||t instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(t instanceof Uint8Array))&&Ai(),r=new ja({gc:!1}),Tw(r,t),t=Rw(r),Tw(r,e),e=Rw(r)),this.mapping.clear(),this.mux(()=>{r.transact(i=>{let o=n.permanentUserData;o&&o.dss.forEach(u=>{$l(i,u,c=>{})});let a=(u,c)=>{let d=u==="added"?o.getUserByClientId(c.client):o.getUserByDeletedId(c);return{user:d,type:u,color:ixe(n.colorMapping,n.colors,d)}},s=wT(this.type,new Dw(t.ds,e.sv)).map(u=>!u._item.deleted||oC(u._item,e)||oC(u._item,t)?iC(u,this.prosemirrorView.state.schema,new Map,e,t,a):null).filter(u=>u!==null),l=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new fe(Z.from(s),0,0));this.prosemirrorView.dispatch(l.setMeta(mr,{isChangeOrigin:!0}))},mr)})}_typeChanged(e,t){if(this.prosemirrorView==null)return;let n=mr.getState(this.prosemirrorView.state);if(e.length===0||n.snapshot!=null||n.prevSnapshot!=null){this.renderSnapshot(n.snapshot,n.prevSnapshot);return}this.mux(()=>{let r=(a,s)=>this.mapping.delete(s);$l(t,t.deleteSet,a=>{if(a.constructor===Wt){let s=a.content.type;s&&this.mapping.delete(s)}}),t.changed.forEach(r),t.changedParentTypes.forEach(r);let i=this.type.toArray().map(a=>sG(a,this.prosemirrorView.state.schema,this.mapping)).filter(a=>a!==null),o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new fe(Z.from(i),0,0));axe(o,this.beforeTransactionSelection,this),o=o.setMeta(mr,{isChangeOrigin:!0,isUndoRedoOperation:t.origin instanceof mT}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})}_prosemirrorChanged(e){this.doc.transact(()=>{jR(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=VR(this,this.prosemirrorView.state)},mr)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}},sG=(e,t,n,r,i,o)=>{let a=n.get(e);if(a===void 0){if(e instanceof ki)return iC(e,t,n,r,i,o);throw Fo()}return a},iC=(e,t,n,r,i,o)=>{let a=[],s=l=>{if(l.constructor===ki){let u=sG(l,t,n,r,i,o);u!==null&&a.push(u)}else{let u=l._item.right?.content.type;u instanceof yc&&!u._item.deleted&&u._item.id.client===u.doc.clientID&&(l.applyDelta([{retain:l.length},...u.toDelta()]),u.doc.transact(d=>{u._item.delete(d)}));let c=lxe(l,t,n,r,i,o);c!==null&&c.forEach(d=>{d!==null&&a.push(d)})}};r===void 0||i===void 0?e.toArray().forEach(s):wT(e,new Dw(i.ds,r.sv)).forEach(s);try{let l=e.getAttributes(r);r!==void 0&&(oC(e._item,r)?oC(e._item,i)||(l.ychange=o?o("added",e._item.id):{type:"added"}):l.ychange=o?o("removed",e._item.id):{type:"removed"});let u=t.node(e.nodeName,l,a);return n.set(e,u),u}catch{return e.doc.transact(u=>{e._item.delete(u)},mr),n.delete(e),null}},lxe=(e,t,n,r,i,o)=>{let a=[],s=e.toDelta(r,i,o);try{for(let l=0;l<s.length;l++){let u=s[l],c=[];for(let d in u.attributes)c.push(t.mark(d,u.attributes[d]));a.push(t.text(u.insert,c))}}catch{return e.doc.transact(u=>{e._item.delete(u)},mr),null}return a},uxe=(e,t)=>{let n=new Di,r=e.map(i=>({insert:i.text,attributes:uG(i.marks)}));return n.applyDelta(r),t.set(n,e),n},cxe=(e,t)=>{let n=new ki(e.type.name);for(let r in e.attrs){let i=e.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,sC(e).map(r=>UR(r,t))),t.set(n,e),n},UR=(e,t)=>e instanceof Array?uxe(e,t):cxe(e,t),tG=e=>typeof e=="object"&&e!==null,KR=(e,t)=>{let n=Object.keys(e).filter(i=>e[i]!==null),r=n.length===Object.keys(t).filter(i=>t[i]!==null).length;for(let i=0;i<n.length&&r;i++){let o=n[i],a=e[o],s=t[o];r=o==="ychange"||a===s||tG(a)&&tG(s)&&KR(a,s)}return r},sC=e=>{let t=e.content.content,n=[];for(let r=0;r<t.length;r++){let i=t[r];if(i.isText){let o=[];for(let a=t[r];r<t.length&&a.isText;a=t[++r])o.push(a);r--,n.push(o)}else n.push(i)}return n},lG=(e,t)=>{let n=e.toDelta();return n.length===t.length&&n.every((r,i)=>r.insert===t[i].text&&sT(r.attributes||{}).length===t[i].marks.length&&t[i].marks.every(o=>KR(r.attributes[o.type.name]||{},o.attrs)))},H1=(e,t)=>{if(e instanceof ki&&!(t instanceof Array)&&$R(e,t)){let n=sC(t);return e._length===n.length&&KR(e.getAttributes(),t.attrs)&&e.toArray().every((r,i)=>H1(r,n[i]))}return e instanceof Di&&t instanceof Array&&lG(e,t)},aC=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((n,r)=>t[r]===n),nG=(e,t,n)=>{let r=e.toArray(),i=sC(t),o=i.length,a=r.length,s=hc(a,o),l=0,u=0,c=!1;for(;l<s;l++){let d=r[l],f=i[l];if(aC(n.get(d),f))c=!0;else if(!H1(d,f))break}for(;l+u<s;u++){let d=r[a-u-1],f=i[o-u-1];if(aC(n.get(d),f))c=!0;else if(!H1(d,f))break}return{equalityFactor:l+u,foundMappedChild:c}},dxe=e=>{let t="",n=e._start,r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof ql?t+=n.content.str:n.content instanceof dr&&(r[n.content.key]=null)),n=n.right;return{str:t,nAttrs:r}},fxe=(e,t,n)=>{n.set(e,t);let{nAttrs:r,str:i}=dxe(e),o=t.map(u=>({insert:u.text,attributes:Object.assign({},r,uG(u.marks))})),{insert:a,remove:s,index:l}=nxe(i,o.map(u=>u.insert).join(""));e.delete(l,s),e.insert(l,a),e.applyDelta(o.map(u=>({retain:u.insert.length,attributes:u.attributes})))},uG=e=>{let t={};return e.forEach(n=>{n.type.name!=="ychange"&&(t[n.type.name]=n.attrs)}),t},jR=(e,t,n,r)=>{if(t instanceof ki&&t.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.set(t,n),t instanceof ki){let d=t.getAttributes(),f=n.attrs;for(let h in f)f[h]!==null?d[h]!==f[h]&&h!=="ychange"&&t.setAttribute(h,f[h]):t.removeAttribute(h);for(let h in d)f[h]===void 0&&t.removeAttribute(h)}let i=sC(n),o=i.length,a=t.toArray(),s=a.length,l=hc(o,s),u=0,c=0;for(;u<l;u++){let d=a[u],f=i[u];if(!aC(r.get(d),f))if(H1(d,f))r.set(d,f);else break}for(;c+u+1<l;c++){let d=a[s-c-1],f=i[o-c-1];if(!aC(r.get(d),f))if(H1(d,f))r.set(d,f);else break}e.transact(()=>{for(;s-u-c>0&&o-u-c>0;){let f=a[u],h=i[u],p=a[s-c-1],m=i[o-c-1];if(f instanceof Di&&h instanceof Array)lG(f,h)||fxe(f,h,r),u+=1;else{let v=f instanceof ki&&$R(f,h),g=p instanceof ki&&$R(p,m);if(v&&g){let y=nG(f,h,r),w=nG(p,m,r);y.foundMappedChild&&!w.foundMappedChild?g=!1:!y.foundMappedChild&&w.foundMappedChild||y.equalityFactor<w.equalityFactor?v=!1:g=!1}v?(jR(e,f,h,r),u+=1):g?(jR(e,p,m,r),c+=1):(r.delete(t.get(u)),t.delete(u,1),t.insert(u,[UR(h,r)]),u+=1)}}let d=s-u-c;if(s===1&&o===0&&a[0]instanceof Di?(r.delete(a[0]),a[0].delete(0,a[0].length)):d>0&&(t.slice(u,u+d).forEach(f=>r.delete(f)),t.delete(u,d)),u+c<o){let f=[];for(let h=u;h<o-c;h++)f.push(UR(i[h],r));t.insert(u,f)}},mr)},$R=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name,rG=(e,t,n)=>{if(e===0)return kw(t,0,-1);let r=t._first===null?null:t._first.content.type;for(;r!==null&&t!==r;){if(r instanceof Di){if(r._length>=e)return kw(r,e,-1);if(e-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,e--;while(r!==t&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==t&&(r=r._item===null?null:r._item.next.content.type)}}else{let i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&e<i)r=r._first.content.type,e--;else{if(e===1&&r._length===0&&i>1)return new Bg(r._item===null?null:r._item.id,r._item===null?op(r):null,null);if(e-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(e===0)return r=r._item===null?r:r._item.parent,new Bg(r._item===null?null:r._item.id,r._item===null?op(r):null,null);do r=r._item.parent,e--;while(r!==t&&r._item.next===null);r!==t&&(r=r._item.next.content.type)}}}if(r===null)throw Ai();if(e===0&&r.constructor!==Di&&r!==t)return hxe(r._item.parent,r._item)}return kw(t,t._length,-1)},hxe=(e,t)=>{let n=null,r=null;return e._item===null?r=op(e):n=Ke(e._item.id.client,e._item.id.clock),new Bg(n,r,t.id)},iG=(e,t,n,r)=>{let i=hN(n,e);if(i===null||i.type!==t&&!np(t,i.type._item))return null;let o=i.type,a=0;if(o.constructor===Di)a=i.index;else if(o._item===null||!o._item.deleted){let s=o._first,l=0;for(;l<o._length&&l<i.index&&s!==null;){if(!s.deleted){let u=s.content.type;l++,u instanceof Di?a+=u._length:a+=r.get(u).nodeSize}s=s.right}a+=1}for(;o!==t&&o._item!==null;){let s=o._item.parent;if(s._item===null||!s._item.deleted){a+=1;let l=s._first;for(;l!==null;){let u=l.content.type;if(u===o)break;l.deleted||(u instanceof Di?a+=u._length:a+=r.get(u).nodeSize),l=l.right}}o=s}return a-1};function pxe(e){let t=e.toArray();function n(r){let i;if(!r.nodeName)i=r.toDelta().map(a=>{let s={type:"text",text:a.insert};return a.attributes&&(s.marks=Object.keys(a.attributes).map(l=>{let u=a.attributes[l],c={type:l};return Object.keys(u)&&(c.attrs=u),c})),s});else{i={type:r.nodeName};let o=r.getAttributes();Object.keys(o).length&&(i.attrs=o);let a=r.toArray();a.length&&(i.content=a.map(n).flat())}return i}return{type:"doc",content:t.map(n)}}var mxe=e=>{let t=Au.getState(e).undoManager;if(t!=null)return t.undo(),!0},gxe=e=>{let t=Au.getState(e).undoManager;if(t!=null)return t.redo(),!0},vxe=new Set(["paragraph"]),yxe=(e,t)=>!(e instanceof Wt)||!(e.content instanceof Ns)||!(e.content.type instanceof yc||e.content.type instanceof ki&&t.has(e.content.type.nodeName))||e.content.type._length===0,bxe=({protectedNodes:e=vxe,trackedOrigins:t=[],undoManager:n=null}={})=>new Xn({key:Au,state:{init:(r,i)=>{let o=mr.getState(i),a=n||new mT(o.type,{trackedOrigins:new Set([mr].concat(t)),deleteFilter:s=>yxe(s,e),captureTransaction:s=>s.meta.get("addToHistory")!==!1});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(r,i,o,a)=>{let s=mr.getState(a).binding,l=i.undoManager,u=l.undoStack.length>0,c=l.redoStack.length>0;return s?{undoManager:l,prevSel:VR(s,o),hasUndoOps:u,hasRedoOps:c}:u!==i.hasUndoOps||c!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{let i=mr.getState(r.state),o=Au.getState(r.state).undoManager;return o.on("stack-item-added",({stackItem:a})=>{let s=i.binding;s&&a.meta.set(s,Au.getState(r.state).prevSel)}),o.on("stack-item-popped",({stackItem:a})=>{let s=i.binding;s&&(s.beforeTransactionSelection=a.meta.get(s)||s.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}}),wxe=Jr.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(e=>e.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:e,state:t,dispatch:n})=>(e.setMeta("preventDispatch",!0),Au.getState(t).undoManager.undoStack.length===0?!1:n?mxe(t):!0),redo:()=>({tr:e,state:t,dispatch:n})=>(e.setMeta("preventDispatch",!0),Au.getState(t).undoManager.redoStack.length===0?!1:n?gxe(t):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var e;let t=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=bxe(this.options.yUndoOptions),r=n.spec.view;n.spec.view=a=>{let{undoManager:s}=Au.getState(a.state);s.restore&&(s.restore(),s.restore=()=>{});let l=r?r(a):void 0;return{destroy:()=>{let u=s.trackedOrigins.has(s),c=s._observers;s.restore=()=>{u&&s.trackedOrigins.add(s),s.doc.on("afterTransaction",s.afterTransactionHandler),s._observers=c},l?.destroy&&l.destroy()}}};let i={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},o=oxe(t,i);return this.editor.options.enableContentCheck&&((e=t.doc)===null||e===void 0||e.on("beforeTransaction",()=>{try{let a=pxe(t);if(a.content.length===0)return;this.editor.schema.nodeFromJSON(a).check()}catch(a){return this.editor.emit("contentError",{error:a,editor:this.editor,disableCollaboration:()=>{var s;(s=t.doc)===null||s===void 0||s.destroy(),this.storage.isDisabled=!0}}),!1}})),[o,n,this.editor.options.enableContentCheck&&new Xn({key:new _r("filterInvalidContent"),filterTransaction:()=>{var a;return this.storage.isDisabled&&((a=t.doc)===null||a===void 0||a.destroy()),!0}})].filter(Boolean)}}),cG={exports:{}},PR={},oG;function xxe(){if(oG)return PR;oG=1;var e=St.default;function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),m=p[0].inst,v=p[1];return o(function(){m.value=h,m.getSnapshot=f,l(m)&&v({inst:m})},[d,h,f]),i(function(){return l(m)&&v({inst:m}),d(function(){l(m)&&v({inst:m})})},[d]),a(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return PR.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:c,PR}cG.exports=xxe();var dG=cG.exports,Exe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},Sxe=({contentComponent:e})=>{let t=dG.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return St.default.createElement(St.default.Fragment,null,Object.values(t))};function Cxe(){let e=new Set,t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:lC.default.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){let r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var Axe=class extends St.default.Component{constructor(e){var t;super(e),this.editorContentRef=St.default.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=Cxe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){let e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,innerRef:t,...n}=this.props;return St.default.createElement(St.default.Fragment,null,St.default.createElement("div",{ref:Exe(t,this.editorContentRef),...n}),e?.contentComponent&&St.default.createElement(Sxe,{contentComponent:e.contentComponent}))}},Txe=(0,St.forwardRef)((e,t)=>{let n=St.default.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return St.default.createElement(Axe,{key:n,innerRef:t,...e})}),kxe=St.default.memo(Txe),fG={exports:{}},HR={},aG;function Dxe(){if(aG)return HR;aG=1;var e=St.default,t=dG;function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,a=e.useEffect,s=e.useMemo,l=e.useDebugValue;return HR.useSyncExternalStoreWithSelector=function(u,c,d,f,h){var p=o(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=s(function(){function g(E){if(!y){if(y=!0,w=E,E=f(E),h!==void 0&&m.hasValue){var k=m.value;if(h(k,E))return x=k}return x=E}if(k=x,r(w,E))return k;var A=f(E);return h!==void 0&&h(k,A)?k:(w=E,x=A)}var y=!1,w,x,S=d===void 0?null:d;return[function(){return g(c())},S===null?void 0:function(){return g(S())}]},[c,d,f,h]);var v=i(u,p[0],p[1]);return a(function(){m.hasValue=!0,m.value=v},[v]),l(v),v},HR}fG.exports=Dxe();var Lit=fG.exports;var Mxe=typeof window>"u",zit=Mxe||!!(typeof window<"u"&&window.next),hG=(0,St.createContext)({editor:null}),Pit=hG.Consumer,Rxe=()=>(0,St.useContext)(hG),Oxe=e=>{let[t,n]=(0,St.useState)(null),{editor:r}=Rxe();return(0,St.useEffect)(()=>{var i;if(!t||!((i=e.editor)===null||i===void 0)&&i.isDestroyed||r?.isDestroyed)return;let{pluginKey:o="floatingMenu",editor:a,tippyOptions:s={},shouldShow:l=null}=e,u=a||r;if(!u){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}let c=iR({pluginKey:o,editor:u,element:t,tippyOptions:s,shouldShow:l});return u.registerPlugin(c),()=>{u.unregisterPlugin(o)}},[e.editor,r,t]),St.default.createElement("div",{ref:n,className:e.className,style:{visibility:"hidden"}},e.children)},pG=(0,St.createContext)({onDragStart:void 0}),Bxe=()=>(0,St.useContext)(pG),_xe=St.default.forwardRef((e,t)=>{let{onDragStart:n}=Bxe(),r=e.as||"div";return St.default.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function Fxe(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function Ixe(e){var t;return typeof e=="object"&&((t=e.$$typeof)===null||t===void 0?void 0:t.toString())==="Symbol(react.forward_ref)"}var Nxe=class{constructor(e,{editor:t,props:n={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?(0,lC.flushSync)(()=>{this.render()}):this.render()}render(){var e;let t=this.component,n=this.props,r=this.editor;(Fxe(t)||Ixe(t))&&(n.ref=i=>{this.ref=i}),this.reactElement=St.default.createElement(t,{...n}),(e=r?.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;let t=this.editor;(e=t?.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}},Lxe=class extends cY{mount(){let e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){let l=u=>u.charAt(0).toUpperCase()+u.substring(1);this.component.displayName=l(this.extension.name)}let r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&l.appendChild(this.contentDOMElement)}},i=this.component,o=St.default.memo(l=>St.default.createElement(pG.Provider,{value:r},St.default.createElement(i,l)));o.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);let{className:s=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new Nxe(o,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${s}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){let{from:e,to:t}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,n){let r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){let i=this.node,o=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:t,oldInnerDecorations:a,innerDecorations:n,updateProps:()=>r({node:e,decorations:t,innerDecorations:n})})}return e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,r({node:e,decorations:t,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){let t=this.editor.extensionManager.attributes,n=E1(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:n})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}};function zxe(e,t){return n=>n.editor.contentComponent?new Lxe(e,n,t):{}}var Pxe={hyphenate:"alinea-RichTextField-hyphenate",link:"alinea-RichTextField-link",p:"alinea-RichTextField-p",h5:"alinea-RichTextField-h5",h4:"alinea-RichTextField-h4",h3:"alinea-RichTextField-h3",h2:"alinea-RichTextField-h2",h1:"alinea-RichTextField-h1","is-flat":"alinea-RichTextField-is-flat",isFlat:"alinea-RichTextField-is-flat",monospace:"alinea-RichTextField-monospace",small:"alinea-RichTextField-small","root-editor":"alinea-RichTextField-editor",rootEditor:"alinea-RichTextField-editor","is-focus":"alinea-RichTextField-is-focus",isFocus:"alinea-RichTextField-is-focus","is-readonly":"alinea-RichTextField-is-readonly",isReadonly:"alinea-RichTextField-is-readonly","insert-trigger":"alinea-RichTextField-insert-trigger",insertTrigger:"alinea-RichTextField-insert-trigger"},qR=j(Pxe);function Hxe(e,t,n){function r({node:i,deleteNode:o}){let{[rn.id]:a}=i.attrs,s=rt(n),{readOnly:l}=Ql(e);return(0,kt.jsx)(Ga,{field:e,type:n,rowId:a,readOnly:l,children:(0,kt.jsx)(_xe,{children:(0,kt.jsxs)(xt.Root,{style:{margin:`${Me(18)} 0`},children:[(0,kt.jsxs)(xt.Header,{children:[(0,kt.jsx)(xt.Options,{children:(0,kt.jsx)(Le,{icon:s.icon||Gv,"data-drag-handle":!0,style:{cursor:"grab"}})}),(0,kt.jsx)(xt.Title,{children:(0,kt.jsx)(Ze,{label:he.label(n)})}),(0,kt.jsx)(xt.Options,{children:(0,kt.jsx)(Le,{icon:so,onClick:o})})]}),(0,kt.jsx)(xt.Content,{children:(0,kt.jsx)(Qn,{type:n})})]})})})}return Xr.create({name:t,group:"block",atom:!0,draggable:!0,parseHTML(){return[{tag:t}]},renderHTML({HTMLAttributes:i}){return[t,cn(i)]},addNodeView(){return zxe(r)},addAttributes(){return{[rn.id]:{default:null}}}})}function Vxe(e,t){return t?le(t).map(([n,r])=>Hxe(e,n,r)):[]}function Uxe({editor:e,schema:t,onInsert:n}){let r=Qt();if(!t)return null;let i=le(t).map(([o,a])=>(0,kt.jsx)(de.Item,{onClick:()=>{n(r,o),e.chain().focus().insertContent({type:o,attrs:{[rn.id]:r}}).run()},children:(0,kt.jsxs)(K,{center:!0,gap:8,children:[(0,kt.jsx)(te,{icon:rt(a).icon??qg}),(0,kt.jsx)(Ze,{label:he.label(a)})]})},o));return(0,kt.jsx)(Oxe,{editor:e,tippyOptions:{zIndex:1,maxWidth:"none"},children:(0,kt.jsxs)(de.Root,{bottom:!0,children:[(0,kt.jsxs)(de.Trigger,{className:qR.insert.trigger(),children:[(0,kt.jsx)(te,{icon:qg}),(0,kt.jsx)("span",{children:"Insert block"})]}),(0,kt.jsx)(de.Items,{children:i})]})})}function mG({field:e}){let{value:t,mutator:n,options:r,error:i}=Ut(e),o=Hw(),{fragment:a,insert:s}=n,l=XY(),{readOnly:u,schema:c,enableTables:d}=r,[f,h]=(0,bi.useState)(!1),p=(0,bi.useRef)(null),m=(0,bi.useRef)(null),v=(0,bi.useCallback)(function(T){let R=T||document.activeElement,M=()=>m.current?.querySelector(`.${qR.root.editor()} > .ProseMirror`),O=p.current?.contains(R)||R===M()||!1;h(O)},[h,m,p]),g=(0,bi.useMemo)(()=>Vxe(e,c),[e,c]),y=(0,bi.useMemo)(()=>[wxe.configure({fragment:a}),RW,...g],[a,g]),w=(0,bi.useMemo)(()=>({type:"doc",content:t.map(gG)}),[a]),x=(0,bi.useCallback)(({event:A})=>v(A.currentTarget),[v]),S=(0,bi.useCallback)(({event:A})=>v(A.relatedTarget),[v]),E=!r.readOnly&&!u,k=(0,bi.useMemo)(()=>{let A=a.doc,T;return A.transact(()=>{T=new sY({content:w,onFocus:x,onBlur:S,extensions:y,editable:E})},"self"),T},[a]);return $p(()=>{k.setOptions({editable:E})},[E]),(0,bi.useEffect)(()=>(k.on("transaction",o),()=>k.destroy()),[k]),(0,kt.jsxs)(kt.Fragment,{children:[E&&f&&(0,kt.jsx)(eG,{ref:p,editor:k,focusToggle:v,pickLink:l.pickLink,enableTables:d}),(0,kt.jsx)(ZY,{picker:l}),(0,kt.jsxs)(We,{...r,focused:f,icon:WY,empty:k.isEmpty,ref:m,error:i,children:[(0,kt.jsx)(Uxe,{editor:k,schema:c,onInsert:s}),(0,kt.jsx)(kxe,{className:qR.root.editor({focus:f,readonly:r.readOnly}),editor:k})]})]})}function gG(e){if(De.isText(e))return{type:"text",text:e[Ha.text],marks:e[Ha.marks]?.map(t=>{let{[Os.type]:n,...r}=t,i=Object.fromEntries(le(r).map(([o,a])=>o.startsWith("_")?[`data-${o.slice(1)}`,a]:[o,a]));return{type:n,attrs:i}})};if(De.isElement(e)){let{[De.type]:t,[uc.content]:n,...r}=e;return{type:t,content:n?.map(gG),attrs:r}}if(De.isBlock(e)){let{[De.type]:t}=e;return{type:t,attrs:{[rn.id]:e[rn.id]}}}throw new TypeError("Invalid node")}b();b();var YR=D(L(),1);function vG(e){return(0,YR.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,YR.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm-.35 12.65l-2.79-2.79c-.32-.32-.1-.86.35-.86h5.59c.45 0 .67.54.35.85l-2.79 2.79c-.2.2-.52.2-.71.01z"})})}var ar=D(L(),1),jxe={root:"alinea-SelectField","is-open":"alinea-SelectField-is-open",isOpen:"alinea-SelectField-is-open","root-input":"alinea-SelectField-input",rootInput:"alinea-SelectField-input","root-input-button":"alinea-SelectField-input-button",rootInputButton:"alinea-SelectField-input-button","root-input-label":"alinea-SelectField-input-label",rootInputLabel:"alinea-SelectField-input-label","is-placeholder":"alinea-SelectField-is-placeholder",isPlaceholder:"alinea-SelectField-is-placeholder","root-input-icon":"alinea-SelectField-input-icon",rootInputIcon:"alinea-SelectField-input-icon","root-input-delete":"alinea-SelectField-input-delete",rootInputDelete:"alinea-SelectField-input-delete","root-dropdown":"alinea-SelectField-dropdown",rootDropdown:"alinea-SelectField-dropdown","root-dropdown-inner":"alinea-SelectField-dropdown-inner",rootDropdownInner:"alinea-SelectField-dropdown-inner","root-dropdown-option":"alinea-SelectField-dropdown-option",rootDropdownOption:"alinea-SelectField-dropdown-option","is-active":"alinea-SelectField-is-active",isActive:"alinea-SelectField-is-active","is-selected":"alinea-SelectField-is-selected",isSelected:"alinea-SelectField-is-selected","root-dropdown-option-icon":"alinea-SelectField-dropdown-option-icon",rootDropdownOptionIcon:"alinea-SelectField-dropdown-option-icon"},pl=j(jxe);function yG({field:e}){let{value:t=null,mutator:n,label:r,options:i,error:o}=Ut(e),{readOnly:a}=i,s=i.options,{x:l,y:u,reference:c,floating:d,refs:f,strategy:h}=_2({whileElementsMounted:O2,strategy:"fixed",placement:"bottom-start",middleware:[D2(4),k2(),IL({apply({rects:p}){f.floating.current&&Object.assign(f.floating.current.style,{width:`${p.reference.width}px`})}})]});return(0,ar.jsx)(We,{...i,error:o,icon:vG,children:(0,ar.jsx)("div",{className:pl.root({readOnly:a}),children:(0,ar.jsx)(Qs,{value:t,onChange:n,disabled:i.readOnly,children:({open:p})=>(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("div",{className:pl.root.input({open:p}),children:[(0,ar.jsxs)(Qs.Button,{ref:c,className:pl.root.input.button(),children:[(0,ar.jsx)("span",{className:pl.root.input.label({placeholder:!t}),children:(0,ar.jsx)(Ze,{label:(t?s[t]:i.placeholder)||r,title:t?s[t]:void 0})}),(0,ar.jsx)(te,{icon:Ar,className:pl.root.input.icon(),title:p?"Close options":"Open options"})]}),t&&!i.required&&(0,ar.jsx)(Le,{icon:so,onClick:()=>n(null),className:pl.root.input.delete(),title:"Clear selection"})]}),(0,ar.jsx)(Qs.Options,{ref:d,style:{position:h,top:`${u||0}px`,left:`${l||0}px`},className:pl.root.dropdown(),children:(0,ar.jsx)("div",{className:pl.root.dropdown.inner(),children:Object.entries(s).map(([m,v])=>(0,ar.jsx)(Qs.Option,{value:m,children:({active:g,selected:y})=>(0,ar.jsxs)(K,{center:!0,gap:4,className:pl.root.dropdown.option({active:g,selected:y}),children:[(0,ar.jsx)(lo,{children:(0,ar.jsx)(Ze,{label:v,title:v})}),(0,ar.jsx)("div",{className:pl.root.dropdown.option.icon(),children:y&&(0,ar.jsx)(te,{size:18,icon:qa})})]})},m))})})]})})})})}b();var bG=D($(),1),Yf=D(L(),1),$xe={"root-input":"alinea-TextField-input",rootInput:"alinea-TextField-input"},qxe=j($xe);function wG({field:e}){let{value:t,mutator:n,label:r,options:i,error:o}=Ut(e),[a,s]=(0,bG.useState)(!1),{multiline:l,inline:u,iconLeft:c,iconRight:d,autoFocus:f,readOnly:h}=i,p=l?vm:"input",m=i.placeholder||(u?r:"");return(0,Yf.jsx)(We,{asLabel:!0,...i,error:o,empty:t==="",focused:a,icon:Aa,children:(0,Yf.jsxs)(K,{center:!0,gap:8,children:[c&&(0,Yf.jsx)(c,{}),(0,Yf.jsx)(p,{className:qxe.root.input({readOnly:h}),type:i.type||"text",value:t||"",onChange:g=>n(g.currentTarget.value),onFocus:()=>s(!0),onBlur:()=>s(!1),placeholder:m,autoFocus:f,readOnly:i.readOnly}),d&&(0,Yf.jsx)(d,{})]})})}b();var WR=D(L(),1),Kxe={"root-input":"alinea-TimeField-input",rootInput:"alinea-TimeField-input"},Yxe=j(Kxe);function xG({field:e}){let{options:t,value:n,mutator:r,error:i}=Ut(e),{minValue:o,maxValue:a,readOnly:s,step:l,autoFocus:u}=t;return(0,WR.jsx)(We,{asLabel:!0,...t,error:i,icon:IE,children:(0,WR.jsx)("input",{className:Yxe.root.input(),type:"time",value:n??"",onChange:c=>r(c.currentTarget.value),readOnly:s,min:o,max:a,step:l||60})})}b();var EG=D($(),1);var gr=D(L(),1),Wxe={root:"alinea-MediaExplorer","root-inner":"alinea-MediaExplorer-inner",rootInner:"alinea-MediaExplorer-inner","root-inner-header":"alinea-MediaExplorer-inner-header",rootInnerHeader:"alinea-MediaExplorer-inner-header","root-inner-content":"alinea-MediaExplorer-inner-content",rootInnerContent:"alinea-MediaExplorer-inner-content","root-title":"alinea-MediaExplorer-title",rootTitle:"alinea-MediaExplorer-title","root-list":"alinea-MediaExplorer-list",rootList:"alinea-MediaExplorer-list"},uC=j(Wxe);function SG({editor:e}){let t=sn(),n=e?.entryId,r=hr(),i=li(),o=Zs(),a=(0,EG.useMemo)(()=>({_root:i.name,_workspace:r.name,_parentId:n??null}),[r,i,n]),{data:s}=ri(["explorer","media","total",a],async()=>{let h={select:void 0,orderBy:[{desc:W.type},{desc:W.id}],filter:a};return{...n&&await o.first({select:{title:W.title,parent:W.parentId},id:n,status:"preferDraft"}),query:h}},{suspense:!0,keepPreviousData:!0}),{query:l}=s,u=s?.title||i.label,c=Vt(),d=fr(),f=s?.parent?c.entry({id:s.parent}):e?c.root({root:i.name}):void 0;return(0,gr.jsx)(gr.Fragment,{children:(0,gr.jsxs)($s,{className:uC.root(),scrollable:!1,children:[e&&(0,gr.jsx)(nm,{editable:!1,editor:e}),(0,gr.jsxs)("div",{className:uC.root.inner(),children:[(0,gr.jsx)(K,{style:{flexGrow:1,minHeight:0},children:(0,gr.jsxs)(ut,{style:{height:"100%",width:"100%"},children:[(0,gr.jsxs)("header",{className:uC.root.inner.header(),children:[(0,gr.jsx)(Zi,{children:(0,gr.jsx)("title",{children:`${r.label}: ${String(u)}`})}),(0,gr.jsxs)(K,{center:!0,gap:18,children:[f&&(0,gr.jsx)(qw,{icon:qc,href:f}),(0,gr.jsx)("h1",{className:uC.root.title(),children:(0,gr.jsx)(Ze,{label:u})})]})]}),(0,gr.jsx)(am,{query:l,type:"thumb",virtualized:!0,onNavigate:h=>d(c.entry({id:h}))})]})}),(0,gr.jsx)(tm,{destination:{parentId:n,workspace:r.name,root:i.name,directory:Sc(t,r.name)}})]})]})})}b();b();var Gxe=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Qxe=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Jxe=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Xxe=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],CG=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function V1(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};let n=t.bits?t.binary?Xxe:Jxe:t.binary?Qxe:Gxe,r=t.space?" ":"";if(t.signed&&e===0)return` 0${r}${n[0]}`;let i=e<0,o=i?"-":t.signed?"+":"";i&&(e=-e);let a;if(t.minimumFractionDigits!==void 0&&(a={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(a={maximumFractionDigits:t.maximumFractionDigits,...a}),e<1){let c=CG(e,t.locale,a);return o+c+r+n[0]}let s=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),n.length-1);e/=(t.binary?1024:1e3)**s,a||(e=e.toPrecision(3));let l=CG(Number(e),t.locale,a),u=n[s];return o+l+r+u}b();var GR="@alinea.location";b();function QR(e){try{if(typeof e=="function"){let t=e();return AG(t)?QR(t):[t]}return AG(e)?e.then(t=>[t]).catch(t=>[void 0,t]):[e]}catch(t){return t instanceof Error?[void 0,t]:[void 0,new Error(String(t))]}}function AG(e){return e&&typeof e=="object"&&"then"in e}b();var TG=D($(),1);var zt=D(L(),1),Zxe={root:"alinea-FileEntry",image:"alinea-FileEntry-image","image-wrapper":"alinea-FileEntry-image-wrapper",imageWrapper:"alinea-FileEntry-image-wrapper","image-preview":"alinea-FileEntry-image-preview",imagePreview:"alinea-FileEntry-image-preview","image-preview-focus":"alinea-FileEntry-image-preview-focus",imagePreviewFocus:"alinea-FileEntry-image-preview-focus","image-preview-img":"alinea-FileEntry-image-preview-img",imagePreviewImg:"alinea-FileEntry-image-preview-img","image-content":"alinea-FileEntry-image-content",imageContent:"alinea-FileEntry-image-content","image-content-url":"alinea-FileEntry-image-content-url",imageContentUrl:"alinea-FileEntry-image-content-url"},fd=j(Zxe);function eEe({type:e,editor:t}){let n=sn(),r=t.activeVersion,{value:i={x:.5,y:.5},mutator:o}=Ut(e.focus),[a,s]=(0,TG.useState)({}),{x:l=i.x,y:u=i.y}=a,c=r.data.location,[d]=QR(()=>new URL(c,Mn.baseUrl(n)??window.location.href));return(0,zt.jsxs)(Ja,{className:fd.image(),children:[(0,zt.jsx)("div",{className:fd.image.wrapper(),style:{backgroundImage:r.data.averageColor&&`linear-gradient(45deg, ${lp(r.data.averageColor,.6)} 0%, ${lp(r.data.averageColor,.8)} 100%)`},children:(0,zt.jsxs)("div",{className:fd.image.preview(),onMouseMove:f=>{let h=f.currentTarget.getBoundingClientRect(),p=(f.clientX-h.left)/h.width,m=(f.clientY-h.top)/h.height;s({x:p,y:m})},onMouseOut:()=>s({}),onBlur:()=>s({}),onClick:f=>{f.preventDefault();let h=f.currentTarget.getBoundingClientRect(),p=(f.clientX-h.left)/h.width,m=(f.clientY-h.top)/h.height;o({x:p,y:m})},children:[(0,zt.jsx)("img",{className:fd.image.preview.img(),src:r.data.preview,alt:"Preview of media file"}),(0,zt.jsx)("span",{className:fd.image.preview.focus(),style:{left:`${i.x*100}%`,top:`${i.y*100}%`}})]})}),(0,zt.jsxs)("div",{className:fd.image.content(),children:[(0,zt.jsx)(r2,{field:e.title}),(0,zt.jsx)(We,{label:"Extension",children:r.data.extension}),(0,zt.jsx)(We,{label:"File size",children:V1(r.data.size)}),(0,zt.jsxs)(We,{label:"Dimensions",children:[r.data.width," x ",r.data.height," pixels"]}),(0,zt.jsx)(We,{label:"URL",children:(0,zt.jsx)("a",{href:d?String(d):c,target:"_blank",title:c,className:fd.image.content.url(),children:(0,zt.jsx)(At.Monospace,{children:c})})}),(0,zt.jsxs)(We,{label:"Focus point",help:"Click on the image to change the focus point",children:["(",l.toFixed(2),", ",u.toFixed(2),")"]})]})]})}function tEe({type:e,editor:t}){let n=t.activeVersion;return(0,zt.jsxs)(Ja,{children:[(0,zt.jsx)(r2,{field:e.title}),(0,zt.jsx)(We,{label:"Extension",children:n.data.extension}),(0,zt.jsx)(We,{label:"File size",children:V1(n.data.size)}),(0,zt.jsx)(We,{label:"URL",children:(0,zt.jsx)(At.Monospace,{children:GR in n.data?n.data[GR]:n.data.location})})]})}function kG(e){let t=Vt(),{editor:n}=e,r=oe(n.form);return(0,zt.jsxs)($s,{className:fd.root(),children:[(0,zt.jsx)(nm,{editor:n}),(0,zt.jsx)(Lx,{editor:n,backLink:n.activeVersion.parentId?t.entry({id:n.activeVersion.parentId,workspace:n.activeVersion.workspace}):t.entry({id:void 0})}),(0,zt.jsx)(Zd,{form:r,children:(0,zt.jsx)($s.Container,{children:Bx(n.activeVersion.data.extension)?(0,zt.jsx)(eEe,{...e}):(0,zt.jsx)(tEe,{...e})})})]})}b();var DG=D($(),1),yn=D(L(),1),nEe={row:"alinea-FileSummary-row","row-preview":"alinea-FileSummary-row-preview",rowPreview:"alinea-FileSummary-row-preview","row-preview-image":"alinea-FileSummary-row-preview-image",rowPreviewImage:"alinea-FileSummary-row-preview-image","row-preview-icon":"alinea-FileSummary-row-preview-icon",rowPreviewIcon:"alinea-FileSummary-row-preview-icon",thumb:"alinea-FileSummary-thumb","thumb-preview":"alinea-FileSummary-thumb-preview",thumbPreview:"alinea-FileSummary-thumb-preview","thumb-preview-image":"alinea-FileSummary-thumb-preview-image",thumbPreviewImage:"alinea-FileSummary-thumb-preview-image","is-cover":"alinea-FileSummary-is-cover",isCover:"alinea-FileSummary-is-cover","thumb-preview-icon":"alinea-FileSummary-thumb-preview-icon",thumbPreviewIcon:"alinea-FileSummary-thumb-preview-icon","thumb-preview-extension":"alinea-FileSummary-thumb-preview-extension",thumbPreviewExtension:"alinea-FileSummary-thumb-preview-extension","thumb-footer":"alinea-FileSummary-thumb-footer",thumbFooter:"alinea-FileSummary-thumb-footer","thumb-footer-title":"alinea-FileSummary-thumb-footer-title",thumbFooterTitle:"alinea-FileSummary-thumb-footer-title","thumb-footer-details":"alinea-FileSummary-thumb-footer-details",thumbFooterDetails:"alinea-FileSummary-thumb-footer-details","thumb-footer-details-divider":"alinea-FileSummary-thumb-footer-details-divider",thumbFooterDetailsDivider:"alinea-FileSummary-thumb-footer-details-divider"},bs=j(nEe);function MG(e){return(0,yn.jsxs)(K,{center:!0,full:!0,gap:10,className:bs.row(),children:[(0,yn.jsx)("div",{className:bs.row.preview(),children:e.preview?(0,yn.jsx)("img",{src:e.preview,className:bs.row.preview.image()}):(0,yn.jsx)("div",{className:bs.row.preview.icon(),children:(0,yn.jsx)(of,{})})}),(0,yn.jsxs)(ut,{children:[e.parents.length>0&&(0,yn.jsx)(lo,{children:(0,yn.jsx)(At.Small,{children:(0,yn.jsx)(K,{center:!0,gap:3,children:e.parents.map(({id:t,title:n})=>(0,yn.jsx)(DG.Fragment,{children:n},t)).reduce((t,n,r)=>[t,(0,yn.jsx)(as,{},r),n])})})}),(0,yn.jsx)(lo,{children:(0,yn.jsx)(Ze,{label:e.title})})]}),e.extension&&(0,yn.jsx)(eo,{style:{marginLeft:"auto"},children:e.extension.slice(1).toUpperCase()})]})}function RG(e){return(0,yn.jsxs)("div",{className:bs.thumb(),title:e.title,children:[(0,yn.jsx)("div",{className:bs.thumb.preview(),style:{backgroundImage:e.averageColor&&`linear-gradient(45deg, ${lp(e.averageColor,.6)} 0%, ${lp(e.averageColor,.8)} 100%)`},children:e.preview?(0,yn.jsx)("img",{src:e.preview,className:bs.thumb.preview.image()}):(0,yn.jsx)("div",{className:bs.thumb.preview.icon(),children:(0,yn.jsx)(of,{style:{fontSize:Me(36)}})})}),(0,yn.jsxs)("div",{className:bs.thumb.footer(),children:[(0,yn.jsx)("p",{className:bs.thumb.footer.title(),children:e.title}),(0,yn.jsxs)("p",{className:bs.thumb.footer.details(),children:[e.extension?.slice(1).toUpperCase(),e.width&&e.height&&` - ${e.width}x${e.height}`,e.size&&(0,yn.jsx)("span",{style:{marginLeft:"auto"},children:V1(e.size)})]})]})]})}var OG={"alinea/field/check/CheckField.view#CheckInput":GU,"alinea/field/code/CodeField.view#CodeInput":XU,"alinea/field/date/DateField.view#DateInput":ZU,"alinea/field/hidden/HiddenField.view#HiddenInput":ej,"alinea/field/json/JsonField.view#JsonInput":tj,"alinea/field/link/LinkField.view#SingleLinkInput":_j,"alinea/field/link/LinkField.view#MultipleLinksInput":Fj,"alinea/field/list/ListField.view#ListInput":jj,"alinea/field/metadata/MetadataField.view#MetadataInput":$j,"alinea/field/number/NumberField.view#NumberInput":Kj,"alinea/field/object/ObjectField.view#ObjectInput":Wj,"alinea/field/path/PathField.view#PathInput":Qj,"alinea/field/richtext/RichTextField.view#RichTextInput":mG,"alinea/field/select/SelectField.view#SelectInput":yG,"alinea/field/tabs/Tabs.view#TabsView":wL,"alinea/field/text/TextField.view#TextInput":wG,"alinea/field/time/TimeField.view#TimeInput":xG,"alinea/dashboard/view/MediaExplorer#MediaExplorer":SG,"alinea/dashboard/view/media/FileEntry#FileEntry":kG,"alinea/dashboard/view/media/FileSummary#FileSummaryRow":MG,"alinea/dashboard/view/media/FileSummary#FileSummaryThumb":RG};var rEe=new URL(import.meta.url).searchParams,iEe=rEe.get("handlerUrl");jU(iEe,YU,OG);
/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

alinea/dist/chunks/chunk-RSX2DILK.js:
  (*! Bundled license information:
  
  comlink/dist/esm/comlink.mjs:
    (**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: Apache-2.0
     *)
  *)

alinea/dist/dashboard/view/explorer/Explorer.js:
  (*! Bundled license information:
  
  react-is/cjs/react-is.production.min.js:
    (** @license React v16.13.1
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
  
  react-is/cjs/react-is.development.js:
    (** @license React v16.13.1
     * react-is.development.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
  
  object-assign/index.js:
    (*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    *)
  
  react-tiny-virtual-list/build/react-tiny-virtual-list.es.js:
    (*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0
    
    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.
    
    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** *)
  *)

alinea/dist/field/richtext/RichTextField.view.js:
  (*! Bundled license information:
  
  @tiptap/react/dist/index.js:
    (**
     * @license React
     * use-sync-external-store-shim.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
    (**
     * @license React
     * use-sync-external-store-shim.development.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
  
  @tiptap/react/dist/index.js:
    (**
     * @license React
     * use-sync-external-store-shim/with-selector.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
    (**
     * @license React
     * use-sync-external-store-shim/with-selector.development.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     *)
  *)
*/
